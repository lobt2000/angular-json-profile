(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("uXP2"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(l){if(n)return null;throw l}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var l=Object(r.e)(s.value,2),a=l[1],u=this.normalizeInstanceIdentifier(l[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),l=n("2fFW"),a=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let l=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(l=Object.create(e),Object(r.a)(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;l.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=l.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return l.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return de})),n.d(e,"b",(function(){return di})),n.d(e,"c",(function(){return li})),n.d(e,"d",(function(){return si})),n.d(e,"e",(function(){return oi})),n.d(e,"f",(function(){return hs})),n.d(e,"g",(function(){return Gi})),n.d(e,"h",(function(){return Xt})),n.d(e,"i",(function(){return wi})),n.d(e,"j",(function(){return De})),n.d(e,"k",(function(){return gi})),n.d(e,"l",(function(){return Fe})),n.d(e,"m",(function(){return lt})),n.d(e,"n",(function(){return ni})),n.d(e,"o",(function(){return U})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return L})),n.d(e,"r",(function(){return re})),n.d(e,"s",(function(){return sn})),n.d(e,"t",(function(){return on})),n.d(e,"u",(function(){return pi})),n.d(e,"v",(function(){return Q})),n.d(e,"w",(function(){return Wi})),n.d(e,"x",(function(){return K})),n.d(e,"y",(function(){return Vi})),n.d(e,"z",(function(){return Ii})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return hi})),n.d(e,"C",(function(){return ci})),n.d(e,"D",(function(){return ze})),n.d(e,"E",(function(){return qe})),n.d(e,"F",(function(){return Be})),n.d(e,"G",(function(){return Ge})),n.d(e,"H",(function(){return Qt})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Ji})),n.d(e,"K",(function(){return Ki})),n.d(e,"L",(function(){return cn})),n.d(e,"M",(function(){return ji})),n.d(e,"N",(function(){return We})),n.d(e,"O",(function(){return $e})),n.d(e,"P",(function(){return dn})),n.d(e,"Q",(function(){return X})),n.d(e,"R",(function(){return qi})),n.d(e,"S",(function(){return It})),n.d(e,"T",(function(){return A})),n.d(e,"U",(function(){return St})),n.d(e,"V",(function(){return os})),n.d(e,"W",(function(){return Mi})),n.d(e,"X",(function(){return Me})),n.d(e,"Y",(function(){return fi})),n.d(e,"Z",(function(){return ee})),n.d(e,"ab",(function(){return ke})),n.d(e,"bb",(function(){return Wt})),n.d(e,"cb",(function(){return At})),n.d(e,"db",(function(){return gt})),n.d(e,"eb",(function(){return ds})),n.d(e,"fb",(function(){return ai})),n.d(e,"gb",(function(){return ls})),n.d(e,"hb",(function(){return as})),n.d(e,"ib",(function(){return us})),n.d(e,"jb",(function(){return cs})),n.d(e,"kb",(function(){return Ae})),n.d(e,"lb",(function(){return ei})),n.d(e,"mb",(function(){return bt})),n.d(e,"nb",(function(){return wt})),n.d(e,"ob",(function(){return yt})),n.d(e,"pb",(function(){return vt})),n.d(e,"qb",(function(){return _t})),n.d(e,"rb",(function(){return br})),n.d(e,"sb",(function(){return Lo})),n.d(e,"tb",(function(){return Pn})),n.d(e,"ub",(function(){return Ur})),n.d(e,"vb",(function(){return fs})),n.d(e,"wb",(function(){return Ie})),n.d(e,"xb",(function(){return is})),n.d(e,"yb",(function(){return Oe})),n.d(e,"zb",(function(){return Te})),n.d(e,"Ab",(function(){return mt})),n.d(e,"Bb",(function(){return M})),n.d(e,"Cb",(function(){return be})),n.d(e,"Db",(function(){return _e})),n.d(e,"Eb",(function(){return ye})),n.d(e,"Fb",(function(){return cr})),n.d(e,"Gb",(function(){return ur})),n.d(e,"Hb",(function(){return Cs})),n.d(e,"Ib",(function(){return xr})),n.d(e,"Jb",(function(){return Os})),n.d(e,"Kb",(function(){return Fr})),n.d(e,"Lb",(function(){return Is})),n.d(e,"Mb",(function(){return Vr})),n.d(e,"Nb",(function(){return vs})),n.d(e,"Ob",(function(){return Se})),n.d(e,"Pb",(function(){return rt})),n.d(e,"Qb",(function(){return x})),n.d(e,"Rb",(function(){return xs})),n.d(e,"Sb",(function(){return xn})),n.d(e,"Tb",(function(){return pt})),n.d(e,"Ub",(function(){return Ps})),n.d(e,"Vb",(function(){return C})),n.d(e,"Wb",(function(){return G}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),l=n("7o/Q");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends l.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}const g="__parameters__";function m(t,e,n){return(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(g)?t[g]:Object.defineProperty(t,g,{value:[]})[g];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})()}const b=m("Inject",t=>({token:t})),v=m("Optional"),y=m("Self"),_=m("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return I(t,t[O])||I(t,t[T])}function I(t,e){return e&&e.token===t?e:null}const O=E({"\u0275prov":E}),T=E({ngInjectableDef:E});function x(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(x).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const k=E({__forward_ref__:E});function A(t){return t.__forward_ref__=A,t.toString=function(){return x(this())},t}function P(t){return"function"==typeof(e=t)&&e.hasOwnProperty(k)&&e.__forward_ref__===A?t():t;var e}const R="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global,M=R||D||j||N;class L{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const U=new L("INJECTOR",-1),F={},V=/\n/gm,q="__source",B=E({provide:String,useValue:E});let z=void 0;function H(t){const e=z;return z=t,e}function G(t,e=w.Default){return function(t,e=w.Default){if(void 0===z)throw new Error("inject() must be called from an injection context");return null===z?function(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;throw new Error(`Injector: NOT_FOUND [${x(t)}]`)}(t,0,e):z.get(t,e&w.Optional?null:void 0,e)}(P(t),e)}class ${get(t,e=F){if(e===F){const e=new Error(`NullInjectorError: No provider for ${x(t)}!`);throw e.name="NullInjectorError",e}return e}}function W(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=x(e);if(Array.isArray(e))i=e.map(x).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):x(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(V,"\n  ")}`}class K{}class Q{}function J(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Z(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Y(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}var X=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const tt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();class et{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}let nt=void 0;function rt(t){nt=t}function it(t){return t.ngDebugContext}function st(t){return t.ngOriginalError}function ot(t,...e){t.error(...e)}class lt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ot}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?it(t)?it(t):this._findContext(st(t)):null}_findOriginalError(t){let e=st(t);for(;e&&st(e);)e=st(e);return e}}class at{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ut extends at{getTypeName(){return"HTML"}}class ct extends at{getTypeName(){return"Style"}}class ht extends at{getTypeName(){return"Script"}}class dt extends at{getTypeName(){return"URL"}}class ft extends at{getTypeName(){return"ResourceURL"}}function pt(t){return t instanceof at?t.changingThisBreaksApplicationSecurity:t}function gt(t,e){const n=mt(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function mt(t){return t instanceof at&&t.getTypeName()||null}function bt(t){return new ut(t)}function vt(t){return new ct(t)}function yt(t){return new ht(t)}function _t(t){return new dt(t)}function wt(t){return new ft(t)}let Et=!0,Ct=!1;function St(){return Ct=!0,Et}function It(){if(Ct)throw new Error("Cannot enable prod mode after platform setup.");Et=!1}class Ot{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Tt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const xt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function At(t){return(t=String(t)).match(xt)||t.match(kt)?t:(St()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Pt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Rt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const jt=Pt("area,br,col,hr,img,wbr"),Nt=Pt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dt=Pt("rp,rt"),Mt=Rt(Dt,Nt),Lt=Rt(jt,Rt(Nt,Pt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rt(Dt,Pt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mt),Ut=Pt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ft=Pt("srcset"),Vt=Rt(Ut,Ft,Pt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qt=Pt("script,style,template");class Bt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Lt.hasOwnProperty(e))return this.sanitizedSomething=!0,!qt.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Vt.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Ut[s]&&(o=At(o)),Ft[s]&&(r=o,o=(r=String(r)).split(",").map(t=>At(t.trim())).join(", ")),this.buf.push(" ",e,'="',Gt(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Lt.hasOwnProperty(e)&&!jt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Gt(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const zt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ht=/([^\#-~ |!])/g;function Gt(t){return t.replace(/&/g,"&amp;").replace(zt,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ht,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $t;function Wt(t,e){let n=null;try{$t=$t||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Ot:new Tt(t)}(t);let r=e?String(e):"";n=$t.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=$t.getInertBodyElement(r)}while(r!==s);const o=new Bt,l=o.sanitizeChildren(Kt(n)||n);return St()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n){const t=Kt(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Kt(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Jt(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(Zt,(...t)=>"-"+t[1].toLowerCase())}const Zt=/([A-Z])/g;function Yt(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Xt=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>te(),t})();const te=(...t)=>{},ee=new L("Set Injector scope."),ne=function(t,e,n){return new ae(t,e,n)};let re=(()=>{class t{static create(t,e){return Array.isArray(t)?ne(t,e,""):ne(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=F,t.NULL=new $,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>G(U)}),t.__NG_ELEMENT_ID__=-1,t})();const ie=function(t){return t},se=[],oe=ie,le=function(){return Array.prototype.slice.call(arguments)};class ae{constructor(t,e=re.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(re,{token:re,fn:ie,deps:se,value:this,useNew:!1}),r.set(U,{token:U,fn:ie,deps:se,value:this,useNew:!1}),this.scope=function t(e,n){let r=null;if(n)if(n=P(n),Array.isArray(n))for(let i=0;i<n.length;i++)r=t(e,n[i])||r;else{if("function"==typeof n)throw he("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw he("Unexpected provider",n);{let t=P(n.provide);const i=ue(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==le)throw ce(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:le,value:se});t=n,r.deps.push({token:t,options:6})}const s=e.get(t);if(s&&s.fn==le)throw ce(t);t===ee&&(r=i.value),e.set(t,i)}}return r}(r,t)}get(t,e,n=w.Default){const r=this._records;let i=r.get(t);if(void 0===i){const e=S(t);if(e){const n=e&&e.providedIn;("any"===n||null!=n&&n===this.scope)&&r.set(t,i=ue({provide:t,useFactory:e.factory,deps:se}))}void 0===i&&r.set(t,null)}let s=H(this);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let l;if(!n||o&w.SkipSelf)l=o&w.Self?re.NULL.get(e,o&w.Optional?void 0!==s?s:null:s):i.get(e,s,w.Default);else{if(l=n.value,l==oe)throw Error("\u0275Circular dependency");if(l===se){n.value=oe;let e=void 0,s=n.useNew,o=n.fn,a=n.deps,u=se;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],s=n.options,o=2&s?r.get(n.token):void 0;u.push(t(n.token,o,r,o||4&s?i:re.NULL,1&s?null:re.THROW_IF_NOT_FOUND,w.Default))}}n.value=l=s?new o(...u):o.apply(e,u)}}return l}(e,n,r,i,s,o)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(e),n&&n.value==oe&&(n.value=se),l}}(t,i,r,this.parent,e,n)}catch(o){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[q]&&i.unshift(e[q]),t.message=W("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,0,this.source)}finally{H(s)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(x(n))),`StaticInjector[${t.join(", ")}]`}}function ue(t){const e=function(t){let e=se;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=P(n[t]);if(Array.isArray(i))for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof v||n==v?r|=1:n instanceof _||n==_?r&=-3:n instanceof y||n==y?r&=-5:i=n instanceof b?n.token:P(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:P(t.useExisting),options:6}];else if(!n&&!(B in t))throw he("'deps' required",t);return e}(t);let n=ie,r=se,i=!1,s=P(t.provide);if(B in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=P(t.useClass);else{if("function"!=typeof s)throw he("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}function ce(t){return he("Cannot mix multi providers and regular providers",t)}function he(t,e){return new Error(W(t,e,"StaticInjectorError"))}const de=new L("AnalyzeForEntryComponents");let fe=null;function pe(){if(!fe){const t=M.Symbol;if(t&&t.iterator)fe=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(fe=n)}}}return fe}function ge(t,e){const n=be(t),r=be(e);if(n&&r)return function(t,e,n){const r=t[pe()](),i=e[pe()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,ge);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||Object.is(t,e)}}class me{constructor(t){this.wrapped=t}static wrap(t){return new me(t)}static unwrap(t){return me.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof me}}function be(t){return!!ve(t)&&(Array.isArray(t)||!(t instanceof Map)&&pe()in t)}function ve(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ye(t){return!!t&&"function"==typeof t.then}function _e(t){return!!t&&"function"==typeof t.subscribe}const we=void 0;var Ee=["en",[["a","p"],["AM","PM"],we],[["AM","PM"],we,we],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],we,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],we,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",we,"{1} 'at' {0}",we],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ce={};function Se(t,e,n){"string"!=typeof e&&(n=e,e=t[ke.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ce[e]=t,n&&(Ce[e][ke.ExtraData]=n)}function Ie(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xe(e);if(n)return n;const r=e.split("-")[0];if(n=xe(r),n)return n;if("en"===r)return Ee;throw new Error(`Missing locale data for the locale "${t}".`)}function Oe(t){return Ie(t)[ke.CurrencyCode]||null}function Te(t){return Ie(t)[ke.PluralCase]}function xe(t){return t in Ce||(Ce[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),Ce[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ae="USD";class Pe{}function Re(t){const e=Error(`No component factory found for ${x(t)}. Did you add it to @NgModule.entryComponents?`);return e[je]=t,e}const je="ngComponent";class Ne{resolveComponentFactory(t){throw Re(t)}}let De=(()=>{class t{}return t.NULL=new Ne,t})();class Me{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Re(t);return new Le(e,this._ngModule)}}class Le extends Pe{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Ue(...t){}let Fe=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ve(t),t})();const Ve=Ue;class qe{}var Be=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ze=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>He(),t})();const He=Ue;let Ge=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class $e{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const We=new $e("10.2.3");class Ke{constructor(){}supports(t){return be(t)}create(t){return new Je(t)}}const Qe=(t,e)=>e;class Je{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<tn(n,r,i)?e:n,o=tn(s,r,i),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=l-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==l&&t(s,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!be(t))throw new Error(`Error trying to diff '${x(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[pe()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ze(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xe),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xe),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ze{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ye{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Xe{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ye,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class en{constructor(){}supports(t){return t instanceof Map||ve(t)}create(){return new nn}}class nn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ve(t)))throw new Error(`Error trying to diff '${x(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new rn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class rn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let sn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new Ke])}),t})(),on=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new en])}),t})();const ln=[new en],an=new sn([new Ke]),un=new on(ln);let cn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>hn(t,Fe),t})();const hn=Ue;let dn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fn(t,Fe),t})();const fn=Ue;function pn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return gn(n,e),n}(i,t)}function gn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function mn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function bn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function vn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function yn(t,e){return t.nodes[e]}function _n(t,e){return t.nodes[e]}function wn(t,e){return t.nodes[e]}function En(t,e){return t.nodes[e]}function Cn(t,e){return t.nodes[e]}const Sn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},In=()=>{},On=new Map;function Tn(t){let e=On.get(t);return e||(e=x(t)+"_"+On.size,On.set(t,e)),e}function xn(t,e,n,r){if(me.isWrapped(r)){r=me.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,s=me.unwrap(t.oldValues[i]);t.oldValues[i]=new me(s)}return r}const kn="$$undefined",An="$$empty";function Pn(t){return{id:kn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Rn=0;function jn(t,e,n,r){return!(!(2&t.state)&&Object.is(t.oldValues[e.bindingIndex+n],r))}function Nn(t,e,n,r){return!!jn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Dn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!ge(i,r)){const s=e.bindings[n].name;throw pn(Sn.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function Mn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ln(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Un(t,e,n,r){try{return Mn(33554432&t.def.nodes[e].flags?_n(t,e).componentView:t),Sn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Fn(t){return t.parent?_n(t.parent,t.parentNodeDef.nodeIndex):null}function Vn(t){return t.parent?t.parentNodeDef.parent:null}function qn(t,e){switch(201347067&e.flags){case 1:return _n(t,e.nodeIndex).renderElement;case 2:return yn(t,e.nodeIndex).renderText}}function Bn(t,e){return t?`${t}:${e}`:e}function zn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Hn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Gn(t){return 1<<t%32}function $n(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Gn(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Wn(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,q,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Tn(n)}})}function Kn(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===X.Native?_n(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Qn=new WeakMap;function Jn(t){let e=Qn.get(t);return e||(e=t(()=>In),e.factory=t,Qn.set(t,e)),e}function Zn(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(qn(t,t.def.lastRenderRootNode))),Yn(t,e,0,t.def.nodes.length-1,n,r,i)}function Yn(t,e,n,r,i,s,o){for(let l=n;l<=r;l++){const n=t.def.nodes[l];11&n.flags&&tr(t,n,e,i,s,o),l+=n.childCount}}function Xn(t,e,n,r,i,s){let o=t;for(;o&&!zn(o);)o=o.parent;const l=o.parent,a=Vn(o),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=l.def.nodes[c];t.ngContentIndex===e&&tr(l,t,n,r,i,s),c+=t.childCount}if(!l.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)er(t,o[e],n,r,i,s)}}function tr(t,e,n,r,i,s){if(8&e.flags)Xn(t,e.ngContent.index,n,r,i,s);else{const o=qn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&er(t,o,n,r,i,s),32&e.bindingFlags&&er(_n(t,e.nodeIndex).componentView,o,n,r,i,s)):er(t,o,n,r,i,s),16777216&e.flags){const o=_n(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)Zn(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&Yn(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function er(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const nr=/^:([^:]+):(.+)$/;function rr(t){if(":"===t[0]){const e=t.match(nr);return[e[1],e[2]]}return["",t]}function ir(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const sr={},or=Tn(re),lr=Tn(U),ar=Tn(K);function ur(t,e,n,r){return n=P(n),{index:-1,deps:Wn(r,x(e)),flags:t,token:e,value:n}}function cr(t){const e={},n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];s.token===ee&&(r=s.value),1073741824&s.flags&&n.push(s.token),s.index=i,e[Tn(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,scope:r}}function hr(t,e,n=re.THROW_IF_NOT_FOUND){const r=H(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case or:case lr:case ar:return t}const s=t._def.providersByKey[i];let o;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=dr(t,s)),e===sr?void 0:e}if((o=S(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,o)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:o.factory,deps:[],index:n,token:e.token},t._providers[n]=sr,t._providers[n]=dr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{H(r)}}function dr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(hr(t,n[0]));case 2:return new e(hr(t,n[0]),hr(t,n[1]));case 3:return new e(hr(t,n[0]),hr(t,n[1]),hr(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=hr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(hr(t,n[0]));case 2:return e(hr(t,n[0]),hr(t,n[1]));case 3:return e(hr(t,n[0]),hr(t,n[1]),hr(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=hr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=hr(t,e.deps[0]);break;case 256:n=e.value}return n===sr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?sr:n}function fr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Z(n,e),Sn.dirtyParentQueries(r),gr(r),r}function pr(t,e,n){const r=e?qn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Zn(n,2,i,s,void 0)}function gr(t){Zn(t,3,null,null,void 0)}const mr={};function br(t,e,n,r,i,s){return new vr(t,e,n,r,i,s)}class vr extends Pe{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Jn(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=Sn.createRootView(t,e||[],n,i,r,mr),l=wn(o,s).instance;return n&&o.renderer.setAttribute(_n(o,0).renderElement,"ng-version",We.full),new yr(o,new Cr(o),l)}}class yr extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Fe(_n(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Tr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function _r(t,e,n){return new wr(t,e,n)}class wr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Fe(this._data.renderElement)}get injector(){return new Tr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Vn(t),t=t.parent;return t?new Tr(t,e):new Tr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=fr(this._data,t);Sn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Cr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof Le||(i=s.get(K));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,J(i,n,r),function(t,e){const n=Fn(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Sn.dirtyParentQueries(r),pr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Z(r,e),null==n&&(n=r.length),J(r,n,i),Sn.dirtyParentQueries(i),gr(i),pr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=fr(this._data,t);e&&Sn.destroyView(e)}detach(t){const e=fr(this._data,t);return e?new Cr(e):null}}function Er(t){return new Cr(t)}class Cr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Zn(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Mn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Sn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Sn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Sn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,gr(this._view),Sn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Sr(t,e){return new Ir(t,e)}class Ir extends cn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Cr(Sn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Fe(_n(this._parentView,this._def.nodeIndex).renderElement)}}function Or(t,e){return new Tr(t,e)}class Tr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=re.THROW_IF_NOT_FOUND){return Sn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Tn(t)},e)}}function xr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=_n(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return yn(t,n.nodeIndex).renderText;if(20240&n.flags)return wn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function kr(t,e,n,r){return new Ar(t,e,n,r)}class Ar{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=Y(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=dr(t,i))}}(this)}get(t,e=re.THROW_IF_NOT_FOUND,n=w.Default){let r=0;return n&w.SkipSelf?r|=1:n&w.Self&&(r|=4),hr(this,{token:t,tokenKey:Tn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(De)}destroy(){if(this._destroyed)throw new Error(`The ng module ${x(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==sr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Pr=Tn(ze),Rr=Tn(Fe),jr=Tn(dn),Nr=Tn(cn),Dr=Tn(Xt),Mr=Tn(re),Lr=Tn(U);function Ur(t,e,n,r,i,s,o,l){const a=[];if(o)for(let c in o){const[t,e]=o[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(l)for(let c in l)u.push({type:1,propName:c,target:null,eventName:l[c]});return qr(t,e|=16384,n,r,i,i,s,a,u)}function Fr(t,e,n){return qr(-1,t|=16,null,0,e,e,n)}function Vr(t,e,n,r,i){return qr(-1,t,e,0,n,r,i)}function qr(t,e,n,r,i,s,o,l,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=$n(n);a||(a=[]),l||(l=[]),s=P(s);const d=Wn(o,x(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:ir(l),outputs:a,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function Br(t,e){return $r(t,e)}function zr(t,e){let n=t;for(;n.parent&&!zn(n);)n=n.parent;return Wr(n.parent,Vn(n),!0,e.provider.value,e.provider.deps)}function Hr(t,e){const n=Wr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!_e(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(Gr(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Gr(t,e,n){return r=>Un(t,e,n,r)}function $r(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Wr(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Qr(t,e,n,i[0]));case 2:return r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]));case 3:return r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]),Qr(t,e,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(Qr(t,e,n,i[r]));return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return Qr(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Wr(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Qr(t,e,n,i[0]));case 2:return new r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]));case 3:return new r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]),Qr(t,e,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(Qr(t,e,n,i[r]));return new r(...o)}}const Kr={};function Qr(t,e,n,r,i=re.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===Dr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let l=t;for(;l;){if(e)switch(o){case Pr:return Jr(l,e,n).renderer;case Rr:return new Fe(_n(l,e.nodeIndex).renderElement);case jr:return _n(l,e.nodeIndex).viewContainer;case Nr:if(e.element.template)return _n(l,e.nodeIndex).template;break;case Dr:return Er(Jr(l,e,n));case Mr:case Lr:return Or(l,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=wn(l,t.nodeIndex);return e||(e={instance:$r(l,t)},l.nodes[t.nodeIndex]=e),e.instance}}n=zn(l),e=Vn(l),l=l.parent,4&r.flags&&(l=null)}const a=s.root.injector.get(r.token,Kr);return a!==Kr||i===Kr?a:s.root.ngModule.injector.get(r.token,i)}function Jr(t,e,n){let r;if(n)r=_n(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!zn(r);)r=r.parent;return r}function Zr(t,e,n,r,i,s){if(32768&n.flags){const e=_n(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=me.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new et(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function Yr(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&ti(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=Xr(t,o,e,r)),o=o.parent}}function Xr(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&ti(t,i,e.flags&n,r++),i+=e.childCount}return r}function ti(t,e,n,r){const i=wn(t,e);if(!i)return;const s=i.instance;s&&(Sn.setCurrentNode(t,e),1048576&n&&vn(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&vn(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const ei=new L("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tt}),ni=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const l=super.subscribe(r,s,o);return t instanceof i.a&&t.add(l),l}};function ri(){return this._results[pe()]()}class ii{constructor(){this.dirty=!0,this._results=[],this.changes=new ni,this.length=0;const t=pe(),e=ii.prototype;e[t]||(e[t]=ri)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const si=new L("Application Initializer");class oi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ye(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const li=new L("AppId");function ai(){return`${ui()}${ui()}${ui()}`}function ui(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ci=new L("Platform Initializer"),hi=new L("Platform ID"),di=new L("appBootstrapListener");class fi{log(t){console.log(t)}warn(t){console.warn(t)}}const pi=new L("LocaleId"),gi=new L("DefaultCurrencyCode");function mi(){throw new Error("Runtime compiler is not loaded")}const bi=mi,vi=mi,yi=mi,_i=mi;class wi{constructor(){this.compileModuleSync=bi,this.compileModuleAsync=vi,this.compileModuleAndAllComponentsSync=yi,this.compileModuleAndAllComponentsAsync=_i}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Ei{}const Ci=(()=>Promise.resolve(0))();function Si(t){"undefined"==typeof Zone?Ci.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ii{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ki(t),xi(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ki(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,l)=>{try{return Ai(t),n.invokeTask(i,s,o,l)}finally{e&&"eventTask"===s.type&&e(),Pi(t)}},onInvoke:(e,n,r,i,s,o,l)=>{try{return Ai(t),e.invoke(r,i,s,o,l)}finally{Pi(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ki(t),xi(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ii.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ii.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ti,Oi,Oi);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Oi(){}const Ti={};function xi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ki(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ai(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pi(t){t._nesting--,xi(t)}class Ri{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}class ji{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ii.assertNotInAngularZone(),Si(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Si(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Ni{constructor(){this._applications=new Map,Ui.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ui.findTestabilityInTree(this,t,e)}}class Di{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Mi(t){Ui=t}let Li,Ui=new Di;const Fi=new L("AllowMultipleToken");class Vi{constructor(t,e){this.name=t,this.token=e}}function qi(t,e,n=[]){const r="Platform: "+e,i=new L(r);return(e=[])=>{let s=Bi();if(!s||s.injector.get(Fi,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ee,useValue:"platform"});!function(t){if(Li&&!Li.destroyed&&!Li.injector.get(Fi,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Li=t.get(zi);const e=t.get(ci,null);e&&e.forEach(t=>t())}(re.create({providers:t,name:r}))}return function(t){const e=Bi();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Bi(){return Li&&!Li.destroyed?Li:null}class zi{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ri:("zone.js"===t?void 0:t)||new Ii({enableLongStackTrace:St(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ii,useValue:n}];return n.run(()=>{const e=re.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(lt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>$i(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return ye(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(oi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Hi({},e);return function(t,e,n){return t.get(Ei).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Gi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${x(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Hi(t,e){return Array.isArray(e)?e.reduce(Hi,t):Object.assign(Object.assign({},t),e)}class Gi{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=St(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ii.assertNotInAngularZone(),Si(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ii.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Pe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof Le?void 0:this._injector.get(K),i=n.create(re.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ji,null);return s&&i.injector.get(Ni).registerApplication(i.location.nativeElement,s),this._loadComponent(i),St()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;$i(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(di,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),$i(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function $i(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wi{}class Ki{}const Qi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ji{constructor(t,e){this._compiler=t,this._config=e||Qi}load(t){return this._compiler instanceof wi?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Zi(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Zi(t,e,r))}}function Zi(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Yi{constructor(t,e){this.name=t,this.callback=e}}class Xi{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ts&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ts extends Xi{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof ts&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof ts&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof ts&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ts)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const es=new Map;function ns(t){return es.get(t)||null}const rs=ns,is=function(t){return ns(t)};function ss(t){es.set(t.nativeNode,t)}const os=qi(null,"core",[{provide:hi,useValue:"unknown"},{provide:zi,deps:[re]},{provide:Ni,deps:[]},{provide:fi,deps:[]}]);function ls(){return an}function as(){return un}function us(t){return t||"en-US"}function cs(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class hs{constructor(t){}}function ds(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:l,matchedQueryIds:a}=$n(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Jn(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||In},provider:null,text:null,query:null,ngContent:null}}function fs(t,e,n,r,i,s,o=[],l,a,u,c,h){u||(u=In);const{matchedQueries:d,references:f,matchedQueryIds:p}=$n(n);let g=null,m=null;s&&([g,m]=rr(s)),l=l||[];const b=[];for(let _=0;_<l.length;_++){const[t,e,n]=l[_],[r,i]=rr(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}b[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}a=a||[];const v=[];for(let _=0;_<a.length;_++){const[t,e]=a[_];v[_]={type:0,target:t,eventName:e,propName:null}}const y=(o=o||[]).map(([t,e])=>{const[n,r]=rr(t);return[n,r,e]});return h=function(t){if(t&&t.id===kn){const e=null!=t.encapsulation&&t.encapsulation!==X.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Rn++:An}return t&&t.id===An&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:ir(b),outputs:v,element:{ns:g,name:m,attrs:y,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||In},provider:null,text:null,query:null,ngContent:null}}function ps(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Kn(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===X.ShadowDom);if(r.attrs)for(let l=0;l<r.attrs.length;l++){const[t,e,n]=r.attrs[l];s.setAttribute(o,e,n,t)}return o}function gs(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const s=n.outputs[i],o=ms(t,n.nodeIndex,Bn(s.target,s.eventName));let l=s.target,a=t;"component"===s.target&&(l=null,a=e);const u=a.renderer.listen(l||r,s.eventName,o);t.disposables[n.outputIndex+i]=u}}function ms(t,e,n){return r=>Un(t,e,n,r)}function bs(t,e,n,r){if(!Nn(t,e,n,r))return!1;const i=e.bindings[n],s=_n(t,e.nodeIndex),o=s.renderElement,l=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let l=o?t.root.sanitizer.sanitize(o,s):s;l=null!=l?l.toString():null;const a=t.renderer;null!=s?a.setAttribute(n,i,l,r):a.removeAttribute(n,i,r)}(t,i,o,i.ns,l,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,l,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Qt.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,l,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,l,r)}return!0}function vs(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Gn(e),bindings:r},ngContent:null}}function ys(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Hn(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Cn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Cn(t,n).setDirty(),n+=e.childCount}}function _s(t,e){const n=Cn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=ws(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=wn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ws(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let l=0;l<s.length;l++){const t=s[l];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function ws(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(Es(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=_n(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(ws(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=Fn(s);o&&o===n&&ws(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];ws(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function Es(t,e,n){if(null!=n)switch(n){case 1:return _n(t,e.nodeIndex).renderElement;case 0:return new Fe(_n(t,e.nodeIndex).renderElement);case 2:return _n(t,e.nodeIndex).template;case 3:return _n(t,e.nodeIndex).viewContainer;case 4:return wn(t,e.nodeIndex).instance}}function Cs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ss(t,e,n){const r=Kn(t,e,n);r&&Xn(t,n.ngContent.index,1,r,null,void 0)}function Is(t,e){return Ts(128,t,Y(e+1))}function Os(t,e){return Ts(32,t,Y(e))}function Ts(t,e,n){const r=[];for(let i=0;i<n.length;i++){const t=n[i];r.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ir(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function xs(t,e,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ks(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=Kn(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function As(t,e){return(null!=t?t.toString():"")+e.suffix}function Ps(t,e,n,r){let i=0,s=0,o=0,l=0,a=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if(js(u,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Tn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Tn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):l|=t.flags,t.childCount>0)u=t,Rs(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Rs(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:l,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||In,updateRenderer:r||In,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:f}}function Rs(t){return 0!=(1&t.flags)&&null===t.element.name}function js(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Ns(t,e,n,r){const i=Ls(t.root,t.renderer,t,e,n);return Us(i,t.component,r),Fs(i),i}function Ds(t,e,n){const r=Ls(t,t.renderer,null,null,e);return Us(r,n,n),Fs(r),r}function Ms(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ls(t.root,s,t,e.element.componentProvider,n)}function Ls(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Us(t,e,n){t.component=e,t.context=n}function Fs(t){let e;zn(t)&&(e=_n(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(Sn.setCurrentNode(t,i),201347067&s.flags){case 1:const n=ps(t,e,s);let l=void 0;if(33554432&s.flags){const e=Jn(s.element.componentView);l=Sn.createComponentView(t,s,e,n)}gs(t,l,s,n),o={renderElement:n,componentView:l,viewContainer:null,template:s.element.template?Sr(t,s):void 0},16777216&s.flags&&(o.viewContainer=_r(t,s,o));break;case 2:o=ks(t,e,s);break;case 512:case 1024:case 2048:case 256:o=r[i],o||4096&s.flags||(o={instance:Br(t,s)});break;case 16:o={instance:zr(t,s)};break;case 16384:o=r[i],o||(o={instance:Hr(t,s)}),32768&s.flags&&Us(_n(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ii;break;case 8:Ss(t,e,s),o=void 0}r[i]=o}Ks(t,Ws.CreateViewNodes),Ys(t,201326592,268435456,0)}function Vs(t){zs(t),Sn.updateDirectives(t,1),Qs(t,Ws.CheckNoChanges),Sn.updateRenderer(t,1),Ks(t,Ws.CheckNoChanges),t.state&=-97}function qs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,bn(t,0,256),zs(t),Sn.updateDirectives(t,0),Qs(t,Ws.CheckAndUpdate),Ys(t,67108864,536870912,0);let e=bn(t,256,512);Yr(t,2097152|(e?1048576:0)),Sn.updateRenderer(t,0),Ks(t,Ws.CheckAndUpdate),Ys(t,134217728,536870912,0),e=bn(t,512,768),Yr(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,bn(t,768,1024)}function Bs(t,e,n,r,i,s,o,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,l,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,l,a,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&bs(t,e,0,n)&&(f=!0),d>1&&bs(t,e,1,r)&&(f=!0),d>2&&bs(t,e,2,i)&&(f=!0),d>3&&bs(t,e,3,s)&&(f=!0),d>4&&bs(t,e,4,o)&&(f=!0),d>5&&bs(t,e,5,l)&&(f=!0),d>6&&bs(t,e,6,a)&&(f=!0),d>7&&bs(t,e,7,u)&&(f=!0),d>8&&bs(t,e,8,c)&&(f=!0),d>9&&bs(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,s,o,l,a,u,c,h);case 2:return function(t,e,n,r,i,s,o,l,a,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&Nn(t,e,0,n)&&(d=!0),p>1&&Nn(t,e,1,r)&&(d=!0),p>2&&Nn(t,e,2,i)&&(d=!0),p>3&&Nn(t,e,3,s)&&(d=!0),p>4&&Nn(t,e,4,o)&&(d=!0),p>5&&Nn(t,e,5,l)&&(d=!0),p>6&&Nn(t,e,6,a)&&(d=!0),p>7&&Nn(t,e,7,u)&&(d=!0),p>8&&Nn(t,e,8,c)&&(d=!0),p>9&&Nn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=As(n,f[0])),p>1&&(d+=As(r,f[1])),p>2&&(d+=As(i,f[2])),p>3&&(d+=As(s,f[3])),p>4&&(d+=As(o,f[4])),p>5&&(d+=As(l,f[5])),p>6&&(d+=As(a,f[6])),p>7&&(d+=As(u,f[7])),p>8&&(d+=As(c,f[8])),p>9&&(d+=As(h,f[9]));const g=yn(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,s,o,l,a,u,c,h);case 16384:return function(t,e,n,r,i,s,o,l,a,u,c,h){const d=wn(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&jn(t,e,0,n)&&(p=!0,g=Zr(t,d,e,0,n,g)),m>1&&jn(t,e,1,r)&&(p=!0,g=Zr(t,d,e,1,r,g)),m>2&&jn(t,e,2,i)&&(p=!0,g=Zr(t,d,e,2,i,g)),m>3&&jn(t,e,3,s)&&(p=!0,g=Zr(t,d,e,3,s,g)),m>4&&jn(t,e,4,o)&&(p=!0,g=Zr(t,d,e,4,o,g)),m>5&&jn(t,e,5,l)&&(p=!0,g=Zr(t,d,e,5,l,g)),m>6&&jn(t,e,6,a)&&(p=!0,g=Zr(t,d,e,6,a,g)),m>7&&jn(t,e,7,u)&&(p=!0,g=Zr(t,d,e,7,u,g)),m>8&&jn(t,e,8,c)&&(p=!0,g=Zr(t,d,e,8,c,g)),m>9&&jn(t,e,9,h)&&(p=!0,g=Zr(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&vn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,s,o,l,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,l,a,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&Nn(t,e,0,n)&&(f=!0),p>1&&Nn(t,e,1,r)&&(f=!0),p>2&&Nn(t,e,2,i)&&(f=!0),p>3&&Nn(t,e,3,s)&&(f=!0),p>4&&Nn(t,e,4,o)&&(f=!0),p>5&&Nn(t,e,5,l)&&(f=!0),p>6&&Nn(t,e,6,a)&&(f=!0),p>7&&Nn(t,e,7,u)&&(f=!0),p>8&&Nn(t,e,8,c)&&(f=!0),p>9&&Nn(t,e,9,h)&&(f=!0),f){const f=En(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=[],p>0&&g.push(n),p>1&&g.push(r),p>2&&g.push(i),p>3&&g.push(s),p>4&&g.push(o),p>5&&g.push(l),p>6&&g.push(a),p>7&&g.push(u),p>8&&g.push(c),p>9&&g.push(h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=s),p>4&&(g[d[4].name]=o),p>5&&(g[d[5].name]=l),p>6&&(g[d[6].name]=a),p>7&&(g[d[7].name]=u),p>8&&(g[d[8].name]=c),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,s);break;case 5:g=t.transform(r,i,s,o);break;case 6:g=t.transform(r,i,s,o,l);break;case 7:g=t.transform(r,i,s,o,l,a);break;case 8:g=t.transform(r,i,s,o,l,a,u);break;case 9:g=t.transform(r,i,s,o,l,a,u,c);break;case 10:g=t.transform(r,i,s,o,l,a,u,c,h)}}f.value=g}return f}(t,e,n,r,i,s,o,l,a,u,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,l,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)bs(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Nn(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=As(n[t],r[t]);i=e.text.prefix+i;const s=yn(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=wn(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let l=0;l<n.length;l++)jn(t,e,l,n[l])&&(s=!0,o=Zr(t,r,e,l,n[l],o));return o&&i.ngOnChanges(o),65536&e.flags&&vn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Nn(t,e,s,n[s])&&(i=!0);if(i){const i=En(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function zs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=_n(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Ln(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Hs(t,e,n,r,i,s,o,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,l,a,u,c,h){const d=e.bindings.length;d>0&&Dn(t,e,0,n),d>1&&Dn(t,e,1,r),d>2&&Dn(t,e,2,i),d>3&&Dn(t,e,3,s),d>4&&Dn(t,e,4,o),d>5&&Dn(t,e,5,l),d>6&&Dn(t,e,6,a),d>7&&Dn(t,e,7,u),d>8&&Dn(t,e,8,c),d>9&&Dn(t,e,9,h)}(t,e,r,i,s,o,l,a,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Dn(t,e,r,n[r])}(t,e,r),!1}function Gs(t,e){if(Cn(t,e.nodeIndex).dirty)throw pn(Sn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function $s(t){if(!(128&t.state)){if(Qs(t,Ws.Destroy),Ks(t,Ws.Destroy),Yr(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Fn(t);if(e){const n=e.template._projectedViews;n&&(Z(n,n.indexOf(t)),Sn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(_n(t,n).renderElement):2&e.flags?t.renderer.destroyNode(yn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Cn(t,n).destroy()}}(t),zn(t)&&t.renderer.destroy(),t.state|=128}}var Ws=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Ks(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Js(_n(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Qs(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=_n(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Js(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Js(t,e){const n=t.state;switch(e){case Ws.CheckNoChanges:0==(128&n)&&(12==(12&n)?Vs(t):64&n&&Zs(t,Ws.CheckNoChangesProjectedViews));break;case Ws.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Vs(t):64&n&&Zs(t,e));break;case Ws.CheckAndUpdate:0==(128&n)&&(12==(12&n)?qs(t):64&n&&Zs(t,Ws.CheckAndUpdateProjectedViews));break;case Ws.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?qs(t):64&n&&Zs(t,e));break;case Ws.Destroy:$s(t);break;case Ws.CreateViewNodes:Fs(t)}}function Zs(t,e){Qs(t,e),Ks(t,e)}function Ys(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(Sn.setCurrentNode(t,i.nodeIndex),r){case 0:_s(t,i);break;case 1:Gs(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let Xs=!1;function to(t,e,n,r,i,s){const o=i.injector.get(qe);return Ds(no(t,i,o,e,n),r,s)}function eo(t,e,n,r,i,s){const o=i.injector.get(qe),l=no(t,i,new Do(o),e,n),a=fo(r);return jo(yo.create,Ds,null,[l,a,s])}function no(t,e,n,r,i){const s=e.injector.get(Ge),o=e.injector.get(lt),l=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:l,errorHandler:o}}function ro(t,e,n,r){const i=fo(n);return jo(yo.create,Ns,null,[t,e,i,r])}function io(t,e,n,r){return n=ao.get(e.element.componentProvider.provider.token)||fo(n),jo(yo.create,Ms,null,[t,e,n,r])}function so(t,e,n,r){return kr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===oo.size||(t.providers.forEach(t=>{const r=oo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{lo.forEach((r,i)=>{S(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=oo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Wn(i.deps),r.value=i.value)}if(lo.size>0){let e=new Set(t.modules);lo.forEach((r,i)=>{if(e.has(S(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Wn(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Tn(i)]=e}})}}(t=t.factory(()=>In)),t):t}(r))}const oo=new Map,lo=new Map,ao=new Map;function uo(t){let e;oo.set(t.token,t),"function"==typeof t.token&&(e=S(t.token))&&"function"==typeof e.providedIn&&lo.set(t.token,t)}function co(t,e){const n=Jn(e.viewDefFactory),r=Jn(n.nodes[0].element.componentView);ao.set(t,r)}function ho(){oo.clear(),lo.clear(),ao.clear()}function fo(t){if(0===oo.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&oo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>In);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=oo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Wn(n.deps),t.value=n.value)}}}}function po(t,e,n,r,i,s,o,l,a,u,c,h,d){const f=t.def.nodes[e];return Bs(t,f,n,r,i,s,o,l,a,u,c,h,d),224&f.flags?En(t,e).value:void 0}function go(t,e,n,r,i,s,o,l,a,u,c,h,d){const f=t.def.nodes[e];return Hs(t,f,n,r,i,s,o,l,a,u,c,h,d),224&f.flags?En(t,e).value:void 0}function mo(t){return jo(yo.detectChanges,qs,null,[t])}function bo(t){return jo(yo.checkNoChanges,Vs,null,[t])}function vo(t){return jo(yo.destroy,$s,null,[t])}var yo=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});let _o,wo,Eo;function Co(t,e){wo=t,Eo=e}function So(t,e,n,r){return Co(t,e),jo(yo.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Io(t,e){if(128&t.state)throw mn(yo[_o]);return Co(t,ko(t,0)),t.def.updateDirectives((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?To(t,s,r,i):xo(t,s,r,i),16384&s.flags&&Co(t,ko(t,n)),224&s.flags?En(t,s.nodeIndex).value:void 0}),t)}function Oo(t,e){if(128&t.state)throw mn(yo[_o]);return Co(t,Ao(t,0)),t.def.updateRenderer((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?To(t,s,r,i):xo(t,s,r,i),3&s.flags&&Co(t,Ao(t,n)),224&s.flags?En(t,s.nodeIndex).value:void 0}),t)}function To(t,e,n,r){if(Bs(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=i[t];8&r.flags&&(n[Jt(r.nonMinifiedName)]=Yt(s))}const r=e.parent,s=_n(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}}function xo(t,e,n,r){Hs(t,e,n,...r)}function ko(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ao(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Po{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Vn(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return _n(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Or(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ro(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ro(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!zn(t);)t=t.parent;return t.parent?_n(t.parent,Vn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?qn(this.view,this.nodeDef):qn(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>(s++,s===i?t.error.bind(t,...e):In)),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ro(t,e,n){for(let r in e.references)n[r]=Es(t,e,e.references[r])}function jo(t,e,n,r){const i=_o,s=wo,o=Eo;try{_o=t;const l=e.apply(n,r);return wo=s,Eo=o,_o=i,l}catch(u){if(it(u)||!wo)throw u;throw l=u,a=No(),l instanceof Error||(l=new Error(l.toString())),gn(l,a),l}var l,a}function No(){return wo?new Po(wo,Eo):null}class Do{constructor(t){this.delegate=t}createRenderer(t,e){return new Mo(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Mo{constructor(t){this.delegate=t,this.debugContextFactory=No,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=rs(t);!function(t){es.delete(t.nativeNode)}(e),e instanceof Xi&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new ts(n,null,r);e.name=t,ss(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ss(new Xi(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ss(new Xi(e,null,n)),e}appendChild(t,e){const n=rs(t),r=rs(e);n&&r&&n instanceof ts&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=rs(t),i=rs(e),s=rs(n);r&&i&&r instanceof ts&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=rs(t),r=rs(e);n&&r&&n instanceof ts&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=No();return r&&ss(new ts(n,null,r)),n}setAttribute(t,e,n,r){const i=rs(t);i&&i instanceof ts&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=rs(t);r&&r instanceof ts&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=rs(t);n&&n instanceof ts&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=rs(t);n&&n instanceof ts&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=rs(t);i&&i instanceof ts&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=rs(t);r&&r instanceof ts&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=rs(t);r&&r instanceof ts&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=rs(t);r&&r.listeners.push(new Yi(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Lo(t,e,n){return new Uo(t,e,n)}class Uo extends Q{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Xs)return;Xs=!0;const t=St()?{setCurrentNode:Co,createRootView:eo,createEmbeddedView:ro,createComponentView:io,createNgModuleRef:so,overrideProvider:uo,overrideComponentView:co,clearOverrides:ho,checkAndUpdateView:mo,checkNoChangesView:bo,destroyView:vo,createDebugContext:(t,e)=>new Po(t,e),handleEvent:So,updateDirectives:Io,updateRenderer:Oo}:{setCurrentNode:()=>{},createRootView:to,createEmbeddedView:Ns,createComponentView:Ms,createNgModuleRef:kr,overrideProvider:In,overrideComponentView:In,clearOverrides:In,checkAndUpdateView:qs,checkNoChangesView:Vs,destroyView:$s,createDebugContext:(t,e)=>new Po(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?po:go,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?po:go,t)};Sn.setCurrentNode=t.setCurrentNode,Sn.createRootView=t.createRootView,Sn.createEmbeddedView=t.createEmbeddedView,Sn.createComponentView=t.createComponentView,Sn.createNgModuleRef=t.createNgModuleRef,Sn.overrideProvider=t.overrideProvider,Sn.overrideComponentView=t.overrideComponentView,Sn.clearOverrides=t.clearOverrides,Sn.checkAndUpdateView=t.checkAndUpdateView,Sn.checkNoChangesView=t.checkNoChangesView,Sn.destroyView=t.destroyView,Sn.resolveDep=Qr,Sn.createDebugContext=t.createDebugContext,Sn.handleEvent=t.handleEvent,Sn.updateDirectives=t.updateDirectives,Sn.updateRenderer=t.updateRenderer,Sn.dirtyParentQueries=ys}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:r}}(Jn(this._ngModuleDefFactory));return Sn.createNgModuleRef(this.moduleType,t||re.NULL,this._bootstrapComponents,e)}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),l=n("jZKg"),a=n("Lhse"),u=n("c2HN"),c=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(c.a)(t))return Object(l.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),l=n("SpAZ"),a=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,l=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(l.add(o?o.call(l,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),a.a.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?l.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.0.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),l=n("I55L"),a=n("c2HN"),u=n("XoHu");const c=t=>{if(t&&"function"==typeof t[o.a])return c=t,t=>{const e=c[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(l.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,c}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function l(...t){let e=Number.POSITIVE_INFINITY,n=null,l=t[t.length-1];return Object(i.a)(l)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof l&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),l=n("Ylt2"),a=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new l.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),l=n("pxpQ"),a=n("8Y7J"),u=n("Jgta");function c(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(l.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new a.q("angularfire2.app.options"),y=new a.q("angularfire2.app.nameOrConfig");class _{}const w=new a.O("6.1.1");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));return JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`),s}const C=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,s){const[o,...l]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o)return s.some((t,e)=>{const n=l[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`),o;{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);class O{constructor(t){u.a.registerVersion("angularfire",w.full,t.toString()),u.a.registerVersion("angular",a.N.full)}static initializeApp(t,e){return{ngModule:O,providers:[{provide:v,useValue:t},{provide:y,useValue:e}]}}}}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let l=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(l.createNext(t))}_error(t){this.scheduleMessage(l.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(l.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),l={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},a=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?l[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=l[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var l=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:l,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return a})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return g}));var r=n("uXP2");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return l().indexOf("Electron/")>=0}function p(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return l().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",l=this.serviceName+": "+o+" ("+i+").",a=new m(i,l,r);return a},t}();function v(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const l=new o(i),a=l},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let l=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:l,_unsubscribe:u,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){l&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?a(h.errors):[h]}}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function l(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>l(e)&&t()),e},clearImmediate(t){l(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(c);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{a(r.next(t))}catch(e){s(e)}}function l(t){try{a(r.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}a((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,i++)r[i]=s[o];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new l(t,e,n))}}class l{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("uXP2"),o=n("qOnz"),l=n("/6Yf"),a=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new l.b(e.name),this._addComponent(new l.a("app",(function(){return a}),"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var l=s.name;if("string"!=typeof l||!l)throw c.create("bad-app-name",{appName:String(l)});if(Object(o.d)(e,l))throw c.create("duplicate-app",{appName:l});var a=new t(n,s,r);return e[l]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&a.push("and"),o&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}u(new l.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw c.create("no-app",{appName:t});return e[t]}function u(l){var a,u,h=l.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===l.type?r[h]:null;if(n.set(h,l),"PUBLIC"===l.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==l.serviceProps&&Object(o.g)(d,l.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,l.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(l)}catch(m){a={error:m}}finally{try{g&&!g.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}return"PUBLIC"===l.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new l.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");class i{}class s{constructor(){this.title="js-advance-hw21"}}let o=null;function l(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Wb)(d)}const h=new r.q("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=l().getLocation(),this._history=l().getHistory()}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275prov=Object(r.Vb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.Wb)(a))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Wb)(a).location;return new w(Object(r.Wb)(u),e&&e.origin||"")}const _=new r.q("appBaseHref");class w extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class E extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}let C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.normalizeQueryParams=b,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Vb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new C(Object(r.Wb)(v),Object(r.Wb)(u))}function I(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),k=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),A=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),P=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function R(t,e){return U(Object(r.wb)(t)[r.ab.DateFormat],e)}function j(t,e){return U(Object(r.wb)(t)[r.ab.TimeFormat],e)}function N(t,e){return U(Object(r.wb)(t)[r.ab.DateTimeFormat],e)}function D(t,e){const n=Object(r.wb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===P.CurrencyDecimal)return n[r.ab.NumberSymbols][P.Decimal];if(e===P.CurrencyGroup)return n[r.ab.NumberSymbols][P.Group]}return i}const M=r.zb;function L(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function U(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function F(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},B=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),H=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),G=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function $(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function W(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function K(t,e,n=0,r=!1,i=!1){return function(s,o){let l=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||l>-n)&&(l+=n),t===H.Hours)0===l&&-12===n&&(l=12);else if(t===H.FractionalSeconds)return a=e,W(l,3).substr(0,a);var a;const u=D(o,P.MinusSign);return W(l,e,u,r,i)}}function Q(t,e,n=x.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case G.Months:return function(t,e,n){const i=Object(r.wb)(t),s=U([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return U(s,n)}(e,s,i)[t.getMonth()];case G.Days:return function(t,e,n){const i=Object(r.wb)(t),s=U([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return U(s,n)}(e,s,i)[t.getDay()];case G.DayPeriods:const l=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Object(r.wb)(t);return L(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?F(t):[F(t[0]),F(t[1])])}(e),n=function(t,e,n){const i=Object(r.wb)(t);L(i);const s=U([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return U(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=l>=e.hours&&a>=e.minutes,i=l<n.hours||l===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===l&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.wb)(t),s=U([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return U(s,n)}(e,s,i)[l<12?0:1];case G.Eras:return function(t,e){return U(Object(r.wb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,o,t,e,n,i)}}function J(t){return function(e,n,r){const i=-1*r,s=D(n,P.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case z.Short:return(i>=0?"+":"")+W(o,2,s)+W(Math.abs(i%60),2,s);case z.ShortGMT:return"GMT"+(i>=0?"+":"")+W(o,1,s);case z.Long:return"GMT"+(i>=0?"+":"")+W(o,2,s)+":"+W(Math.abs(i%60),2,s);case z.Extended:return 0===r?"Z":(i>=0?"+":"")+W(o,2,s)+":"+W(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var s;return W(i,t,D(r,P.MinusSign))}}const Y={};function X(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function tt(t){return t instanceof Date&&!isNaN(t.valueOf())}const et=/^(\d+)?\.((\d+)(-(\d+))?)?$/,nt=".",rt="0";function it(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class st{}class ot extends st{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(M(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}function lt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class at{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ut{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new at(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ct(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ct(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class ct{constructor(t,e){this.record=t,this.view=e}}class ht{constructor(t,e){this._viewContainer=t,this._context=new dt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ft("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ft("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}class dt{constructor(){this.$implicit=null,this.ngIf=null}}function ft(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Qb)(e)}'.`)}function pt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Qb)(t)}'`)}class gt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class mt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const bt=new mt,vt=new gt;class yt{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Object(r.Eb)(t))return bt;if(Object(r.Db)(t))return vt;throw pt(yt,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class _t{constructor(t){this.locale=t}transform(t,e="mediumDate",n,i){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,i){let s=function(t){if(tt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,l=Number(t[5]||0)-r,a=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,l,a,u),e}(n)}const e=new Date(t);if(!tt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.wb)(t)[r.ab.LocaleId]}(e);if(q[i]=q[i]||{},q[i][n])return q[i][n];let s="";switch(n){case"shortDate":s=R(e,A.Short);break;case"mediumDate":s=R(e,A.Medium);break;case"longDate":s=R(e,A.Long);break;case"fullDate":s=R(e,A.Full);break;case"shortTime":s=j(e,A.Short);break;case"mediumTime":s=j(e,A.Medium);break;case"longTime":s=j(e,A.Long);break;case"fullTime":s=j(e,A.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");s=$(N(e,A.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");s=$(N(e,A.Medium),[i,o]);break;case"long":const l=t(e,"longTime"),a=t(e,"longDate");s=$(N(e,A.Long),[l,a]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");s=$(N(e,A.Full),[u,c])}return s&&(q[i][n]=s),s}(n,e)||e;let o,l=[];for(;e;){if(o=B.exec(e),!o){l.push(e);break}{l=l.concat(o.slice(1));const t=l.pop();if(!t)break;e=t}}let a=s.getTimezoneOffset();i&&(a=X(i,a),s=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(X(e,r)-r))}(s,i));let u="";return l.forEach(t=>{const e=function(t){if(Y[t])return Y[t];let e;switch(t){case"G":case"GG":case"GGG":e=Q(G.Eras,k.Abbreviated);break;case"GGGG":e=Q(G.Eras,k.Wide);break;case"GGGGG":e=Q(G.Eras,k.Narrow);break;case"y":e=K(H.FullYear,1,0,!1,!0);break;case"yy":e=K(H.FullYear,2,0,!0,!0);break;case"yyy":e=K(H.FullYear,3,0,!1,!0);break;case"yyyy":e=K(H.FullYear,4,0,!1,!0);break;case"M":case"L":e=K(H.Month,1,1);break;case"MM":case"LL":e=K(H.Month,2,1);break;case"MMM":e=Q(G.Months,k.Abbreviated);break;case"MMMM":e=Q(G.Months,k.Wide);break;case"MMMMM":e=Q(G.Months,k.Narrow);break;case"LLL":e=Q(G.Months,k.Abbreviated,x.Standalone);break;case"LLLL":e=Q(G.Months,k.Wide,x.Standalone);break;case"LLLLL":e=Q(G.Months,k.Narrow,x.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=K(H.Date,1);break;case"dd":e=K(H.Date,2);break;case"E":case"EE":case"EEE":e=Q(G.Days,k.Abbreviated);break;case"EEEE":e=Q(G.Days,k.Wide);break;case"EEEEE":e=Q(G.Days,k.Narrow);break;case"EEEEEE":e=Q(G.Days,k.Short);break;case"a":case"aa":case"aaa":e=Q(G.DayPeriods,k.Abbreviated);break;case"aaaa":e=Q(G.DayPeriods,k.Wide);break;case"aaaaa":e=Q(G.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=Q(G.DayPeriods,k.Abbreviated,x.Standalone,!0);break;case"bbbb":e=Q(G.DayPeriods,k.Wide,x.Standalone,!0);break;case"bbbbb":e=Q(G.DayPeriods,k.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(G.DayPeriods,k.Abbreviated,x.Format,!0);break;case"BBBB":e=Q(G.DayPeriods,k.Wide,x.Format,!0);break;case"BBBBB":e=Q(G.DayPeriods,k.Narrow,x.Format,!0);break;case"h":e=K(H.Hours,1,-12);break;case"hh":e=K(H.Hours,2,-12);break;case"H":e=K(H.Hours,1);break;case"HH":e=K(H.Hours,2);break;case"m":e=K(H.Minutes,1);break;case"mm":e=K(H.Minutes,2);break;case"s":e=K(H.Seconds,1);break;case"ss":e=K(H.Seconds,2);break;case"S":e=K(H.FractionalSeconds,1);break;case"SS":e=K(H.FractionalSeconds,2);break;case"SSS":e=K(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J(z.Short);break;case"ZZZZZ":e=J(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J(z.Long);break;default:return null}return Y[t]=e,e}(t);u+=e?e(s,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(t,e,i||this.locale,n)}catch(s){throw pt(_t,s.message)}}}class wt{constructor(t){this._locale=t}transform(t,e,n){if(function(t){return null==t||""===t||t!=t}(t))return null;n=n||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let l="",a=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,s,o=Math.abs(t)+"",l=0;for((n=o.indexOf(nt))>-1&&(o=o.replace(nt,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===rt;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===rt;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),l=n-1,n=1),{digits:e,exponent:l,integerLen:n}}(t);o&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let c=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(et);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(c=it(e)),null!=n&&(h=it(n)),null!=r?d=it(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,l=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(l>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let a=0!==s;const u=e+t.integerLen,c=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,a&&(0===r[n]&&n>=u?r.pop():a=!1),e>=10?1:0}),0);c&&(r.unshift(c),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const g=u.exponent;let m=[];for(a=f.every(t=>!t);p<c;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),l=b.join(D(n,r)),m.length&&(l+=D(n,i)+m.join("")),g&&(l+=D(n,P.Exponential)+"+"+g)}else l=D(n,P.Infinity);return l=t<0&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf,l}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(nt)?i.split(nt):[i.substring(0,i.lastIndexOf(rt)+1),i.substring(i.lastIndexOf(rt)+1)],l=o[0],a=o[1]||"";n.posPre=l.substr(0,l.indexOf("#"));for(let c=0;c<a.length;c++){const t=a.charAt(c);t===rt?n.minFrac=n.maxFrac=c+1:"#"===t?n.maxFrac=c+1:n.posSuf+=t}const u=l.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.wb)(t)[r.ab.NumberFormats][e]}(e,O.Decimal),D(e,P.MinusSign)),e,P.Group,P.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(t),n,e)}catch(i){throw pt(wt,i.message)}}}class Et{}function Ct(t){return"server"===t}let St=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({token:t,providedIn:"root",factory:()=>new It(Object(r.Wb)(a),window,Object(r.Wb)(r.m))}),t})();class It{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Ot(this.window.history)||Ot(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Ot(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Tt=n("LRne"),xt=n("Cfvw"),kt=n("XNiG"),At=n("9ppp");class Pt extends kt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.a;return this._value}next(t){super.next(this._value=t)}}var Rt=n("z+Ro"),jt=n("DH7j"),Nt=n("7o/Q");class Dt extends Nt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Mt extends Nt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Lt=n("SeVD"),Ut=n("HDdC");function Ft(t,e,n,r,i=new Mt(t,n,r)){if(!i.closed)return e instanceof Ut.a?e.subscribe(i):Object(Lt.a)(e)(i)}var Vt=n("yCtX");const qt={};class Bt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new zt(t,this.resultSelector))}}class zt extends Dt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(qt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ft(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===qt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ht=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Gt=n("EY2u");function $t(t){return new Ut.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(xt.a)(n):Object(Gt.b)()).subscribe(e)})}var Wt=n("lJxs"),Kt=n("bHdf");function Qt(){return Object(Kt.a)(1)}function Jt(t,e){return function(n){return n.lift(new Zt(t,e))}}class Zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Yt(t,this.predicate,this.thisArg))}}class Yt extends Nt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Xt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function te(t){return function(e){return 0===t?Object(Gt.b)():e.lift(new ee(t))}}class ee{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new ne(t,this.total))}}class ne extends Nt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function re(t=oe){return e=>e.lift(new ie(t))}class ie{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new se(t,this.errorFactory))}}class se extends Nt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function oe(){return new Ht}function le(t=null){return e=>e.lift(new ae(t))}class ae{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ue(t,this.defaultValue))}}class ue extends Nt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ce=n("SpAZ"),he=n("zx2A");function de(t,e){return"function"==typeof e?n=>n.pipe(de((n,r)=>Object(xt.a)(t(n,r)).pipe(Object(Wt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new fe(t))}class fe{constructor(t){this.project=t}call(t,e){return e.subscribe(new pe(t,this.project))}}class pe extends he.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new he.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(he.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ge(t){return e=>0===t?Object(Gt.b)():e.lift(new me(t))}class me{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new be(t,this.total))}}class be extends Nt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ve(...t){return Qt()(Object(Tt.a)(...t))}function ye(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _e(t,e,n))}}class _e{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new we(t,this.accumulator,this.seed,this.hasSeed))}}class we extends Nt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ee(t){return function(e){const n=new Ce(t),r=e.lift(n);return n.caught=r}}class Ce{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Se(t,this.selector,this.caught))}}class Se extends he.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new he.a(this);this.add(r);const i=Object(he.c)(n,r);i!==r&&this.add(i)}}}var Ie=n("5+tZ");function Oe(t,e){return Object(Ie.a)(t,e,1)}function Te(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):ce.a,ge(1),n?le(e):re(()=>new Ht))}var xe=n("vkgz"),ke=n("quSY");class Ae{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Pe(t,this.callback))}}class Pe extends Nt.a{constructor(t,e){super(t),this.add(new ke.a(e))}}class Re{constructor(t,e){this.id=t,this.url=e}}class je extends Re{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ne extends Re{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class De extends Re{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Me extends Re{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends Re{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ve extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class He{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class Je{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ze(t){return new Je(t)}function Ye(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Xe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!en(t[i],e[i]))return!1;return!0}function en(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function nn(t){return Array.prototype.concat.apply([],t)}function rn(t){return t.length>0?t[t.length-1]:null}function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function on(t){return Object(r.Db)(t)?t:Object(r.Eb)(t)?Object(xt.a)(Promise.resolve(t)):Object(Tt.a)(t)}function ln(t,e,n){return n?function(t,e){return tn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!hn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>en(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!hn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!hn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!hn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class an{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class cn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ze(this.parameters)),this._parameterMap}toString(){return En(this)}}function hn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function dn(t,e){let n=[];return sn(t.children,(t,r)=>{r===Qe&&(n=n.concat(e(t,r)))}),sn(t.children,(t,r)=>{r!==Qe&&(n=n.concat(e(t,r)))}),n}class fn{}class pn{parse(t){const e=new Tn(t);return new an(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return mn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return sn(e.children,(e,n)=>{n!==Qe&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=dn(e,(n,r)=>r===Qe?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${mn(e)}/${n[0]}`:`${mn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${vn(e)}=${vn(t)}`).join("&"):`${vn(e)}=${vn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const gn=new pn;function mn(t){return t.segments.map(t=>En(t)).join("/")}function bn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(t){return bn(t).replace(/%3B/gi,";")}function yn(t){return bn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _n(t){return decodeURIComponent(t)}function wn(t){return _n(t.replace(/\+/g,"%20"))}function En(t){return`${yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yn(t)}=${yn(e[t])}`).join("")}`;var e}const Cn=/^[^\/()?;=#]+/;function Sn(t){const e=t.match(Cn);return e?e[0]:""}const In=/^[^=?&#]+/,On=/^[^?&#]+/;class Tn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new un(t,e)),n}parseSegment(){const t=Sn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cn(_n(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Sn(this.remaining);t&&(n=t,this.capture(n))}t[_n(e)]=_n(n)}parseQueryParam(t){const e=function(t){const e=t.match(In);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=wn(e),i=wn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Sn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Qe);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new un([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=kn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=An(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return An(t,this._root).map(t=>t.value)}}function kn(t,e){if(t===e.value)return e;for(const n of e.children){const e=kn(t,n);if(e)return e}return null}function An(t,e){if(t===e.value)return[e];for(const n of e.children){const r=An(t,n);if(r.length)return r.unshift(e),r}return[]}class Pn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends xn{constructor(t,e){super(t),this.snapshot=e,Fn(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Ln([],{},{},"",{},Qe,e,null,t.root,-1,{});return new Un("",new Pn(n,[]))}(t,e),r=new Pt([new cn("",{})]),i=new Pt({}),s=new Pt({}),o=new Pt({}),l=new Pt(""),a=new Dn(r,i,o,l,s,Qe,e,n.root);return a.snapshot=n.root,new jn(new Pn(a,[]),n)}class Dn{constructor(t,e,n,r,i,s,o,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Wt.a)(t=>Ze(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Wt.a)(t=>Ze(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ln{constructor(t,e,n,r,i,s,o,l,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ze(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Un extends xn{constructor(t,e){super(e),this.url=t,Fn(this,e)}toString(){return Vn(this._root)}}function Fn(t,e){e.value._routerState=t,e.children.forEach(e=>Fn(t,e))}function Vn(t){const e=t.children.length>0?` { ${t.children.map(Vn).join(", ")} } `:"";return`${t.value}${e}`}function qn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),tn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),tn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bn(t,e){return tn(t.params,e.params)&&function(t,e){return hn(t,e)&&t.every((t,n)=>tn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Bn(t.parent,e.parent))}function zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hn(t){return"object"==typeof t&&null!=t&&t.outlets}function Gn(t,e,n,r,i){let s={};return r&&sn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new an(n.root===t?e:function t(e,n,r){const i={};return sn(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new un(e.segments,i)}(n.root,t,e),s,i)}class $n{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Hn);if(r&&r!==rn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kn(t,e,n){if(t||(t=new un([],{})),0===t.segments.length&&t.hasChildren())return Qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Hn(o))break;const l=""+o,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&a&&"object"==typeof a&&void 0===a.outlets){if(!Xn(l,a,e))return s;r+=2}else{if(!Xn(l,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new un(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new un(t.segments.slice(r.pathIndex),t.children),Qn(e,0,i)}return r.match&&0===i.length?new un(t.segments,{}):r.match&&!t.hasChildren()?Jn(t,e,n):r.match?Qn(t,0,i):Jn(t,e,n)}function Qn(t,e,n){if(0===n.length)return new un(t.segments,{});{const r=function(t){return Hn(t[0])?t[0].outlets:{[Qe]:t}}(n),i={};return sn(r,(n,r)=>{null!==n&&(i[r]=Kn(t.children[r],e,n))}),sn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new un(t.segments,i)}}function Jn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Hn(s)){const t=Zn(s.outlets);return new un(r,t)}if(0===i&&zn(n[0])){r.push(new cn(t.segments[e].path,n[0])),i++;continue}const o=Hn(s)?s.outlets.primary:""+s,l=i<n.length-1?n[i+1]:null;o&&l&&zn(l)?(r.push(new cn(o,Yn(l))),i+=2):(r.push(new cn(o,{})),i++)}return new un(r,{})}function Zn(t){const e={};return sn(t,(t,n)=>{null!==t&&(e[n]=Jn(new un([],{}),0,t))}),e}function Yn(t){const e={};return sn(t,(t,n)=>e[n]=""+t),e}function Xn(t,e,n){return t==n.path&&tn(e,n.parameters)}class tr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),qn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Rn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),sn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Rn(t),i=t.value.component?n.children:e;sn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Rn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new We(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ge(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(qn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),er(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function er(t){qn(t.value),t.children.forEach(er)}class nr{constructor(t,e){this.routes=t,this.module=e}}function rr(t){return"function"==typeof t}function ir(t){return t instanceof an}const sr=Symbol("INITIAL_VALUE");function or(){return de(t=>function(...t){let e=void 0,n=void 0;return Object(Rt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(jt.a)(t[0])&&(t=t[0]),Object(Vt.a)(t,n).lift(new Bt(e))}(...t.map(t=>t.pipe(ge(1),function(...t){const e=t[t.length-1];return Object(Rt.a)(e)?(t.pop(),n=>ve(t,n,e)):e=>ve(t,e)}(sr)))).pipe(ye((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==sr)return t;if(r===sr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ir(r))return r}return t},t)},sr),Jt(t=>t!==sr),Object(Wt.a)(t=>ir(t)?t:!0===t),ge(1)))}class lr{constructor(t){this.segmentGroup=t||null}}class ar{constructor(t){this.urlTree=t}}function ur(t){return new Ut.a(e=>e.error(new lr(t)))}function cr(t){return new Ut.a(e=>e.error(new ar(t)))}function hr(t){return new Ut.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class dr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Qe).pipe(Object(Wt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ee(t=>{if(t instanceof ar)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qe).pipe(Object(Wt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ee(t=>{if(t instanceof lr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new un([],{[Qe]:t}):t;return new an(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Wt.a)(t=>new un([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Tt.a)({});const n=[],r=[],i={};return sn(t,(t,s)=>{const o=e(s,t).pipe(Object(Wt.a)(t=>i[s]=t));s===Qe?n.push(o):r.push(o)}),Tt.a.apply(null,n.concat(r)).pipe(Qt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):ce.a,te(1),n?le(e):re(()=>new Ht))}(),Object(Wt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Tt.a)(...n).pipe(Oe(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Ee(t=>{if(t instanceof lr)return Object(Tt.a)(null);throw t}))),Te(t=>!!t),Ee((t,n)=>{if(t instanceof Ht||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Tt.a)(new un([],{}));throw new lr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return mr(r)!==s?ur(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ur(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cr(i):this.lineralizeSegments(n,i).pipe(Object(Ie.a)(n=>{const i=new un(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:l,lastChild:a,positionalParamSegments:u}=fr(e,r,i);if(!o)return ur(e);const c=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?cr(c):this.lineralizeSegments(r,c).pipe(Object(Ie.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Wt.a)(t=>(n._loadedConfig=t,new un(r,{})))):Object(Tt.a)(new un(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=fr(e,n,r);if(!i)return ur(e);const l=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Ie.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>gr(t,e,n)&&mr(n)!==Qe)}(t,n,r)?{segmentGroup:pr(new un(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&mr(r)!==Qe&&(n[mr(r)]=new un([],{}));return n}(r,new un(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>gr(t,e,n))}(t,n,r)?{segmentGroup:pr(new un(t.segments,function(t,e,n,r){const i={};for(const s of n)gr(t,e,s)&&!r[mr(s)]&&(i[mr(s)]=new un([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Wt.a)(t=>new un(s,t))):0===r.length&&0===o.length?Object(Tt.a)(new un(s,{})):this.expandSegment(n,i,r,o,Qe,!0).pipe(Object(Wt.a)(t=>new un(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Tt.a)(new nr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Tt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ie.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Wt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ut.a(e=>e.error(Ye(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Tt.a)(new nr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Tt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&rr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!rr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return on(s)});return Object(Tt.a)(i).pipe(or(),Object(xe.a)(t=>{if(!ir(t))return;const e=Ye(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Wt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Tt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return hr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new an(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return sn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new un(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function fr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Xe)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function pr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new un(t.segments.concat(e.segments),e.children)}return t}function gr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function mr(t){return t.outlet||Qe}class br{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vr{constructor(t,e){this.component=t,this.route=e}}function yr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rn(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,l=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Bn(t,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new br(i)):(o.data=l.data,o._resolvedData=l._resolvedData),t(e,n,o.component?a?a.children:null:r,i,s),u&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new vr(a.outlet.component,l))}else l&&wr(n,a,s),s.canActivateChecks.push(new br(i)),t(e,null,o.component?a?a.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),sn(o,(t,e)=>wr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function _r(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function wr(t,e,n){const r=Rn(t),i=t.value;sn(r,(t,r)=>{wr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new vr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Er(t,e){return null!==t&&e&&e(new $e(t)),Object(Tt.a)(!0)}function Cr(t,e){return null!==t&&e&&e(new He(t)),Object(Tt.a)(!0)}function Sr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Tt.a)(!0);const i=r.map(r=>$t(()=>{const i=_r(r,e,n);let s;if(function(t){return t&&rr(t.canActivate)}(i))s=on(i.canActivate(e,t));else{if(!rr(i))throw new Error("Invalid CanActivate guard");s=on(i(e,t))}return s.pipe(Te())}));return Object(Tt.a)(i).pipe(or())}function Ir(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const s=_r(i,e.node,n);let o;if(function(t){return t&&rr(t.canActivateChild)}(s))o=on(s.canActivateChild(r,t));else{if(!rr(s))throw new Error("Invalid CanActivateChild guard");o=on(s(r,t))}return o.pipe(Te())});return Object(Tt.a)(i).pipe(or())}));return Object(Tt.a)(i).pipe(or())}class Or{}class Tr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Ar(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qe),n=new Ln([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pn(n,e),i=new Un(this.url,r);return this.inheritParamsAndData(i._root),Object(Tt.a)(i)}catch(t){return new Ut.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Mn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=dn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Qe?-1:e.value.outlet===Qe?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Or))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Or}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Or;if((t.outlet||Qe)!==r)throw new Or;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?rn(n).parameters:{};i=new Ln(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),r,t.component,t,xr(e),kr(e)+n.length,Nr(t))}else{const l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Or;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Xe)(n,t,e);if(!r)throw new Or;const i={};sn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=l.consumedSegments,o=n.slice(l.lastChild),i=new Ln(s,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),r,t.component,t,xr(e),kr(e)+s.length,Nr(t))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=Ar(e,s,o,l,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(l,a);return[new Pn(i,t)]}if(0===l.length&&0===u.length)return[new Pn(i,[])];const c=this.processSegment(l,a,u,Qe);return[new Pn(i,c)]}}function xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ar(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Pr(t,e,n)&&Rr(n)!==Qe)}(t,n,r)){const i=new un(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Rr(s)!==Qe){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Rr(s)]=n}return i}(t,e,r,new un(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Pr(t,e,n))}(t,n,r)){const s=new un(t.segments,function(t,e,n,r,i,s){const o={};for(const l of r)if(Pr(t,n,l)&&!i[Rr(l)]){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Rr(l)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new un(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Pr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Rr(t){return t.outlet||Qe}function jr(t){return t.data||{}}function Nr(t){return t.resolve||{}}function Dr(t){return function(e){return e.pipe(de(e=>{const n=t(e);return n?Object(xt.a)(n).pipe(Object(Wt.a)(()=>e)):Object(xt.a)([e])}))}}class Mr{}class Lr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}class Ur{}function Fr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Vr(r,qr(e,r))}}function Vr(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Qe)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Fr(t.children,e)}function qr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Br(t){const e=t.children&&t.children.map(Br),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qe&&(n.component=Ur),n}const zr=new r.q("ROUTES");class Hr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Wt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new nr(nn(r.injector.get(zr)).map(Br),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(xt.a)(this.loader.load(t)):on(t()).pipe(Object(Ie.a)(t=>t instanceof r.v?Object(Tt.a)(t):Object(xt.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $r,this.attachRef=null}}class $r{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wr{}class Kr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qr(t){throw t}function Jr(t,e,n){return e.parse("/")}function Zr(t,e){return Object(Tt.a)(null)}class Yr{constructor(t,e,n,i,s,o,l,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new kt.a,this.errorHandler=Qr,this.malformedUriErrorHandler=Jr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zr,afterPreactivation:Zr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new Lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Y);const u=s.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(a),this.currentUrlTree=new an(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hr(o,l,t=>this.triggerEvent(new Be(t)),t=>this.triggerEvent(new ze(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new Pt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jt(t=>0!==t.id),Object(Wt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),de(t=>{let n=!1,r=!1;return Object(Tt.a)(t).pipe(Object(xe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),de(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Tt.a)(t).pipe(de(t=>{const n=this.transitions.getValue();return e.next(new je(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Gt.a:[t]}),de(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(de(t=>function(t,e,n,r,i){return new dr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Wt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(xe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Ie.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Tr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Wt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(xe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(xe.a)(t=>{const n=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,l=new je(n,this.serializeUrl(r),i,s);e.next(l);const a=Nn(r,this.rootComponentType).snapshot;return Object(Tt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Gt.a}),Dr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(xe.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Wt.a)(t=>Object.assign(Object.assign({},t),{guards:yr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Ie.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Tt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(xt.a)(t).pipe(Object(Ie.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Tt.a)(!0);const o=s.map(s=>{const o=_r(s,e,i);let l;if(function(t){return t&&rr(t.canDeactivate)}(o))l=on(o.canDeactivate(t,e,n,r));else{if(!rr(o))throw new Error("Invalid CanDeactivate guard");l=on(o(t,e,n,r))}return l.pipe(Te())});return Object(Tt.a)(o).pipe(or())}(t.component,t.route,n,e,r)),Te(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Ie.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(xt.a)(e).pipe(Oe(e=>Object(xt.a)([Cr(e.route.parent,r),Er(e.route,r),Ir(t,e.path,n),Sr(t,e.route,n)]).pipe(Qt(),Te(t=>!0!==t,!0))),Te(t=>!0!==t,!0))}(r,s,t,e):Object(Tt.a)(n)),Object(Wt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(xe.a)(t=>{if(ir(t.guardsResult)){const e=Ye(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(xe.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new De(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Dr(t=>{if(t.guards.canActivateChecks.length)return Object(Tt.a)(t).pipe(Object(xe.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),de(t=>{let n=!1;return Object(Tt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Ie.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Tt.a)(t);let s=0;return Object(xt.a)(n).pipe(Oe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Tt.a)({});const s={};return Object(xt.a)(i).pipe(Object(Ie.a)(i=>function(t,e,n,r){const i=_r(t,e,r);return on(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(xe.a)(t=>{s[i]=t}))),te(1),Object(Ie.a)(()=>Object.keys(s).length===i.length?Object(Tt.a)(s):Gt.a))}(t._resolve,t,e,r).pipe(Object(Wt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mn(t,n).resolve),null)))}(t.route,e,r,i)),Object(xe.a)(()=>s++),te(1),Object(Ie.a)(e=>s===n.length?Object(Tt.a)(t):Gt.a))}))}),Object(xe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new De(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(xe.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Dr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Wt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Pn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Dn(new Pt((i=n.value).url),new Pt(i.params),new Pt(i.queryParams),new Pt(i.fragment),new Pt(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Pn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(xe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(Wt.a)(t=>(new tr(o,t.targetRouterState,t.currentRouterState,l).activate(s),t))),Object(xe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new De(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ae(i))),Ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ir(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new De(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Me(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(xf){t.reject(xf)}}var i;return Gt.a}));var i,s,o,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Fr(t),this.config=t.map(Br),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:l,preserveFragment:a}=e;Object(r.U)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:s;let h=null;if(l)switch(l){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Gn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $n(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return sn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new $n(n,e,r)}(n);if(s.toRoot())return Gn(e.root,new un([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wn(t,t===e.root,0)}const r=zn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),l=o.processChildren?Qn(o.segmentGroup,o.index,s.commands):Kn(o.segmentGroup,o.index,s.commands);return Gn(o.segmentGroup,l,e,r,i)}(u,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ir(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ir(t))return ln(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ln(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),l=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&l)return Promise.resolve(!0);let a,u,c;i?(a=i.resolve,u=i.reject,c=i.promise):c=new Promise((t,e)=>{a=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Xr{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new kt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ei(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}class ti{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new kt.a,this.subscription=t.events.subscribe(t=>{t instanceof Ne&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ei(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}function ei(t){return""===t||!!t}class ni{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Ne&&this.update()})}ngAfterContentInit(){Object(xt.a)([this.links.changes,this.linksWithHrefs.changes,Object(Tt.a)(null)]).pipe(Object(Kt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(xt.a)(e).pipe(Object(Kt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class ri{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ii(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class ii{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Dn?this.route:t===$r?this.childContexts:this.parent.get(t,e)}}class si{}class oi{preload(t,e){return e().pipe(Ee(()=>Object(Tt.a)(null)))}}class li{preload(t,e){return Object(Tt.a)(null)}}class ai{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hr(e,n,e=>t.triggerEvent(new Be(e)),e=>t.triggerEvent(new ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof Ne),Oe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(xt.a)(n).pipe(Object(Kt.a)(),Object(Wt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Ie.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class ui{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof je?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ne&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ke&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ke(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ci=new r.q("ROUTER_CONFIGURATION"),hi=new r.q("ROUTER_FORROOT_GUARD"),di=[C,{provide:fn,useClass:pn},{provide:Yr,useFactory:yi,deps:[fn,$r,C,r.r,r.w,r.i,zr,ci,[Wr,new r.A],[Mr,new r.A]]},$r,{provide:Dn,useFactory:_i,deps:[Yr]},{provide:r.w,useClass:r.J},ai,li,oi,{provide:ci,useValue:{enableTracing:!1}}];function fi(){return new r.y("Router",Yr)}class pi{constructor(t,e){}static forRoot(t,e){return{ngModule:pi,providers:[di,vi(t),{provide:hi,useFactory:bi,deps:[[Yr,new r.A,new r.I]]},{provide:ci,useValue:e||{}},{provide:v,useFactory:mi,deps:[u,[new r.p(_),new r.A],ci]},{provide:ui,useFactory:gi,deps:[Yr,St,ci]},{provide:si,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:li},{provide:r.y,multi:!0,useFactory:fi},[wi,{provide:r.d,multi:!0,useFactory:Ei,deps:[wi]},{provide:Si,useFactory:Ci,deps:[wi]},{provide:r.b,multi:!0,useExisting:Si}]]}}static forChild(t){return{ngModule:pi,providers:[vi(t)]}}}function gi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ui(t,e,n)}function mi(t,e,n={}){return n.useHash?new E(t,e):new w(t,e)}function bi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:zr,multi:!0,useValue:t}]}function yi(t,e,n,r,i,s,o,a={},u,c){const h=new Yr(null,t,e,n,r,i,s,nn(o));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=l();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function _i(t){return t.routerState.root}class wi{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new kt.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yr),r=this.injector.get(ci);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Tt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ci),n=this.injector.get(ai),i=this.injector.get(ui),s=this.injector.get(Yr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Ei(t){return t.appInitializer.bind(t)}function Ci(t){return t.bootstrapListener.bind(t)}const Si=new r.q("Router Initializer");var Ii=r.tb({encapsulation:2,styles:[],data:{}});function Oi(t){return r.Ub(0,[(t()(),r.vb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(1,212992,null,0,ri,[$r,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function Ti(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"ng-component",[],null,null,null,Oi,Ii)),r.ub(1,49152,null,0,Ur,[],null,null)],null,null)}var xi=r.rb("ng-component",Ur,Ti,{},{},[]);class ki{constructor(t){this.blogS=t,this.userBlogs=[]}ngOnInit(){this.getUserBlog()}getUserBlog(){this.blogS.getJsonBlogs().subscribe(t=>{this.userBlogs=t},t=>{console.log(t)})}}class Ai{}class Pi{}class Ri{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ri?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ri;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ri?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ji{encodeKey(t){return Ni(t)}encodeValue(t){return Ni(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ni(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Di{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ji,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Di({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Mi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Li(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ui(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Fi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ri),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Di,this.urlWithParams=e}serializeBody(){return null===this.body?null:Mi(this.body)||Li(this.body)||Ui(this.body)||"string"==typeof this.body?this.body:this.body instanceof Di?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ui(this.body)?null:Li(this.body)?this.body.type||null:Mi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Di?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,a=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(a=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),a)),new Fi(e,n,i,{params:a,headers:l,reportProgress:o,responseType:r,withCredentials:s})}}var Vi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class qi{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ri,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Bi extends qi{constructor(t={}){super(t),this.type=Vi.ResponseHeader}clone(t={}){return new Bi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zi extends qi{constructor(t={}){super(t),this.type=Vi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new zi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hi extends qi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Gi(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class $i{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Fi)r=t;else{let i=void 0;i=n.headers instanceof Ri?n.headers:new Ri(n.headers);let s=void 0;n.params&&(s=n.params instanceof Di?n.params:new Di({fromObject:n.params})),r=new Fi(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Tt.a)(r).pipe(Oe(t=>this.handler.handle(t)));if(t instanceof Fi||"events"===n.observe)return i;const s=i.pipe(Jt(t=>t instanceof zi));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Wt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Wt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Wt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Wt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Di).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Gi(n,e))}post(t,e,n={}){return this.request("POST",t,Gi(n,e))}put(t,e,n={}){return this.request("PUT",t,Gi(n,e))}}class Wi{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ki=new r.q("HTTP_INTERCEPTORS");class Qi{intercept(t,e){return e.handle(t)}}const Ji=/^\)\]\}',?\n/;class Zi{}class Yi{constructor(){}build(){return new XMLHttpRequest}}class Xi{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ut.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ri(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Bi({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:l}=s(),a=null;204!==i&&(a=void 0===n.response?n.responseText:n.response),0===i&&(i=a?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof a){const t=a;a=a.replace(Ji,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=t,u&&(u=!1,a={error:c,text:a})}}u?(e.next(new zi({body:a,headers:r,status:i,statusText:o,url:l||void 0})),e.complete()):e.error(new Hi({error:a,headers:r,status:i,statusText:o,url:l||void 0}))},l=t=>{const{url:r}=s(),i=new Hi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let a=!1;const u=r=>{a||(e.next(s()),a=!0);let i={type:Vi.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Vi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",l),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Vi.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}const ts=new r.q("XSRF_COOKIE_NAME"),es=new r.q("XSRF_HEADER_NAME");class ns{}class rs{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class is{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class ss{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ki,[]);this.chain=t.reduceRight((t,e)=>new Wi(t,e),this.backend)}return this.chain.handle(t)}}class os{static disable(){return{ngModule:os,providers:[{provide:is,useClass:Qi}]}}static withOptions(t={}){return{ngModule:os,providers:[t.cookieName?{provide:ts,useValue:t.cookieName}:[],t.headerName?{provide:es,useValue:t.headerName}:[]]}}}class ls{}let as=(()=>{class t{constructor(t){this.http=t,this.blog=[],this.url="http://localhost:3000/blog"}getJsonBlogs(){return this.http.get(this.url)}postJsonBlogs(t){return this.http.post(this.url,t)}deleteJsonBlog(t){return this.http.delete(`${this.url}/${t.id}`)}updateJsonBlog(t){return this.http.put(`${this.url}/${t.id}`,t)}getOneJSONBlog(t){return this.http.get(`${this.url}/${t}`)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb($i))},token:t,providedIn:"root"}),t})();var us=r.tb({encapsulation:0,styles:[[".mycard[_ngcontent-%COMP%]{width:110%;height:55vh}.myimg[_ngcontent-%COMP%]{width:100%;height:25vh}.mycard[_ngcontent-%COMP%]:hover{transition:transform .3s ease-out;transform:translateY(-.15rem);box-shadow:0 3px 15px #2c2c2c}"]],data:{}});function cs(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,14,"div",[["class","col-3 "]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,13,"div",[["class","card mycard bg-dark"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,0,"img",[["alt","..."],["class","card-img-top myimg"]],[[8,"src",4]],null,null,null,null)),(t()(),r.vb(3,0,null,null,11,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,2,"p",[["class","text-primary text-capitalize"]],null,null,null,null,null)),(t()(),r.Rb(5,null,[""," "," "])),r.Lb(6,2),(t()(),r.vb(7,0,null,null,1,"h5",[["class","card-title text-light"]],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),(t()(),r.vb(9,0,null,null,1,"p",[["class","card-text text-truncate text-light"]],null,null,null,null,null)),(t()(),r.Rb(10,null,["",""])),(t()(),r.vb(11,0,null,null,3,"a",[["class","btn btn-danger"],["href","#"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,12).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(12,671744,null,0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(13,2),(t()(),r.Rb(-1,null,["Details"]))],(function(t,e){var n=t(e,13,0,"/blog",e.context.$implicit.id);t(e,12,0,n)}),(function(t,e){t(e,2,0,e.context.$implicit.image);var n=r.Sb(e,5,0,t(e,6,0,r.Ib(e.parent,0),e.context.$implicit.date,"MMM d, yyyy"));t(e,5,0,n,e.context.$implicit.author),t(e,8,0,e.context.$implicit.title),t(e,10,0,e.context.$implicit.text),t(e,11,0,r.Ib(e,12).target,r.Ib(e,12).href)}))}function hs(t){return r.Ub(0,[r.Kb(0,_t,[r.u]),(t()(),r.vb(1,0,null,null,3,"div",[["class","container mt-3 "]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,2,"div",[["class","row d-flex justify-content-around"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,cs)),r.ub(4,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.component.userBlogs)}),null)}function ds(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-blog",[],null,null,null,hs,us)),r.ub(1,114688,null,0,ki,[as],null,null)],(function(t,e){t(e,1,0)}),null)}var fs=r.rb("app-blog",ki,ds,{},{},[]),ps=n("XoHu");function gs(t,e){return new Ut.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let l=0;l<r;l++){const a=Object(xt.a)(t[l]);let u=!1;n.add(a.subscribe({next:t=>{u||(u=!0,o++),i[l]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const ms=new r.q("NgValueAccessor"),bs=new r.q("CompositionEventMode");class vs{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=l()?l().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class ys{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class _s extends ys{get formDirective(){return null}get path(){return null}}class ws extends ys{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Es{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Cs extends Es{constructor(t){super(t)}}class Ss extends Es{constructor(t){super(t)}}function Is(t){return null==t||0===t.length}function Os(t){return null!=t&&"number"==typeof t.length}const Ts=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xs{static min(t){return e=>{if(Is(e.value)||Is(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Is(e.value)||Is(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Is(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Is(t.value)||Ts.test(t.value)?null:{email:!0}}static minLength(t){return e=>Is(e.value)||!Os(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Os(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return xs.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Is(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(ks);return 0==e.length?null:function(t){return Ps(Rs(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(ks);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(jt.a)(e))return gs(e,null);if(Object(ps.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return gs(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return gs(t=1===t.length&&Object(jt.a)(t[0])?t[0]:t,null).pipe(Object(Wt.a)(t=>e(...t)))}return gs(t,null)}(Rs(t,e).map(As)).pipe(Object(Wt.a)(Ps))}}}function ks(t){return null!=t}function As(t){const e=Object(r.Eb)(t)?Object(xt.a)(t):t;return Object(r.Db)(e),e}function Ps(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Rs(t,e){return e.map(e=>e(t))}function js(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}class Ns{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class Ds{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}function Ms(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class Ls{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Ms(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}class Us{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ms(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Fs(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class Vs{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Fs(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Fs(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function qs(t,e){t.validator=xs.compose([t.validator,e.validator]),t.asyncValidator=xs.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Bs(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Bs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Bs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zs(t){return null!=t?xs.compose(js(t)):null}function Hs(t){return null!=t?xs.composeAsync(js(t)):null}const Gs=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Ns,Ls,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ws),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}],$s="VALID",Ws="INVALID",Ks="PENDING",Qs="DISABLED";function Js(t){return(to(t)?t.validators:t)||null}function Zs(t){return Array.isArray(t)?zs(t):t||null}function Ys(t,e){return(to(e)?e.asyncValidators:t)||null}function Xs(t){return Array.isArray(t)?Hs(t):t||null}function to(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class eo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Zs(this._rawValidators),this._composedAsyncValidatorFn=Xs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$s}get invalid(){return this.status===Ws}get pending(){return this.status==Ks}get disabled(){return this.status===Qs}get enabled(){return this.status!==Qs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Zs(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Xs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ks,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qs,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$s,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==$s&&this.status!==Ks||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qs:$s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ks,this._hasOwnPendingAsyncValidator=!0;const e=As(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ro?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof io&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Qs:this.errors?Ws:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ks)?Ks:this._anyControlsHaveStatus(Ws)?Ws:$s}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){to(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class no extends eo{constructor(t=null,e,n){super(Js(e),Ys(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ro extends eo{constructor(t,e,n){super(Js(e),Ys(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof no?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class io extends eo{constructor(t,e,n){super(Js(e),Ys(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof no?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const so=(()=>Promise.resolve(null))();class oo extends _s{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new ro({},zs(t),Hs(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){so.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),qs(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){so.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){so.then(()=>{const e=this._findContainer(t.path),n=new ro({});(function(t,e){t.validator=xs.compose([t.validator,e.validator]),t.asyncValidator=xs.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){so.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){so.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}const lo=(()=>Promise.resolve(null))();class ao extends ws{constructor(t,e,n,i){super(),this.control=new no,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===vs?n=t:(e=t,Gs.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return zs(this._rawValidators)}get asyncValidator(){return Hs(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lo.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;lo.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class uo{}class co{}class ho{}class fo{constructor(t,e,n,r,i,s,o){this.id=t,this.name=e,this.email=n,this.phone=r,this.street=i,this.payWay=s,this.date=o}}class po{constructor(t,e){this.orderService=t,this.modalService=e,this.totalPrice=0,this.basket=[],this.order=[],this.userName="",this.userEmail="",this.userPhone=null,this.userStreet="",this.userPay=""}ngOnInit(){this.getLocalProducts(),this.getOrder()}getLocalProducts(){localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket")),this.totalPrice=this.getTotal(this.basket))}getTotal(t){return t.reduce((t,e)=>t+e.price*e.count,0)}productCount(t,e){e?t.count++:t.count>1&&t.count--,this.totalPrice=this.getTotal(this.basket),this.orderService.basket.next(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket))}removeProd(t){if(confirm("Are you sure?")){const e=this.basket.findIndex(e=>e.id===t.id);this.basket.splice(e,1),this.totalPrice=this.getTotal(this.basket),this.orderService.basket.next(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket))}}openModal(t){this.modalRef=this.modalService.show(t)}getOrder(){this.orderService.getOrders().subscribe(t=>{this.order=t})}addOrder(){if(this.userName.length>0&&this.userEmail.length>0&&null!=this.userPhone&&this.userPay.length>0&&this.userStreet.length>0){const t=new fo(1,this.userName,this.userEmail,this.userPhone,this.userStreet,this.userPay,new Date);delete t.id,this.orderService.postOrders(t).subscribe(()=>{this.getOrder()}),this.basket=[],this.totalPrice=this.getTotal(this.basket),this.orderService.basket.next(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket)),this.resetForm()}else this.resetForm()}resetForm(){this.userName="",this.userEmail="",this.userPhone=null,this.userStreet="",this.userPay=""}}let go=(()=>{class t{constructor(t){this.http=t,this.basket=new kt.a,this.url="http://localhost:3000/orders"}addBasket(t){let e=[];if(localStorage.getItem("basket"))if(e=JSON.parse(localStorage.getItem("basket")),e.some(e=>e.id===t.id)){const n=e.findIndex(e=>e.id===t.id);e[n].count+=t.count}else e.push(t);else e.push(t);localStorage.setItem("basket",JSON.stringify(e)),this.basket.next(e)}getOrders(){return this.http.get(this.url)}postOrders(t){return this.http.post(this.url,t)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb($i))},token:t,providedIn:"root"}),t})();class mo{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const bo={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},vo="undefined"!=typeof window&&window||{};let yo;function _o(){return void 0===vo||(void 0===vo.__theme?(yo||(yo=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===yo):"bs4"!==vo.__theme)}"undefined"==typeof console||console;class wo{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class Eo{constructor(t,e,n,i,s,o,l,a){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=l,this._posService=a,this.onBeforeShow=new r.n,this.onShown=new r.n,this.onBeforeHide=new r.n,this.onHidden=new r.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=r.r.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof r.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=function(t,e=bo){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new mo(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(t=>i.push(t())),s.length=0};return n.forEach(n=>{const l=n.open===n.close,a=l?e.toggle:e.show;l||s.push(()=>t.listen(r,n.close,e.hide)),i.push(t.listen(r,n.open,()=>a(o)))}),()=>{i.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new wo([]);if(t instanceof r.L){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new wo([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new wo([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),i=r.r.create({providers:this._providers,parent:this._injector}),s=e.create(i);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new wo([[s.location.nativeElement]],s.hostView,s)}return new wo([[this._renderer.createText(""+t)]])}}class Co{constructor(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(t,e,n){return new Eo(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}var So=n("VRyK"),Io=n("n6bG");function Oo(t,e,n,r){return Object(Io.a)(n)&&(r=n,n=void 0),r?Oo(t,e,n).pipe(Object(Wt.a)(t=>Object(jt.a)(t)?r(...t):r(t))):new Ut.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,l=e.length;o<l;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var To=n("3N8a");class xo extends To.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var ko=n("IjjT");class Ao extends ko.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Po=new Ao(xo);function Ro(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function jo(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function No(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=Ro(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:No(jo(t))}const Do="undefined"!=typeof window&&"undefined"!=typeof document,Mo=Do&&!(!window.MSInputMethodContext||!document.documentMode),Lo=Do&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Uo(t){return 11===t?Mo:10===t?Lo:Mo||Lo}function Fo(t){if(!t)return document.documentElement;const e=Uo(10)?document.body:null;let n,r=t.offsetParent||null;for(;r===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,r=n.offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Ro(r,"position")?Fo(r):r:n?n.ownerDocument.documentElement:document.documentElement}function Vo(t){return null!==t.parentNode?Vo(t.parentNode):t}function qo(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const{commonAncestorContainer:o}=s;if(t!==o&&e!==o||r.contains(i))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||Fo(t.firstElementChild)===t)}(o)?o:Fo(o);const l=Vo(t);return l.host?qo(l.host,e):qo(t,Vo(e).host)}function Bo(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function zo(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Uo(10)?parseInt(n["offset"+t],10)+parseInt(r["margin"+("Height"===t?"Top":"Left")],10)+parseInt(r["margin"+("Height"===t?"Bottom":"Right")],10):0)}function Ho(t){const e=t.body,n=t.documentElement,r=Uo(10)&&getComputedStyle(n);return{height:zo("Height",e,n,r),width:zo("Width",e,n,r)}}function Go(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function $o(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function Wo(t){let e={};try{if(Uo(10)){e=t.getBoundingClientRect();const n=Go(t,"top"),r=Go(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(o){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?Ho(t.ownerDocument):{};let i=t.offsetWidth-(r.width||t.clientWidth||n.right-n.left),s=t.offsetHeight-(r.height||t.clientHeight||n.bottom-n.top);if(i||s){const e=Ro(t);i-=Bo(e,"x"),s-=Bo(e,"y"),n.width-=i,n.height-=s}return $o(n)}function Ko(t,e,n=!1){const r=Uo(10),i="HTML"===e.nodeName,s=Wo(t),o=Wo(e),l=No(t),a=Ro(e),u=parseFloat(a.borderTopWidth),c=parseFloat(a.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));let h=$o({top:s.top-o.top-u,left:s.left-o.left-c,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){const t=parseFloat(a.marginTop),e=parseFloat(a.marginLeft);h.top-=u-t,h.bottom-=u-t,h.left-=c-e,h.right-=c-e,h.marginTop=t,h.marginLeft=e}return(r&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(h=function(t,e,n=!1){const r=Go(e,"top"),i=Go(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(h,e)),h}function Qo(t){if(!t||!t.parentElement||Uo())return document.documentElement;let e=t.parentElement;for(;e&&"none"===Ro(e,"transform");)e=e.parentElement;return e||document.documentElement}function Jo(t,e,n=0,r,i=!1){let s={top:0,left:0};const o=i?Qo(t):qo(t,e);if("viewport"===r)s=function(t,e=!1){const n=t.ownerDocument.documentElement,r=Ko(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Go(n),l=e?0:Go(n,"left");return $o({top:o-Number(r.top)+Number(r.marginTop),left:l-Number(r.left)+Number(r.marginLeft),width:i,height:s})}(o,i);else{let n;"scrollParent"===r?(n=No(jo(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===r?t.ownerDocument.documentElement:r;const l=Ko(n,o,i);if("HTML"!==n.nodeName||function t(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Ro(e,"position")||t(jo(e)))}(o))s=l;else{const{height:e,width:n}=Ho(t.ownerDocument);s.top+=l.top-l.marginTop,s.bottom=Number(e)+Number(l.top),s.left+=l.left-l.marginLeft,s.right=Number(n)+Number(l.left)}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function Zo({width:t,height:e}){return t*e}function Yo(t,e,n,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const l=Jo(n,r,o,s),a={top:{width:l.width,height:e.top-l.top},right:{width:l.right-e.right,height:l.height},bottom:{width:l.width,height:l.bottom-e.bottom},left:{width:e.left-l.left,height:l.height}},u=Object.keys(a).map(t=>Object.assign(Object.assign({key:t},a[t]),{area:Zo(a[t])})).sort((t,e)=>e.area-t.area);let c=u.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);c=c.filter(t=>i.some(e=>e===t.key));const h=c.length>0?c[0].key:u[0].key,d=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+h),h+(d?"-"+d:"")}function Xo(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function tl(t,e,n=null){return Ko(e,n?Qo(t):qo(t,e),n)}function el(t,e,n){const r=n.split(" ")[0],i=Xo(t),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),l=o?"top":"left",a=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return s[l]=e[l]+e[u]/2-i[u]/2,s[a]=r===a?e[a]-i[c]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(a)],s}function nl(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function rl(t,e,n){Object.keys(e).forEach(r=>{let i="";var s;-1!==["width","height","top","right","bottom","left"].indexOf(r)&&""!==(s=e[r])&&!isNaN(parseFloat(s))&&isFinite(s)&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function il(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const r=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),l=r?"left":"top",a=r?"bottom":"right",u=Xo(n)[i],c=t.placement.split(" ")[1];t.offsets.host[a]-u<e[o]&&(e[o]-=e[o]-(t.offsets.host[a]-u)),Number(t.offsets.host[o])+Number(u)>e[a]&&(e[o]+=Number(t.offsets.host[o])+Number(u)-Number(e[a])),e=$o(e);const h=Ro(t.instance.target),d=parseFloat(h["margin"+s]),f=parseFloat(h[`border${s}Width`]);let p;if(c){const e=parseFloat(h.borderRadius),n=Number(d+f+e);p=o===c?Number(t.offsets.host[o])+n:Number(t.offsets.host[o])+Number(t.offsets.host[i]-n)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[i]/2-u/2);let g=p-e[o]-d-f;return g=Math.max(Math.min(e[i]-u,g),0),t.offsets.arrow={[o]:Math.round(g),[l]:""},t.instance.arrow=n,t}function sl(t){if(t.offsets.target=$o(t.offsets.target),!nl(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),el(t.instance.target,t.offsets.host,t.placement)),t;const e=Jo(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const i=Yo("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),s=[n,i];return s.forEach((i,o)=>{if(n!==i||s.length===o+1)return t;n=t.placement.split(" ")[0];const l="left"===n&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),a=Math.floor(t.offsets.target.left)<Math.floor(e.left),u=Math.floor(t.offsets.target.right)>Math.floor(e.right),c=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),d="left"===n&&a||"right"===n&&u||"top"===n&&c||"bottom"===n&&h,f=-1!==["top","bottom"].indexOf(n),p=f&&"left"===r&&a||f&&"right"===r&&u||!f&&"left"===r&&c||!f&&"right"===r&&h;(l||d||p)&&((l||d)&&(n=s[o+1]),p&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?" "+r:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),el(t.instance.target,t.offsets.host,t.placement)))}),t}function ol(t){if(!nl(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:r,left:i,[e]:s}=n;n.top="",n.left="",n[e]="";const o=Jo(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=r,n.left=i,n[e]=s;const l={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<o[e]&&(n=Math.max(t.offsets.target[e],o[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let r=t.offsets.target[n];return t.offsets.target[e]>o[e]&&(r=Math.min(t.offsets.target[n],o[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:r}}};let a;return["left","right","top","bottom"].forEach(e=>{a=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),l[a](e))}),t}function ll(t){const e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:e,target:i}=t.offsets,s=-1!==["bottom","top"].indexOf(n),o=s?"left":"top",l=s?"width":"height",a={start:{[o]:e[o]},end:{[o]:e[o]+e[l]-i[l]}};t.offsets.target=Object.assign(Object.assign({},i),{[o]:o===r?a.start[o]:a.end[o]})}return t}class al{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return tl(e,t)}positionElements(t,e,n,r,i){return[sl,ll,ol,il].reduce((t,e)=>e(t),function(t,e,n,r){const i=tl(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const l=o.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);l&&(o=l[1]+(l[2]?" "+l[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto");const a=el(t,i,o);return o=Yo(o,i,t,e,r?r.allowedPositions:void 0),{options:r,instance:{target:t,host:e,arrow:null},offsets:{target:a,host:i,arrow:null},positionFixed:!1,placement:o,placementAuto:s}}(e,t,n,i))}}const ul=new al;class cl{constructor(t,e,n){this.update$$=new kt.a,this.positionElements=new Map,this.isDisabled=!1,function(t){return"browser"===t}(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(So.a)(Oo(window,"scroll",{passive:!0}),Oo(window,"resize",{passive:!0}),Object(Tt.a)(0,Po),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,r,i,s){const o=ul.positionElements(t,e,n,r,i),l=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(o);rl(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${l.left}px, ${l.top}px, 0px)`},s),o.instance.arrow&&rl(o.instance.arrow,o.offsets.arrow,s),function(t,e){const n=t.instance.target;let r=n.className;t.placementAuto&&(r=r.replace(/bs-popover-auto/g,"bs-popover-"+t.placement),r=r.replace(/bs-tooltip-auto/g,"bs-tooltip-"+t.placement),r=r.replace(/\sauto/g," "+t.placement),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,""+t.placement.split(" ")[0]),e?e.setAttribute(n,"class",r):n.className=r}(o,s)}(hl(t.target),hl(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(hl(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(hl(t))}setOptions(t){this.options=t}}function hl(t){return"string"==typeof t?document.querySelector(t):t instanceof r.l?t.nativeElement:t}class dl{constructor(){this.hide=Function,this.setClass=Function}}class fl{}const pl={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},gl=new r.q("override-default-config"),ml="modal-open",bl="show";class vl{constructor(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,_o()?"in":bl)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,ml)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,_o()?"in":bl),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,ml),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}class yl{constructor(t,e){this._isShown=!1,this.element=t,this.renderer=e}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),_o()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return e&&e.opener||(e=vo),e.getComputedStyle(t)}}.reflow(this.element.nativeElement)),this.isShown=!0}}class _l{constructor(t,e,n){this.clf=e,this.modalDefaultOption=n,this.onShow=new r.n,this.onShown=new r.n,this.onHide=new r.n,this.onHidden=new r.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=n?Object.assign({},pl,n):pl}show(t,e){this.modalsCount++,this._createLoaders();const n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},pl,this.modalDefaultOption,e):Object.assign({},pl,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(yl).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var e;const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const r of this.config.providers)n.provide(r);const i=new dl,s=n.provide({provide:fl,useValue:this.config}).provide({provide:dl,useValue:i}).attach(vl).to("body");return i.hide=()=>s.instance.hide(),i.setClass=t=>{s.instance.config.class=t},i.onHidden=new r.n,i.onHide=new r.n,this.copyEvent(n.onBeforeHide,i.onHide),this.copyEvent(n.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance.level=this.getModalsCount(),i.content=n.getInnerComponent()||null,i.id=null===(e=s.instance.config)||void 0===e?void 0:e.id,i}_hideModal(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(t=>{t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,ml),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))}resetScrollbar(){document.body.style.paddingRight=this.originalBodyPadding+"px"}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t);e>=0&&(this.loaders.splice(e,1),this.loaders.forEach((t,e)=>{t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,e){t.subscribe(t=>{e.emit(this.lastDismissReason||t)})}}class wl{static forRoot(){return{ngModule:wl,providers:[_l,Co,cl]}}static forChild(){return{ngModule:wl,providers:[_l,Co,cl]}}}var El=r.tb({encapsulation:0,styles:[[".but[_ngcontent-%COMP%]{width:120px;display:flex;text-align:center;justify-content:center!important;margin-right:10px}.font[_ngcontent-%COMP%]{font-size:20px;font-style:italic}.mybtn[_ngcontent-%COMP%]{color:#f90;font-size:24px;font-weight:900;background-color:#fff;border:none;width:50px}.mybtn[_ngcontent-%COMP%]:focus{border:none;outline:none}.mybtn[_ngcontent-%COMP%]:hover{color:#000}.myimg[_ngcontent-%COMP%]{width:60px;height:60px;display:flex}.mycross[_ngcontent-%COMP%], .mypos[_ngcontent-%COMP%]{position:relative}.mycross[_ngcontent-%COMP%]{top:6px;left:calc(50%);cursor:pointer;color:#c80000;font-weight:700}.mycross[_ngcontent-%COMP%]:hover{color:#000}.mycross[_ngcontent-%COMP%]:focus{color:red}.mybut[_ngcontent-%COMP%]{width:150px;background-color:#f90;font-size:20px;font-weight:500;font-family:sans-serif}"]],data:{}});function Cl(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,19,"tr",[["class","mypos"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"span",[["class","mycross"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.removeProd(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["X"])),(t()(),r.vb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,0,"img",[["alt",""],["class","myimg"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),(t()(),r.vb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(10,null,["",""])),(t()(),r.vb(11,0,null,null,6,"td",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),r.vb(12,0,null,null,5,"div",[["class","but"]],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"button",[["class","mybtn "]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.productCount(t.context.$implicit,!1)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["-"])),(t()(),r.vb(15,0,null,null,0,"input",[["class","w-25 text-center border"],["maxlength","1"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"button",[["class","mybtn "]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.productCount(t.context.$implicit,!0)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["+"])),(t()(),r.vb(18,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(19,null,[" "," "]))],null,(function(t,e){t(e,4,0,e.context.$implicit.image),t(e,6,0,e.context.$implicit.name),t(e,8,0,e.context.$implicit.count),t(e,10,0,e.context.$implicit.price),t(e,15,0,e.context.$implicit.count),t(e,19,0,e.context.$implicit.price*e.context.$implicit.count)}))}function Sl(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Order"])),(t()(),r.vb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(6,0,null,null,63,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,62,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,9).onReset()&&i),i}),null,null)),r.ub(8,16384,null,0,uo,[],null,null),r.ub(9,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(11,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(12,0,null,null,8,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"label",[["for","userName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name: "])),(t()(),r.vb(15,0,null,null,5,"input",[["class","w-75 rounded border"],["id","userName"],["name","userName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,16)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,16).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,16)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userName=n)&&i),i}),null,null)),r.ub(16,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(18,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(20,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(21,0,null,null,8,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(22,0,null,null,1,"label",[["for","userEmail"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Email: "])),(t()(),r.vb(24,0,null,null,5,"input",[["class","w-75 rounded border"],["id","userEmail"],["name","userEmail"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,25)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,25).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,25)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,25)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userEmail=n)&&i),i}),null,null)),r.ub(25,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(27,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(29,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(30,0,null,null,8,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(31,0,null,null,1,"label",[["for","userPhone"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Phone number: "])),(t()(),r.vb(33,0,null,null,5,"input",[["class","w-75 rounded border"],["id","userPhone"],["name","userPhone"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,34)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,34).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,34)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,34)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userPhone=n)&&i),i}),null,null)),r.ub(34,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(36,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(38,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(39,0,null,null,8,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(40,0,null,null,1,"label",[["for","userStreet"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Street: "])),(t()(),r.vb(42,0,null,null,5,"input",[["class","w-75 rounded border"],["id","userStreet"],["name","userStreet"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,43)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,43).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,43)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,43)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userStreet=n)&&i),i}),null,null)),r.ub(43,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(45,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(47,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(48,0,null,null,16,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(49,0,null,null,1,"label",[["for","userPay"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Pay way: "])),(t()(),r.vb(51,0,null,null,13,"select",[["class","custom-select w-75 rounded border"],["id","userPay"],["name","userPay"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,s=t.component;return"change"===e&&(i=!1!==r.Ib(t,52).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,52).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(s.userPay=n)&&i),i}),null,null)),r.ub(52,16384,null,0,Ls,[r.D,r.l],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[Ls]),r.ub(54,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(56,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(57,0,null,null,3,"option",[["class","border"]],null,null,null,null,null)),r.ub(58,147456,null,0,Us,[r.l,r.D,[2,Ls]],null,null),r.ub(59,147456,null,0,Vs,[r.l,r.D,[8,null]],null,null),(t()(),r.Rb(-1,null,["Cash "])),(t()(),r.vb(61,0,null,null,3,"option",[["class","border"]],null,null,null,null,null)),r.ub(62,147456,null,0,Us,[r.l,r.D,[2,Ls]],null,null),r.ub(63,147456,null,0,Vs,[r.l,r.D,[8,null]],null,null),(t()(),r.Rb(-1,null,["Card "])),(t()(),r.vb(65,0,null,null,4,"div",[["class","d-flex justify-content-end mb-3"]],null,null,null,null,null)),(t()(),r.vb(66,0,null,null,1,"button",[["class","btn btn-danger mr-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(68,0,null,null,1,"button",[["class","btn btn-success submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addOrder()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Accept Order"]))],(function(t,e){var n=e.component;t(e,18,0,"userName",n.userName),t(e,27,0,"userEmail",n.userEmail),t(e,36,0,"userPhone",n.userPhone),t(e,45,0,"userStreet",n.userStreet),t(e,54,0,"userPay",n.userPay)}),(function(t,e){t(e,7,0,r.Ib(e,11).ngClassUntouched,r.Ib(e,11).ngClassTouched,r.Ib(e,11).ngClassPristine,r.Ib(e,11).ngClassDirty,r.Ib(e,11).ngClassValid,r.Ib(e,11).ngClassInvalid,r.Ib(e,11).ngClassPending),t(e,15,0,r.Ib(e,20).ngClassUntouched,r.Ib(e,20).ngClassTouched,r.Ib(e,20).ngClassPristine,r.Ib(e,20).ngClassDirty,r.Ib(e,20).ngClassValid,r.Ib(e,20).ngClassInvalid,r.Ib(e,20).ngClassPending),t(e,24,0,r.Ib(e,29).ngClassUntouched,r.Ib(e,29).ngClassTouched,r.Ib(e,29).ngClassPristine,r.Ib(e,29).ngClassDirty,r.Ib(e,29).ngClassValid,r.Ib(e,29).ngClassInvalid,r.Ib(e,29).ngClassPending),t(e,33,0,r.Ib(e,38).ngClassUntouched,r.Ib(e,38).ngClassTouched,r.Ib(e,38).ngClassPristine,r.Ib(e,38).ngClassDirty,r.Ib(e,38).ngClassValid,r.Ib(e,38).ngClassInvalid,r.Ib(e,38).ngClassPending),t(e,42,0,r.Ib(e,47).ngClassUntouched,r.Ib(e,47).ngClassTouched,r.Ib(e,47).ngClassPristine,r.Ib(e,47).ngClassDirty,r.Ib(e,47).ngClassValid,r.Ib(e,47).ngClassInvalid,r.Ib(e,47).ngClassPending),t(e,51,0,r.Ib(e,56).ngClassUntouched,r.Ib(e,56).ngClassTouched,r.Ib(e,56).ngClassPristine,r.Ib(e,56).ngClassDirty,r.Ib(e,56).ngClassValid,r.Ib(e,56).ngClassInvalid,r.Ib(e,56).ngClassPending)}))}function Il(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,22,"table",[["class","table mt-3 border"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,14,"thead",[["class","thead-light"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,0,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.vb(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Product"])),(t()(),r.vb(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name"])),(t()(),r.vb(9,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Count"])),(t()(),r.vb(11,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Price"])),(t()(),r.vb(13,0,null,null,1,"th",[["class","mr-3 text-center"],["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Total"])),(t()(),r.vb(15,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Total"])),(t()(),r.vb(17,0,null,null,6,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,Cl)),r.ub(19,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.vb(20,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),r.vb(21,0,null,null,2,"td",[["colspan","7"]],null,null,null,null,null)),(t()(),r.vb(22,0,null,null,1,"h2",[["class","text-right text-danger"]],null,null,null,null,null)),(t()(),r.Rb(23,null,[" \u0417\u0430\u0433\u0430\u043b\u043e\u043c: "," \u0433\u0440\u043d "])),(t()(),r.vb(24,0,null,null,2,"div",[["class","w-100 d-flex justify-content-center"]],null,null,null,null,null)),(t()(),r.vb(25,0,null,null,1,"button",[["class","btn mybut"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openModal(r.Ib(t,27))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Order"])),(t()(),r.eb(0,[["template",2]],null,0,null,Sl))],(function(t,e){t(e,19,0,e.component.basket)}),(function(t,e){t(e,23,0,e.component.totalPrice)}))}function Ol(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-basket",[],null,null,null,Il,El)),r.ub(1,114688,null,0,po,[go,_l],null,null)],(function(t,e){t(e,1,0)}),null)}var Tl=r.rb("app-basket",po,Ol,{},{},[]);class xl{constructor(t,e,n,r){this.profService=t,this.auth=e,this.db=n,this.storage=r,this.height=!0,this.img=!1,this.user=[]}ngOnInit(){this.getProfile()}getProfile(){this.profUser=JSON.parse(localStorage.getItem("user")),this.productImage=this.profUser.image,console.log(this.profUser)}uploadFile(t){const e=t.target.files[0];this.storage.ref("images/"+e.name).put(e).then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.productImage=t,this.auth.signInWithEmailAndPassword(this.profUser.email,this.profUser.password).then(t=>{this.db.collection("users").ref.where("id","==",t.user.uid).onSnapshot(t=>{t.forEach(t=>{t.data()})})})})})}changeImg(){this.img=!this.img}}let kl=(()=>{class t{constructor(){}}return t.\u0275prov=r.Vb({factory:function(){return new t},token:t,providedIn:"root"}),t})();var Al=n("pxpQ"),Pl=n("qgXg"),Rl=n("Ylt2");class jl extends kt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Nl(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new At.a;if(this.isStopped||this.hasError?s=ke.a.EMPTY:(this.observers.push(t),s=new Rl.a(this,t)),r&&t.add(t=new Al.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Pl.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Nl{constructor(t,e){this.time=t,this.value=e}}function Dl(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,l=!1,a=!1;return function(u){let c;o++,!i||l?(l=!1,i=new jl(t,e,r),c=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){l=!0,i.error(t)},complete(){a=!0,s=void 0,i.complete()}})):c=i.subscribe(this),this.add(()=>{o--,c.unsubscribe(),s&&!a&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}var Ml=n("jmUF");const Ll=new r.q("angularfire2.auth.use-emulator"),Ul=new r.q("angularfire2.auth.settings"),Fl=new r.q("angularfire2.auth.tenant-id"),Vl=new r.q("angularfire2.auth.langugage-code"),ql=new r.q("angularfire2.auth.use-device-language"),Bl=new r.q("angularfire.auth.persistence");let zl=(()=>{class t{constructor(t,e,r,i,s,o,l,a,u,c){const h=new Ml.e(i),d=Object(Ml.i)(h),f=new kt.a,p=Object(Tt.a)(void 0).pipe(Object(Al.b)(h.outsideAngular),de(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Wt.a)(()=>Object(Ml.h)(t,i,e)),Object(Wt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Ml.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),l&&(r.tenantId=l),r.languageCode=a,u&&r.useDeviceLanguage(),n&&(r.settings=n),c&&r.setPersistence(c),r},[e,l,a,u,n,c])})),Dl({bufferSize:1,refCount:!1}));return Ct(r)?this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Tt.a)(null):(p.pipe(Te()).subscribe(),this.authState=p.pipe(de(t=>t.getRedirectResult().then(()=>t,()=>t)),de(t=>i.runOutsideAngular(()=>new Ut.a(t.onAuthStateChanged.bind(t)))),d,Dl(1)),this.user=p.pipe(de(t=>t.getRedirectResult().then(()=>t,()=>t)),de(t=>i.runOutsideAngular(()=>new Ut.a(t.onIdTokenChanged.bind(t)))),d,Dl(1)),this.idToken=this.user.pipe(de(t=>t?Object(xt.a)(t.getIdToken()):Object(Tt.a)(null))),this.idTokenResult=this.user.pipe(de(t=>t?Object(xt.a)(t.getIdTokenResult()):Object(Tt.a)(null))),this.credential=p.pipe(de(t=>Object(So.a)(t.getRedirectResult().then(t=>t,()=>null),f,this.authState.pipe(Jt(t=>!t)))),Object(Wt.a)(t=>(null==t?void 0:t.user)?t:null),d,Dl(1))),Object(Ml.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t(Object(r.Wb)(Ml.c),Object(r.Wb)(Ml.b,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Ll,8),Object(r.Wb)(Ul,8),Object(r.Wb)(Fl,8),Object(r.Wb)(Vl,8),Object(r.Wb)(ql,8),Object(r.Wb)(Bl,8))},token:t,providedIn:"any"}),t})();class Hl{}var Gl=n("D0XW"),$l=n("uXP2"),Wl=n("zIRd"),Kl=n("q/0M"),Ql=n("qOnz"),Jl=function(t,e){return(Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Zl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Yl,Xl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ta=ta||{},ea=Xl||self;function na(){}function ra(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function ia(t){var e=ra(t);return"array"==e||"object"==e&&"number"==typeof t.length}function sa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oa="closure_uid_"+(1e9*Math.random()>>>0),la=0;function aa(t,e,n){return t.call.apply(t.bind,arguments)}function ua(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ca(t,e,n){return(ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ua).apply(null,arguments)}function ha(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var da=Date.now;function fa(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function pa(){this.j=this.j,this.i=this.i}pa.prototype.j=!1,pa.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,oa)&&t[oa]||(t[oa]=++la)}(this)},pa.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ga=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ma=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ba(t){return Array.prototype.concat.apply([],arguments)}function va(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ya(t){return/^[\s\xa0]*$/.test(t)}var _a,wa=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ea(t,e){return-1!=t.indexOf(e)}function Ca(t,e){return t<e?-1:t>e?1:0}t:{var Sa=ea.navigator;if(Sa){var Ia=Sa.userAgent;if(Ia){_a=Ia;break t}}_a=""}function Oa(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ta(t){var e={};for(var n in t)e[n]=t[n];return e}var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<xa.length;s++)n=xa[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Aa(t){return Aa[" "](t),t}Aa[" "]=na;var Pa,Ra,ja=Ea(_a,"Opera"),Na=Ea(_a,"Trident")||Ea(_a,"MSIE"),Da=Ea(_a,"Edge"),Ma=Da||Na,La=Ea(_a,"Gecko")&&!(Ea(_a.toLowerCase(),"webkit")&&!Ea(_a,"Edge"))&&!(Ea(_a,"Trident")||Ea(_a,"MSIE"))&&!Ea(_a,"Edge"),Ua=Ea(_a.toLowerCase(),"webkit")&&!Ea(_a,"Edge");function Fa(){var t=ea.document;return t?t.documentMode:void 0}t:{var Va="",qa=(Ra=_a,La?/rv:([^\);]+)(\)|;)/.exec(Ra):Da?/Edge\/([\d\.]+)/.exec(Ra):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ra):Ua?/WebKit\/(\S+)/.exec(Ra):ja?/(?:Version)[ \/]?(\S+)/.exec(Ra):void 0);if(qa&&(Va=qa?qa[1]:""),Na){var Ba=Fa();if(null!=Ba&&Ba>parseFloat(Va)){Pa=String(Ba);break t}}Pa=Va}var za={};function Ha(t){return function(t,e){var n=za;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=wa(String(Pa)).split("."),r=wa(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",l=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;e=Ca(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Ca(0==o[2].length,0==l[2].length)||Ca(o[2],l[2]),o=o[3],l=l[3]}while(0==e)}return 0<=e}))}var Ga=ea.document&&Na&&(Fa()||parseInt(Pa,10))||void 0,$a=!Na||9<=Number(Ga),Wa=Na&&!Ha("9"),Ka=function(){if(!ea.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ea.addEventListener("test",na,e),ea.removeEventListener("test",na,e)}catch(n){}return t}();function Qa(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ja(t,e){if(Qa.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(La){t:{try{Aa(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Za[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Qa.prototype.b=function(){this.defaultPrevented=!0},fa(Ja,Qa);var Za={2:"touch",3:"pen",4:"mouse"};Ja.prototype.b=function(){Ja.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Wa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(Kh){}};var Ya="closure_listenable_"+(1e6*Math.random()|0),Xa=0;function tu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Xa,this.Y=this.Z=!1}function eu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function nu(t){this.src=t,this.a={},this.b=0}function ru(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=ga(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(eu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function iu(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}nu.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=iu(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new tu(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var su="closure_lm_"+(1e6*Math.random()|0),ou={};function lu(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=gu(r),e&&e[Ya]?e.wa(n,r,sa(i)?!!i.capture:!!i,s):au(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lu(t,e[s],n,r,i);return null}return n=gu(n),t&&t[Ya]?t.va(e,n,sa(r)?!!r.capture:!!r,i):au(t,e,n,!1,r,i)}function au(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sa(i)?!!i.capture:!!i;if(o&&!$a)return null;var l=fu(t);if(l||(t[su]=l=new nu(t)),(n=l.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=du,e=$a?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ka||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function uu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ya])ru(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fu(e))?(ru(n,t),0==n.b&&(n.src=null,e[su]=null)):eu(t)}}}function cu(t){return t in ou?ou[t]:ou[t]="on"+t}function hu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&uu(t),n.call(r,e)}function du(t,e){if(t.Y)return!0;if(!$a){if(!e)t:{e=["window","event"];for(var n=ea,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return hu(t,e=new Ja(e,this))}return hu(t,new Ja(e,this))}function fu(t){return(t=t[su])instanceof nu?t:null}var pu="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(t){return"function"==ra(t)?t:(t[pu]||(t[pu]=function(e){return t.handleEvent(e)}),t[pu])}function mu(){pa.call(this),this.c=new nu(this),this.J=this,this.C=null}function bu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var l=o.listener,a=o.ca||o.src;o.Z&&ru(t.c,o),i=!1!==l.call(a,r)&&i}}return i&&!r.defaultPrevented}fa(mu,pa),mu.prototype[Ya]=!0,(Yl=mu.prototype).addEventListener=function(t,e,n,r){lu(this,t,e,n,r)},Yl.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=sa(i)?!!i.capture:!!i,r=gu(r),e&&e[Ya]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=iu(o=e.a[n],r,i,s))&&(eu(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=fu(e))&&(n=e.a[n.toString()],e=-1,n&&(e=iu(n,r,i,s)),(r=-1<e?n[e]:null)&&uu(r))}(this,t,e,n,r)},Yl.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Qa(t,n);else if(t instanceof Qa)t.target=t.target||n;else{var i=t;ka(t=new Qa(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=bu(o,r,!0,t)&&i}if(i=bu(o=t.a=n,r,!0,t)&&i,i=bu(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=bu(o=t.a=e[s],r,!1,t)&&i;return i},Yl.G=function(){if(mu.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)eu(n[r]);delete e.a[t],e.b--}}this.C=null},Yl.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Yl.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var vu=ea.JSON.stringify;function yu(){this.b=this.a=null}var _u,wu=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Cu}),(function(t){t.reset()}),100);function Eu(){var t=Tu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Cu(){this.next=this.b=this.a=null}function Su(t){ea.setTimeout((function(){throw t}),0)}function Iu(t,e){_u||function(){var t=ea.Promise.resolve(void 0);_u=function(){t.then(xu)}}(),Ou||(_u(),Ou=!0),Tu.add(t,e)}yu.prototype.add=function(t,e){var n=wu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Cu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Cu.prototype.reset=function(){this.next=this.b=this.a=null};var Ou=!1,Tu=new yu;function xu(){for(var t;t=Eu();){try{t.a.call(t.b)}catch(n){Su(n)}var e=wu;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Ou=!1}function ku(t,e){mu.call(this),this.b=t||1,this.a=e||ea,this.f=ca(this.Ya,this),this.g=da()}function Au(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Pu(t,e,n){if("function"==ra(t))n&&(t=ca(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ca(t.handleEvent,t)}return 2147483647<Number(e)?-1:ea.setTimeout(t,e||0)}function Ru(t){t.a=Pu((function(){t.a=null,t.c&&(t.c=!1,Ru(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fa(ku,mu),(Yl=ku.prototype).aa=!1,Yl.M=null,Yl.Ya=function(){if(this.aa){var t=da()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Au(this),this.start()))}},Yl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=da())},Yl.G=function(){ku.S.G.call(this),Au(this),delete this.a};var ju=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Jl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ru(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ea.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pa);function Nu(t){pa.call(this),this.b=t,this.a={}}fa(Nu,pa);var Du=[];function Mu(t,e,n,r){Array.isArray(n)||(n&&(Du[0]=n.toString()),n=Du);for(var i=0;i<n.length;i++){var s=lu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Lu(t){Oa(t.a,(function(t,e){this.a.hasOwnProperty(e)&&uu(t)}),t),t.a={}}function Uu(){this.a=!0}function Fu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return vu(n)}catch(l){return e}}(t,n)+(r?" "+r:"")}))}Nu.prototype.G=function(){Nu.S.G.call(this),Lu(this)},Nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uu.prototype.info=function(){};var Vu=null;function qu(){return Vu=Vu||new mu}function Bu(t){Qa.call(this,"serverreachability",t)}function zu(t){var e=qu();e.dispatchEvent(new Bu(e,t))}function Hu(t){Qa.call(this,"statevent",t)}function Gu(t){var e=qu();e.dispatchEvent(new Hu(e,t))}function $u(t){Qa.call(this,"timingevent",t)}function Wu(t,e){if("function"!=ra(t))throw Error("Fn must not be null and must be a function");return ea.setTimeout((function(){t()}),e)}fa(Bu,Qa),fa(Hu,Qa),fa($u,Qa);var Ku={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Qu={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ju(){}function Zu(){}Ju.prototype.a=null;var Yu,Xu={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function tc(){Qa.call(this,"d")}function ec(){Qa.call(this,"c")}function nc(){}function rc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Nu(this),this.P=ic,this.R=new ku(t=Ma?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}fa(tc,Qa),fa(ec,Qa),fa(nc,Ju),Yu=new nc;var ic=45e3,sc={},oc={};function lc(t,e,n){t.H=1,t.i=kc(Cc(e)),t.j=n,t.I=!0,ac(t,null)}function ac(t,e){t.u=da(),hc(t),t.l=Cc(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Bc(n.b,"t",r),t.D=0,t.a=Mh(t.g,t.g.C?e:null),0<t.O&&(t.F=new ju(ca(t.Ca,t,t.a),t.O)),Mu(t.J,t.a,"readystatechange",t.Wa),e=t.B?Ta(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),zu(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function uc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=cc(t,n);if(i==oc){4==e&&(t.h=4,Gu(14),r=!1),Fu(t.c,t.f,null,"[Incomplete Response]");break}if(i==sc){t.h=4,Gu(15),Fu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fu(t.c,t.f,i,null),mc(t,i)}4==e&&0==n.length&&(t.h=1,Gu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),xh(e),e.F=!0)):(Fu(t.c,t.f,n,"[Invalid Chunked Response]"),gc(t),pc(t))}function cc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?oc:(n=Number(e.substring(n,r)),isNaN(n)?sc:(r+=1)+n>e.length?oc:(e=e.substr(r,n),t.D=r+n,e))}function hc(t){t.U=da()+t.P,dc(t,t.P)}function dc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Wu(ca(t.Ua,t),e)}function fc(t){t.o&&(ea.clearTimeout(t.o),t.o=null)}function pc(t){0==t.g.v||t.A||Ph(t.g,t)}function gc(t){fc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Au(t.R),Lu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function mc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Qc(n.b,t)))if(n.I=t.N,!t.C&&Qc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ah(n),yh(n)}Th(n),Gu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Wu(ca(n.Ra,n),6e3));if(1>=Kc(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else jh(n,11)}else if((t.C||n.a==t)&&Ah(n),!ya(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var l=i[5];if(null!=l&&"number"==typeof l&&0<l){var a=1.5*l;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(Ea(c,"spdy")||Ea(c,"quic")||Ea(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Jc(h,h.b),h.b=null))}if(a.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(a.na=d,xc(a.B,a.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=da()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((a=n).la=Dh(a,a.C?a.ga:null,a.fa),f.C){Zc(a.b,f);var p=f,g=a.D;g&&p.setTimeout(g),p.o&&(fc(p),hc(p)),a.a=f}else Oh(a);0<n.g.length&&Eh(n)}else"stop"!=i[0]&&"close"!=i[0]||jh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jh(n,7):vh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);zu(4)}catch(m){}}function bc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ia(t)||"string"==typeof t)ma(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ia(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ia(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function vc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof vc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function yc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_c(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_c(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function _c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Yl=rc.prototype).setTimeout=function(t){this.P=t},Yl.Wa=function(t){t=t.target;var e=this.F;e&&3==ph(t)?e.f():this.Ca(t)},Yl.Ca=function(t){try{if(t==this.a)t:{var e=ph(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!Ma&&!this.a.$())){this.A||4!=e||7==n||zu(8==n||0>=r?3:2),fc(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,l=this.a;if((o=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ya(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,Gu(12),gc(this),pc(this);break t}Fu(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,mc(this,a)}this.I?(uc(this,e,s),Ma&&this.b&&3==e&&(Mu(this.J,this.R,"tick",this.Va),this.R.start())):(Fu(this.c,this.f,s,null),mc(this,s)),4==e&&gc(this),this.b&&!this.A&&(4==e?Ph(this.g,this):(this.b=!1,hc(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Gu(12)):(this.h=0,Gu(13)),gc(this),pc(this)}}}catch(xw){}},Yl.Va=function(){if(this.a){var t=ph(this.a),e=this.a.$();this.D<e.length&&(fc(this),uc(this,t,e),this.b&&4!=t&&hc(this))}},Yl.cancel=function(){this.A=!0,gc(this)},Yl.Ua=function(){this.o=null;var t=da();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(zu(3),Gu(17)),gc(this),this.h=2,pc(this)):dc(this,this.U-t)},(Yl=vc.prototype).K=function(){yc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Yl.L=function(){return yc(this),this.a.concat()},Yl.get=function(t,e){return _c(this.b,t)?this.b[t]:e},Yl.set=function(t,e){_c(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Yl.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var wc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ec(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ec){this.a=void 0!==e?e:t.a,Sc(this,t.f),this.j=t.j,Ic(this,t.c),Oc(this,t.h),this.g=t.g,e=t.b;var n=new Uc;n.c=e.c,e.a&&(n.a=new vc(e.a),n.b=e.b),Tc(this,n),this.i=t.i}else t&&(n=String(t).match(wc))?(this.a=!!e,Sc(this,n[1]||"",!0),this.j=Ac(n[2]||""),Ic(this,n[3]||"",!0),Oc(this,n[4]),this.g=Ac(n[5]||"",!0),Tc(this,n[6]||"",!0),this.i=Ac(n[7]||"")):(this.a=!!e,this.b=new Uc(null,this.a))}function Cc(t){return new Ec(t)}function Sc(t,e,n){t.f=n?Ac(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ic(t,e,n){t.c=n?Ac(e,!0):e}function Oc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Tc(t,e,n){e instanceof Uc?(t.b=e,function(t,e){e&&!t.f&&(Fc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Vc(this,e),Bc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Pc(e,Mc)),t.b=new Uc(e,t.a))}function xc(t,e,n){t.b.set(e,n)}function kc(t){return xc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^da()).toString(36)),t}function Ac(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ec.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Pc(e,jc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Pc(e,jc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Pc(n,"/"==n.charAt(0)?Dc:Nc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Pc(n,Lc)),t.join("")};var jc=/[#\/\?@]/g,Nc=/[#\?:]/g,Dc=/[#\?]/g,Mc=/[#\?@]/g,Lc=/#/g;function Uc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Fc(t){t.a||(t.a=new vc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Vc(t,e){Fc(t),e=zc(t,e),_c(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_c((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&yc(t)))}function qc(t,e){return Fc(t),e=zc(t,e),_c(t.a.b,e)}function Bc(t,e,n){Vc(t,e),0<n.length&&(t.c=null,t.a.set(zc(t,e),va(n)),t.b+=n.length)}function zc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Hc(t,e){this.b=t,this.a=e}function Gc(t){this.g=t||$c,t=ea.PerformanceNavigationTiming?0<(t=ea.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ea.ia&&ea.ia.ya&&ea.ia.ya()&&ea.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Yl=Uc.prototype).add=function(t,e){Fc(this),this.c=null,t=zc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Yl.forEach=function(t,e){Fc(this),this.a.forEach((function(n,r){ma(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Yl.L=function(){Fc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Yl.K=function(t){Fc(this);var e=[];if("string"==typeof t)qc(this,t)&&(e=ba(e,this.a.get(zc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ba(e,t[n])}return e},Yl.set=function(t,e){return Fc(this),this.c=null,qc(this,t=zc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Yl.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Yl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var $c=10;function Wc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Kc(t){return t.b?1:t.a?t.a.size:0}function Qc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Jc(t,e){t.a?t.a.add(e):t.b=e}function Zc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Yc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Zl(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return va(t.c)}function Xc(){}function th(){this.a=new Xc}function eh(t,e,n){var r=n||"";try{bc(t,(function(t,n){var i=t;sa(t)&&(i=vu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Gc.prototype.cancel=function(){var t,e;if(this.c=Yc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Zl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Xc.prototype.stringify=function(t){return ea.JSON.stringify(t,void 0)},Xc.prototype.parse=function(t){return ea.JSON.parse(t,void 0)};var rh=ea.JSON.parse;function ih(t){mu.call(this),this.headers=new vc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=sh,this.D=this.F=!1}fa(ih,mu);var sh="",oh=/^https?$/i,lh=["POST","PUT"];function ah(t){return"content-type"==t.toLowerCase()}function uh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ch(t),dh(t)}function ch(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function hh(t){if(t.b&&void 0!==ta&&(!t.s[1]||4!=ph(t)||2!=t.X()))if(t.l&&4==ph(t))Pu(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==ph(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(wc)[1]||null;if(!s&&ea.self&&ea.self.location){var o=ea.self.location.protocol;s=o.substr(0,o.length-1)}i=!oh.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<ph(t)?t.a.statusText:""}catch(a){l=""}t.f=l+" ["+t.X()+"]",ch(t)}}finally{dh(t)}}}function dh(t,e){if(t.a){fh(t);var n=t.a,r=t.s[0]?na:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function fh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ea.clearTimeout(t.m),t.m=null)}function ph(t){return t.a?t.a.readyState:0}function gh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Oa(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xc(t,e,n))}function mh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bh(t){this.pa=0,this.g=[],this.c=new Uu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=mh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=mh("baseRetryDelayMs",5e3,t),this.Ma=mh("retryDelaySeedMs",1e4,t),this.Ja=mh("forwardChannelMaxRetries",2,t),this.ma=mh("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Gc(t&&t.concurrentRequestLimit),this.ka=new th,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function vh(t){if(_h(t),3==t.v){var e=t.R++,n=Cc(t.B);xc(n,"SID",t.J),xc(n,"RID",e),xc(n,"TYPE","terminate"),Sh(t,n),(e=new rc(t,t.c,e,void 0)).H=2,e.i=kc(Cc(n)),n=!1,ea.navigator&&ea.navigator.sendBeacon&&(n=ea.navigator.sendBeacon(e.i.toString(),"")),!n&&ea.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mh(e.g,null),e.a.ba(e.i)),e.u=da(),hc(e)}Nh(t)}function yh(t){t.a&&(xh(t),t.a.cancel(),t.a=null)}function _h(t){yh(t),t.j&&(ea.clearTimeout(t.j),t.j=null),Ah(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ea.clearTimeout(t.h),t.h=null)}function wh(t,e){t.g.push(new Hc(t.La++,e)),3==t.v&&Eh(t)}function Eh(t){Wc(t.b)||t.h||(t.h=!0,Iu(t.Ba,t),t.u=0)}function Ch(t,e){var n;n=e?e.f:t.R++;var r=Cc(t.B);xc(r,"SID",t.J),xc(r,"RID",n),xc(r,"AID",t.P),Sh(t,r),t.i&&t.l&&gh(r,t.i,t.l),n=new rc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ih(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Jc(t.b,n),lc(n,r,e)}function Sh(t,e){t.f&&bc({},(function(t,n){xc(e,n,t)}))}function Ih(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ca(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var l=!0,a=0;a<n;a++){var u=i[a].b,c=i[a].a;if(0>(u-=s))s=Math.max(0,i[a].b-100),l=!1;else try{eh(c,o,"req"+u+"_")}catch(bd){r&&r(c)}}if(l){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Oh(t){t.a||t.j||(t.U=1,Iu(t.Aa,t),t.o=0)}function Th(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=Wu(ca(t.Aa,t),Rh(t,t.o)),t.o++,0))}function xh(t){null!=t.s&&(ea.clearTimeout(t.s),t.s=null)}function kh(t){t.a=new rc(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Cc(t.la);xc(e,"RID","rpc"),xc(e,"SID",t.J),xc(e,"CI",t.H?"0":"1"),xc(e,"AID",t.P),Sh(t,e),xc(e,"TYPE","xmlhttp"),t.i&&t.l&&gh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=kc(Cc(e)),n.j=null,n.I=!0,ac(n,t)}function Ah(t){null!=t.m&&(ea.clearTimeout(t.m),t.m=null)}function Ph(t,e){var n=null;if(t.a==e){Ah(t),xh(t),t.a=null;var r=2}else{if(!Qc(t.b,e))return;n=e.s,Zc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=da()-e.u;var i=t.u;(r=qu()).dispatchEvent(new $u(r,n,e,i)),Eh(t)}else Oh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Kc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=Wu(ca(t.Ba,t,e),Rh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Th(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:jh(t,5);break;case 4:jh(t,10);break;case 3:jh(t,6);break;default:jh(t,2)}}function Rh(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function jh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ca(t.Xa,t);n||(n=new Ec("//www.google.com/images/cleardot.gif"),ea.location&&"http"==ea.location.protocol||Sc(n,"https"),kc(n)),function(t,e){var n=new Uu;if(ea.Image){var r=new Image;r.onload=ha(nh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ha(nh,n,r,"TestLoadImage: error",!1,e),r.onabort=ha(nh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ha(nh,n,r,"TestLoadImage: timeout",!1,e),ea.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Gu(2);t.v=0,t.f&&t.f.ra(e),Nh(t),_h(t)}function Nh(t){t.v=0,t.I=-1,t.f&&(0==Yc(t.b).length&&0==t.g.length||(t.b.c.length=0,va(t.g),t.g.length=0),t.f.qa())}function Dh(t,e,n){var r=function(t){return t instanceof Ec?Cc(t):new Ec(t,void 0)}(n);if(""!=r.c)e&&Ic(r,e+"."+r.c),Oc(r,r.h);else{var i=ea.location;r=function(t,e,n,r){var i=new Ec(null,void 0);return t&&Sc(i,t),e&&Ic(i,e),n&&Oc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&Oa(t.W,(function(t,e){xc(r,e,t)})),n=t.na,(e=t.A)&&n&&xc(r,e,n),xc(r,"VER",t.ha),Sh(t,r),r}function Mh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ih(t.Ka)).F=t.C,e}function Lh(){}function Uh(){if(Na&&!(10<=Number(Ga)))throw Error("Environmental error: no available transport.")}function Fh(t,e){mu.call(this),this.a=new bh(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ya(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ya(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Bh(this)}function Vh(t){tc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function qh(){ec.call(this),this.status=1}function Bh(t){this.a=t}(Yl=ih.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Yu),this.a.onreadystatechange=ca(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void uh(this,s)}t=n||"";var i=new vc(this.headers);r&&bc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ah,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ea.FormData&&t instanceof ea.FormData,!(0<=ga(lh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{fh(this),0<this.o&&((this.D=function(t){return Na&&Ha(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ca(this.xa,this)):this.m=Pu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){uh(this,s)}},Yl.xa=function(){void 0!==ta&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Yl.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dh(this))},Yl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),dh(this,!0)),ih.S.G.call(this)},Yl.za=function(){this.j||(this.A||this.l||this.g?hh(this):this.Ta())},Yl.Ta=function(){hh(this)},Yl.X=function(){try{return 2<ph(this)?this.a.status:-1}catch(Ra){return-1}},Yl.$=function(){try{return this.a?this.a.responseText:""}catch(Ra){return""}},Yl.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rh(e)}},Yl.ua=function(){return this.h},Yl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Yl=bh.prototype).ha=8,Yl.v=1,Yl.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new rc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ka(r=Ta(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ih(this,n,e),xc(i=Cc(this.B),"RID",t),xc(i,"CVER",22),this.A&&xc(i,"X-HTTP-Session-Id",this.A),Sh(this,i),this.i&&r&&gh(i,this.i,r),Jc(this.b,n),this.Ga&&xc(i,"TYPE","init"),this.da?(xc(i,"$req",e),xc(i,"SID","null"),n.V=!0,lc(n,i,null)):lc(n,i,e),this.v=2}}else 3==this.v&&(t?Ch(this,t):0==this.g.length||Wc(this.b)||Ch(this))},Yl.Aa=function(){if(this.j=null,kh(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Wu(ca(this.Sa,this),t)}},Yl.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,yh(this),kh(this))},Yl.Ra=function(){null!=this.m&&(this.m=null,yh(this),Th(this),Gu(19))},Yl.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Gu(2)):(this.c.info("Failed to ping google.com"),Gu(1))},(Yl=Lh.prototype).ta=function(){},Yl.sa=function(){},Yl.ra=function(){},Yl.qa=function(){},Yl.Ha=function(){},Uh.prototype.a=function(t,e){return new Fh(t,e)},fa(Fh,mu),(Yl=Fh.prototype).addEventListener=function(t,e,n,r){Fh.S.addEventListener.call(this,t,e,n,r)},Yl.removeEventListener=function(t,e,n,r){Fh.S.removeEventListener.call(this,t,e,n,r)},Yl.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Gu(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Dh(t,null,t.fa),Eh(t)},Yl.close=function(){vh(this.a)},Yl.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,wh(this.a,e)}else this.g?((e={}).__data__=vu(t),wh(this.a,e)):wh(this.a,t)},Yl.G=function(){this.a.f=null,delete this.f,vh(this.a),delete this.a,Fh.S.G.call(this)},fa(Vh,tc),fa(qh,ec),fa(Bh,Lh),Bh.prototype.ta=function(){this.a.dispatchEvent("a")},Bh.prototype.sa=function(t){this.a.dispatchEvent(new Vh(t))},Bh.prototype.ra=function(t){this.a.dispatchEvent(new qh(t))},Bh.prototype.qa=function(){this.a.dispatchEvent("b")},Uh.prototype.createWebChannel=Uh.prototype.a,Fh.prototype.send=Fh.prototype.Pa,Fh.prototype.open=Fh.prototype.Oa,Fh.prototype.close=Fh.prototype.close,Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,Qu.COMPLETE="complete",Zu.EventType=Xu,Xu.OPEN="a",Xu.CLOSE="b",Xu.ERROR="c",Xu.MESSAGE="d",mu.prototype.listen=mu.prototype.va,ih.prototype.listenOnce=ih.prototype.wa,ih.prototype.getLastError=ih.prototype.Qa,ih.prototype.getLastErrorCode=ih.prototype.ua,ih.prototype.getStatus=ih.prototype.X,ih.prototype.getResponseJson=ih.prototype.Na,ih.prototype.getResponseText=ih.prototype.$,ih.prototype.send=ih.prototype.ba;var zh=Ku,Hh=Qu,Gh=Zu,$h=ih,Wh=n("/6Yf"),Kh=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Qh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Jh=new Kl.b("@firebase/firestore");function Zh(){return Jh.logLevel}function Yh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jh.logLevel<=Kl.a.DEBUG){var r=e.map(ed);Jh.debug.apply(Jh,Object($l.g)(["Firestore (8.0.2): "+t],r))}}function Xh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jh.logLevel<=Kl.a.ERROR){var r=e.map(ed);Jh.error.apply(Jh,Object($l.g)(["Firestore (8.0.2): "+t],r))}}function td(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jh.logLevel<=Kl.a.WARN){var r=e.map(ed);Jh.warn.apply(Jh,Object($l.g)(["Firestore (8.0.2): "+t],r))}}function ed(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function nd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function rd(t,e){t||nd()}function id(t,e){return t}function sd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var od=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=sd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ld(t,e){return t<e?-1:t>e?1:0}function ad(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ud(t){return t+"\0"}function cd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var fd=function(){function t(t,e){this.h=t,this.l=e,this._={}}return t.prototype.get=function(t){var e=this.h(t),n=this._[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.l(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){hd(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.T=function(){return dd(this._)},t}(),pd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object($l.c)(e,t),e}(Error),md=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gd(pd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gd(pd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new gd(pd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gd(pd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.I=function(t){return this.seconds===t.seconds?ld(this.nanoseconds,t.nanoseconds):ld(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),bd=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new md(0,0))},t.prototype.A=function(t){return this.timestamp.I(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.P=function(){return this.timestamp},t}(),vd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&nd(),void 0===n?n=t.length-e:n>t.length-e&&nd(),this.segments=t,this.offset=e,this.g=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.V(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.p(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.v=function(t){return this.p(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},t.prototype.D=function(){return this.segments[this.offset]},t.prototype.C=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.T=function(){return 0===this.length},t.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},t.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.prototype.M=function(){return this.O().join("/")},e.prototype.toString=function(){return this.M()},e.k=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new gd(pd.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.$=function(){return new e([])},e}(vd),_d=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.L=function(t){return _d.test(t)},e.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.L(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.M()},e.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},e.q=function(){return new e(["__name__"])},e.U=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new gd(pd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var l=t[i];if("\\"===l){if(i+1===t.length)throw new gd(pd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new gd(pd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===l?(o=!o,i++):"."!==l||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new gd(pd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(vd),Ed=function(){function t(t){this.path=t}return t.K=function(e){return new t(yd.k(e))},t.W=function(e){return new t(yd.k(e).v(5))},t.prototype.j=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yd.V(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.V=function(t,e){return yd.V(t.path,e.path)},t.G=function(t){return t.length%2==0},t.H=function(e){return new t(new yd(e.slice()))},t}();function Cd(t){return null==t}function Sd(t){return 0===t&&1/t==-1/0}function Id(t){return"number"==typeof t&&Number.isInteger(t)&&!Sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Od=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.J=null};function Td(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Od(t,e,n,r,i,s,o)}function xd(t){var e=id(t);if(null===e.J){var n=e.path.M();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.M()+t.op.toString()+_f(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.M()+e.dir;var e})).join(","),Cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Eg(e.startAt)),e.endAt&&(n+="|ub:",n+=Eg(e.endAt)),e.J=n}return e.J}function kd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!mf(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sg(t.startAt,e.startAt)&&Sg(t.endAt,e.endAt)}function Ad(t){return Ed.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Pd=function(){function t(t){this.Y=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.Y)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},t.prototype.X=function(){return 2*this.Y.length},t.prototype.A=function(t){return ld(this.Y,t.Y)},t.prototype.isEqual=function(t){return this.Y===t.Y},t}();Pd.Z=new Pd("");var Rd,jd,Nd=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=bd.min()),void 0===s&&(s=bd.min()),void 0===o&&(o=Pd.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),Dd=function(t){this.count=t};function Md(t){switch(t){case pd.OK:return nd();case pd.CANCELLED:case pd.UNKNOWN:case pd.DEADLINE_EXCEEDED:case pd.RESOURCE_EXHAUSTED:case pd.INTERNAL:case pd.UNAVAILABLE:case pd.UNAUTHENTICATED:return!1;case pd.INVALID_ARGUMENT:case pd.NOT_FOUND:case pd.ALREADY_EXISTS:case pd.PERMISSION_DENIED:case pd.FAILED_PRECONDITION:case pd.ABORTED:case pd.OUT_OF_RANGE:case pd.UNIMPLEMENTED:case pd.DATA_LOSS:return!0;default:return nd()}}function Ld(t){if(void 0===t)return Xh("GRPC error has no .code"),pd.UNKNOWN;switch(t){case Rd.OK:return pd.OK;case Rd.CANCELLED:return pd.CANCELLED;case Rd.UNKNOWN:return pd.UNKNOWN;case Rd.DEADLINE_EXCEEDED:return pd.DEADLINE_EXCEEDED;case Rd.RESOURCE_EXHAUSTED:return pd.RESOURCE_EXHAUSTED;case Rd.INTERNAL:return pd.INTERNAL;case Rd.UNAVAILABLE:return pd.UNAVAILABLE;case Rd.UNAUTHENTICATED:return pd.UNAUTHENTICATED;case Rd.INVALID_ARGUMENT:return pd.INVALID_ARGUMENT;case Rd.NOT_FOUND:return pd.NOT_FOUND;case Rd.ALREADY_EXISTS:return pd.ALREADY_EXISTS;case Rd.PERMISSION_DENIED:return pd.PERMISSION_DENIED;case Rd.FAILED_PRECONDITION:return pd.FAILED_PRECONDITION;case Rd.ABORTED:return pd.ABORTED;case Rd.OUT_OF_RANGE:return pd.OUT_OF_RANGE;case Rd.UNIMPLEMENTED:return pd.UNIMPLEMENTED;case Rd.DATA_LOSS:return pd.DATA_LOSS;default:return nd()}}(jd=Rd||(Rd={}))[jd.OK=0]="OK",jd[jd.CANCELLED=1]="CANCELLED",jd[jd.UNKNOWN=2]="UNKNOWN",jd[jd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jd[jd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jd[jd.NOT_FOUND=5]="NOT_FOUND",jd[jd.ALREADY_EXISTS=6]="ALREADY_EXISTS",jd[jd.PERMISSION_DENIED=7]="PERMISSION_DENIED",jd[jd.UNAUTHENTICATED=16]="UNAUTHENTICATED",jd[jd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jd[jd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jd[jd.ABORTED=10]="ABORTED",jd[jd.OUT_OF_RANGE=11]="OUT_OF_RANGE",jd[jd.UNIMPLEMENTED=12]="UNIMPLEMENTED",jd[jd.INTERNAL=13]="INTERNAL",jd[jd.UNAVAILABLE=14]="UNAVAILABLE",jd[jd.DATA_LOSS=15]="DATA_LOSS";var Ud=function(){function t(t,e){this.V=t,this.root=e||Vd.EMPTY}return t.prototype.rt=function(e,n){return new t(this.V,this.root.rt(e,n,this.V).copy(null,null,Vd.ot,null,null))},t.prototype.remove=function(e){return new t(this.V,this.root.remove(e,this.V).copy(null,null,Vd.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.T=function(){return this.root.T()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Fd(this.root,null,this.V,!1)},t.prototype._t=function(t){return new Fd(this.root,t,this.V,!1)},t.prototype.ft=function(){return new Fd(this.root,null,this.V,!0)},t.prototype.dt=function(t){return new Fd(this.root,t,this.V,!0)},t}(),Fd=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),Vd=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.T=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.T()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.T())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(e,i.key)){if(i.right.T())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},t.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw nd();if(this.right.gt())throw nd();var t=this.left.Ct();if(t!==this.right.Ct())throw nd();return t+(this.gt()?0:1)},t}();Vd.EMPTY=null,Vd.RED=!0,Vd.ot=!1,Vd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw nd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new Vd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.T=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var qd=function(){function t(t){this.V=t,this.data=new Ud(this.V)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.V(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.Ft=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new Bd(this.data.lt())},t.prototype._t=function(t){return new Bd(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.T=function(){return this.data.T()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(0!==this.V(i,s))return!1}return!0},t.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.V);return n.data=e,n},t}(),Bd=function(){function t(t){this.Mt=t}return t.prototype.Et=function(){return this.Mt.Et().key},t.prototype.It=function(){return this.Mt.It()},t}(),zd=new Ud(Ed.V);function Hd(){return zd}function Gd(){return Hd()}var $d=new Ud(Ed.V);function Wd(){return $d}var Kd=new Ud(Ed.V),Qd=new qd(Ed.V);function Jd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Qd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Zd=new qd(ld);function Yd(){return Zd}var Xd=function(){function t(t){this.V=t?function(e,n){return t(e,n)||Ed.V(e.key,n.key)}:function(t,e){return Ed.V(t.key,e.key)},this.kt=Wd(),this.$t=new Ud(this.V)}return t.Lt=function(e){return new t(e.V)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.at()},t.prototype.last=function(){return this.$t.ct()},t.prototype.T=function(){return this.$t.T()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.lt(),r=e.$t.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.V=this.V,r.kt=e,r.$t=n,r},t}(),tf=function(){function t(){this.Bt=new Ud(Ed.V)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):nd():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),ef=function(){function t(t,e,n,r,i,s,o,l){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Kt=o,this.Wt=l}return t.jt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Xd.Lt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&lg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),nf=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}return t.Yt=function(e,n){var r=new Map;return r.set(e,rf.Xt(e,n)),new t(bd.min(),r,Yd(),Hd(),Jd())},t}(),rf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(Pd.Z,n,Jd(),Jd(),Jd())},t}(),sf=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},of=function(t,e){this.targetId=t,this.re=e},lf=function(t,e,n,r){void 0===n&&(n=Pd.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},af=function(){function t(){this.oe=0,this.ae=hf(),this.ce=Pd.Z,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.X()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=Jd(),e=Jd(),n=Jd();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:nd()}})),new rf(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=hf()},t.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ie=function(){this.oe+=1},t.prototype.me=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),uf=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=Hd(),this.Ve=cf(),this.ye=new qd(ld)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof Gp?this.ve(r,t.ie):t.ie instanceof $p&&this.be(r,t.key,t.ie)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.be(s[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:nd()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.Fe=function(t){var e=t.targetId,n=t.re.count,r=this.Oe(e);if(r){var i=r.target;if(Ad(i))if(0===n){var s=new Ed(i.path);this.be(e,s,new $p(s,bd.min()))}else rd(1===n);else this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var s=e.Oe(i);if(s){if(r.Zt&&Ad(s.target)){var o=new Ed(s.target.path);null!==e.ge.get(o)||e.$e(i,o)||e.be(i,o,new $p(o,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Jd();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.Oe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new nf(t,n,this.ye,this.ge,r);return this.ge=Hd(),this.Ve=cf(),this.ye=new qd(ld),i},t.prototype.ve=function(t,e){if(this.Ne(t)){var n=this.$e(t,e.key)?2:0;this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t))}},t.prototype.be=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ie=function(t){this.Ce(t).Ie()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new af,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new qd(ld),this.Ve=this.Ve.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||Yh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new af),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},t.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},t}();function cf(){return new Ud(Ed.V)}function hf(){return new Ud(Ed.V)}function df(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ff(t){var e=wf(t.mapValue.fields.__local_write_time__.timestampValue);return new md(e.seconds,e.nanos)}var pf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?df(t)?4:10:nd()}function mf(t,e){var n=gf(t);if(n!==gf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ff(t).isEqual(ff(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=wf(t.timestampValue),r=wf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Cf(t.bytesValue).isEqual(Cf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ef(t.geoPointValue.latitude)===Ef(e.geoPointValue.latitude)&&Ef(t.geoPointValue.longitude)===Ef(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ef(t.integerValue)===Ef(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ef(t.doubleValue),r=Ef(e.doubleValue);return n===r?Sd(n)===Sd(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ad(t.arrayValue.values||[],e.arrayValue.values||[],mf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(cd(n)!==cd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mf(n[i],r[i])))return!1;return!0}(t,e);default:return nd()}}function bf(t,e){return void 0!==(t.values||[]).find((function(t){return mf(t,e)}))}function vf(t,e){var n=gf(t),r=gf(e);if(n!==r)return ld(n,r);switch(n){case 0:return 0;case 1:return ld(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ef(t.integerValue||t.doubleValue),r=Ef(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yf(t.timestampValue,e.timestampValue);case 4:return yf(ff(t),ff(e));case 5:return ld(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Cf(t),r=Cf(e);return n.A(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=ld(n[i],r[i]);if(0!==s)return s}return ld(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ld(Ef(t.latitude),Ef(e.latitude));return 0!==n?n:ld(Ef(t.longitude),Ef(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=vf(n[i],r[i]);if(s)return s}return ld(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var l=ld(r[o],s[o]);if(0!==l)return l;var a=vf(n[r[o]],i[s[o]]);if(0!==a)return a}return ld(r.length,s.length)}(t.mapValue,e.mapValue);default:throw nd()}}function yf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ld(t,e);var n=wf(t),r=wf(e),i=ld(n.seconds,r.seconds);return 0!==i?i:ld(n.nanos,r.nanos)}function _f(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=wf(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cf(e.bytesValue).toBase64():"referenceValue"in e?Ed.W(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):nd();var n}(t)}function wf(t){if(rd(!!t),"string"==typeof t){var e=0,n=pf.exec(t);if(rd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ef(t.seconds),nanos:Ef(t.nanos)}}function Ef(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cf(t){return"string"==typeof t?Pd.fromBase64String(t):Pd.fromUint8Array(t)}function Sf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function If(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function Tf(t){return!!t&&"nullValue"in t}function xf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kf(t){return!!t&&"mapValue"in t}var Af={asc:"ASCENDING",desc:"DESCENDING"},Pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rf=function(t,e){this.t=t,this.Ue=e};function jf(t){return{integerValue:""+t}}function Nf(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function Df(t,e){return Id(e)?jf(e):Nf(t,e)}function Mf(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lf(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Uf(t,e){return Mf(t,e.P())}function Ff(t){return rd(!!t),bd.m(function(t){var e=wf(t);return new md(e.seconds,e.nanos)}(t))}function Vf(t,e){return function(t){return new yd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).M()}function qf(t){var e=yd.k(t);return rd(up(e)),e}function Bf(t,e){return Vf(t.t,e.path)}function zf(t,e){var n=qf(e);if(n.get(1)!==t.t.projectId)throw new gd(pd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new gd(pd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Ed(Wf(n))}function Hf(t,e){return Vf(t.t,e)}function Gf(t){var e=qf(t);return 4===e.length?yd.$():Wf(e)}function $f(t){return new yd(["projects",t.t.projectId,"databases",t.t.database]).M()}function Wf(t){return rd(t.length>4&&"documents"===t.get(4)),t.v(5)}function Kf(t,e,n){return{name:Bf(t,e),fields:n.proto.mapValue.fields}}function Qf(t,e){var n;if(e instanceof jp)n={update:Kf(t,e.key,e.value)};else if(e instanceof Fp)n={delete:Bf(t,e.key)};else if(e instanceof Np)n={update:Kf(t,e.key,e.data),updateMask:ap(e.Qe)};else if(e instanceof Mp)n={transform:{document:Bf(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof pp)return{fieldPath:e.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof gp)return{fieldPath:e.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof bp)return{fieldPath:e.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof yp)return{fieldPath:e.field.M(),increment:n.Ke};throw nd()}(0,t)}))}};else{if(!(e instanceof Vp))return nd();n={verify:Bf(t,e.key)}}return e.je.We||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Uf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:nd()}(t,e.je)),n}function Jf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ip.updateTime(Ff(t.updateTime)):void 0!==t.exists?Ip.exists(t.exists):Ip.Ge()}(e.currentDocument):Ip.Ge();if(e.update){var r=zf(t,e.update.name),i=new qp({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Ep((t.fieldPaths||[]).map((function(t){return wd.U(t)})))}(e.updateMask);return new Np(r,i,s,n)}return new jp(r,i,n)}if(e.delete){var o=zf(t,e.delete);return new Fp(o,n)}if(e.transform){var l=zf(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(rd("REQUEST_TIME"===e.setToServerValue),n=new pp):"appendMissingElements"in e?n=new gp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new bp(e.removeAllFromArray.values||[]):"increment"in e?n=new yp(t,e.increment):nd();var r=wd.U(e.fieldPath);return new Cp(r,n)}(t,e)}));return rd(!0===n.exists),new Mp(l,a)}if(e.verify){var u=zf(t,e.verify);return new Vp(u,n)}return nd()}function Zf(t,e){return{documents:[Hf(t,e.path)]}}function Yf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hf(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(xf(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NAN"}};if(Tf(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(xf(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NOT_NAN"}};if(Tf(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(t.field),op:rp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ip(t.field),direction:np(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ue||Cd(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=tp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=tp(e.endAt)),n}function Xf(t){var e=Gf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rd(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[lp(e)]:void 0!==e.fieldFilter?[op(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):nd():[]}(n.where));var l=[];n.orderBy&&(l=n.orderBy.map((function(t){return function(t){return new Ig(sp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return Cd(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=ep(n.startAt));var c=null;return n.endAt&&(c=ep(n.endAt)),Qp(e,i,l,o,a,"F",u,c)}function tp(t){return{before:t.before,values:t.position}}function ep(t){return new wg(t.values||[],!!t.before)}function np(t){return Af[t]}function rp(t){return Pf[t]}function ip(t){return{fieldPath:t.M()}}function sp(t){return wd.U(t.fieldPath)}function op(t){return dg.create(sp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return nd()}}(t.fieldFilter.op),t.fieldFilter.value)}function lp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=sp(t.unaryFilter.field);return dg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=sp(t.unaryFilter.field);return dg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sp(t.unaryFilter.field);return dg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sp(t.unaryFilter.field);return dg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return nd()}}function ap(t){var e=[];return t.fields.forEach((function(t){return e.push(t.M())})),{fieldPaths:e}}function up(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cp=function(){this.ze=void 0};function hp(t,e,n){return t instanceof pp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof gp?mp(t,e):t instanceof bp?vp(t,e):function(t,e){var n=fp(t,e),r=_p(n)+_p(t.Ke);return If(n)&&If(t.Ke)?jf(r):Nf(t.serializer,r)}(t,e)}function dp(t,e,n){return t instanceof gp?mp(t,e):t instanceof bp?vp(t,e):n}function fp(t,e){return t instanceof yp?If(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e}(cp),gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object($l.c)(e,t),e}(cp);function mp(t,e){for(var n=wp(e),r=function(t){n.some((function(e){return mf(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object($l.c)(e,t),e}(cp);function vp(t,e){for(var n=wp(e),r=function(t){n=n.filter((function(e){return!mf(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var yp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Ke=n,r}return Object($l.c)(e,t),e}(cp);function _p(t){return Ef(t.integerValue||t.doubleValue)}function wp(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ep=function(){function t(t){this.fields=t,t.sort(wd.V)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},t.prototype.isEqual=function(t){return ad(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Cp=function(t,e){this.field=t,this.transform=e},Sp=function(t,e){this.version=t,this.transformResults=e},Ip=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Op(t,e){return void 0!==t.updateTime?e instanceof Gp&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Gp}var Tp=function(){};function xp(t,e,n){return t instanceof jp?function(t,e,n){return new Gp(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Np?function(t,e,n){if(!Op(t.je,e))return new Wp(t.key,n.version);var r=Dp(t,e);return new Gp(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Mp?function(t,e,n){if(rd(null!=n.transformResults),!Op(t.je,e))return new Wp(t.key,n.version);var r=Lp(0,e),i=function(t,e,n){var r=[];rd(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,l=null;e instanceof Gp&&(l=e.field(s.field)),r.push(dp(o,l,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Up(t,r.data(),i);return new Gp(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new $p(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function kp(t,e,n,r){return t instanceof jp?function(t,e){if(!Op(t.je,e))return e;var n=Rp(e);return new Gp(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Np?function(t,e){if(!Op(t.je,e))return e;var n=Rp(e),r=Dp(t,e);return new Gp(t.key,n,r,{Je:!0})}(t,e):t instanceof Mp?function(t,e,n,r){if(!Op(t.je,e))return e;var i=Lp(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var l=o[s],a=l.transform,u=null;n instanceof Gp&&(u=n.field(l.field)),null===u&&r instanceof Gp&&(u=r.field(l.field)),i.push(hp(a,u,e))}return i}(t.fieldTransforms,n,e,r),o=Up(t,i.data(),s);return new Gp(t.key,i.version,o,{Je:!0})}(t,e,r,n):function(t,e){return Op(t.je,e)?new $p(t.key,bd.min()):e}(t,e)}function Ap(t,e){return t instanceof Mp?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Gp?e.field(s.field):void 0,l=fp(s.transform,o||null);null!=l&&(n=null==n?(new Bp).set(s.field,l):n.set(s.field,l))}return n?n.Ye():null}(t,e):null}function Pp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||ad(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof gp&&e instanceof gp||t instanceof bp&&e instanceof bp?ad(t.elements,e.elements,mf):t instanceof yp&&e instanceof yp?mf(t.Ke,e.Ke):t instanceof pp&&e instanceof pp}(t.transform,e.transform)}(t,e)})))}function Rp(t){return t instanceof Gp?t.version:bd.min()}var jp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.je=r,i.type=0,i}return Object($l.c)(e,t),e}(Tp),Np=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.je=i,s.type=1,s}return Object($l.c)(e,t),e}(Tp);function Dp(t,e){return function(t,e){var n=new Bp(e);return t.Qe.fields.forEach((function(e){if(!e.T()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ye()}(t,e instanceof Gp?e.data():qp.empty())}var Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.je=Ip.exists(!0),r}return Object($l.c)(e,t),e}(Tp);function Lp(t,e){return e}function Up(t,e,n){for(var r=new Bp(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ye()}var Fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=3,r}return Object($l.c)(e,t),e}(Tp),Vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=4,r}return Object($l.c)(e,t),e}(Tp),qp=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!kf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},t.prototype.isEqual=function(t){return mf(this.proto,t.proto)},t}(),Bp=function(){function t(t){void 0===t&&(t=qp.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===gf(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.C(),e)},t.prototype.Ye=function(){var t=this.en(wd.$(),this.Ze);return null!=t?new qp(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),s=kf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.en(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function zp(t){var e=[];return hd(t.fields||{},(function(t,n){var r=new wd([t]);if(kf(n)){var i=zp(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Ep(e)}var Hp=function(t,e){this.key=t,this.version=e},Gp=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).nn=r,s.Je=!!i.Je,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object($l.c)(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Hp),$p=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object($l.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Hp),Wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Hp),Kp=function(t,e,n,r,i,s,o,l){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===l&&(l=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.on=null,this.an=null};function Qp(t,e,n,r,i,s,o,l){return new Kp(t,e,n,r,i,s,o,l)}function Jp(t){return new Kp(t)}function Zp(t){return!Cd(t.limit)&&"F"===t.limitType}function Yp(t){return!Cd(t.limit)&&"L"===t.limitType}function Xp(t){return t.rn.length>0?t.rn[0].field:null}function tg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function eg(t){return null!==t.collectionGroup}function ng(t){var e=id(t);if(null===e.on){e.on=[];var n=tg(e),r=Xp(e);if(null!==n&&null===r)n.B()||e.on.push(new Ig(n)),e.on.push(new Ig(wd.q(),"asc"));else{for(var i=!1,s=0,o=e.rn;s<o.length;s++){var l=o[s];e.on.push(l),l.field.B()&&(i=!0)}if(!i){var a=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.on.push(new Ig(wd.q(),a))}}}return e.on}function rg(t){var e=id(t);if(!e.an)if("F"===e.limitType)e.an=Td(e.path,e.collectionGroup,ng(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ng(e);r<i.length;r++){var s=i[r];n.push(new Ig(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new wg(e.endAt.position,!e.endAt.before):null,l=e.startAt?new wg(e.startAt.position,!e.startAt.before):null;e.an=Td(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.an}function ig(t,e,n){return new Kp(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sg(t,e){return new Kp(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function og(t,e){return new Kp(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function lg(t,e){return kd(rg(t),rg(e))&&t.limitType===e.limitType}function ag(t){return xd(rg(t))+"|lt:"+t.limitType}function ug(t){return"Query(target="+function(t){var e=t.path.M();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.M()+" "+e.op+" "+_f(e.value);var e})).join(", ")+"]"),Cd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.M()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Eg(t.startAt)),t.endAt&&(e+=", endAt: "+Eg(t.endAt)),"Target("+e+")"}(rg(t))+"; limitType="+t.limitType+")"}function cg(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.j(t.collectionGroup)&&t.path.N(n):Ed.G(t.path)?t.path.isEqual(n):t.path.F(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Cg(t.startAt,ng(t),e)||t.endAt&&Cg(t.endAt,ng(t),e))}(t,e)}function hg(t){return function(e,n){for(var r=!1,i=0,s=ng(t);i<s.length;i++){var o=s[i],l=Og(o,e,n);if(0!==l)return l;r=r||o.field.B()}return 0}}var dg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object($l.c)(e,t),e.create=function(t,n,r){return t.B()?"in"===n||"not-in"===n?this.un(t,n,r):new fg(t,n,r):"array-contains"===n?new bg(t,r):"in"===n?new vg(t,r):"not-in"===n?new yg(t,r):"array-contains-any"===n?new _g(t,r):new e(t,n,r)},e.un=function(t,e,n){return"in"===e?new pg(t,n):new gg(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.hn(vf(e,this.value)):null!==e&&gf(this.value)===gf(e)&&this.hn(vf(e,this.value))},e.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nd()}},e.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ed.W(r.referenceValue),i}return Object($l.c)(e,t),e.prototype.matches=function(t){var e=Ed.V(t.key,this.key);return this.hn(e)},e}(dg),pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=mg(0,n),r}return Object($l.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(dg),gg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=mg(0,n),r}return Object($l.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(dg);function mg(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ed.W(t.referenceValue)}))}var bg=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object($l.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Of(e)&&bf(e.arrayValue,this.value)},e}(dg),vg=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object($l.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&bf(this.value.arrayValue,e)},e}(dg),yg=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object($l.c)(e,t),e.prototype.matches=function(t){if(bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!bf(this.value.arrayValue,e)},e}(dg),_g=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object($l.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return bf(e.value.arrayValue,t)}))},e}(dg),wg=function(t,e){this.position=t,this.before=e};function Eg(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _f(t)})).join(",")}function Cg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.B()?Ed.V(Ed.W(o.referenceValue),n.key):vf(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Sg(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!mf(t.position[n],e.position[n]))return!1;return!0}var Ig=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Og(t,e,n){var r=t.field.B()?Ed.V(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?vf(r,i):nd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nd()}}function Tg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var xg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},kg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.mn=function(){this.Tn=this.wn},t.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&Yh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},t.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},t}(),Ag=function(){function t(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.bn&&nd(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(e,this.result):new t((function(t,i){r.yn=function(n){r.Dn(e,n).next(t,i)},r.pn=function(e){r.Sn(n,e).next(t,i)}}))},t.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Nn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Dn=function(e,n){return e?this.Nn((function(){return e(n)})):t.resolve(n)},t.prototype.Sn=function(e,n){return e?this.Nn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.xn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Fn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},t}(),Pg=function(){function t(e,n,r){this.name=e,this.version=n,this.On=r,12.2===t.Mn(Object(Ql.h)())&&Xh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Yh("SimpleDb","Removing database:",t),Lg(window.indexedDB.deleteDatabase(t)).Cn()},t.kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.$n())return!0;var e=Object(Ql.h)(),n=t.Mn(e),r=0<n&&n<10,i=t.Ln(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.$n=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Bn)},t.qn=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ln=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Un=function(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n=this;return Object($l.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Yh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new gd(pd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jg(t,n))},i.onupgradeneeded=function(t){Yh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.On.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Yh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return n.Qn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object($l.b)(this,void 0,void 0,(function(){var i,s,o,l,a;return Object($l.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,a,u,c;return Object($l.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,l.Un(t)];case 2:return l.db=h.sent(),e=Dg.open(l.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Ag.reject(t)})).Cn(),a={},o.catch((function(){})),[4,e.Wn];case 3:return[2,(a.value=(h.sent(),o),a)];case 4:return Yh("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",c="FirebaseError"!==u.name&&s<3),l.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},l=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Rg=function(){function t(t){this.jn=t,this.Gn=!1,this.zn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Gn=!0},t.prototype.Jn=function(t){this.zn=t},t.prototype.delete=function(){return Lg(this.jn.delete())},t}(),jg=function(t){function e(e,n){var r=this;return(r=t.call(this,pd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object($l.c)(e,t),e}(gd);function Ng(t){return"IndexedDbTransactionError"===t.name}var Dg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new xg,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new jg(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){var r=Fg(e.target.error);n.Yn.reject(new jg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jg(n,e)}},Object.defineProperty(t.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(Yh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Mg(e)},t}(),Mg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Yh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Yh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Lg(n)},t.prototype.add=function(t){return Yh("SimpleDb","ADD",this.store.name,t,t),Lg(this.store.add(t))},t.prototype.get=function(t){var e=this;return Lg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Yh("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Yh("SimpleDb","DELETE",this.store.name,t),Lg(this.store.delete(t))},t.prototype.count=function(){return Yh("SimpleDb","COUNT",this.store.name),Lg(this.store.count())},t.prototype.Xn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Zn(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ts=function(t,e){Yh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(t,e,n){return n.delete()}))},t.prototype.ns=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Zn(r,e)},t.prototype.ss=function(t){var e=this.cursor({});return new Ag((function(n,r){e.onerror=function(t){var e=Fg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Zn=function(t,e){var n=[];return new Ag((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Rg(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ag){var l=o.catch((function(t){return s.done(),Ag.reject(t)}));n.push(l)}s.vn?r():null===s.Hn?i.continue():i.continue(s.Hn)}else r()}})).next((function(){return Ag.xn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Lg(t){return new Ag((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Fg(t.target.error);n(e)}}))}var Ug=!1;function Fg(t){var e=Pg.Mn(Object(Ql.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new gd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ug||(Ug=!0,setTimeout((function(){throw r}),0)),r}}return t}function Vg(){return"undefined"!=typeof window?window:null}function qg(){return"undefined"!=typeof document?document:null}var Bg=function(){function t(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new xg,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}return t.hs=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},t.prototype.Vn=function(){return this._s()},t.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new gd(pd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},t}(),zg=function(){function t(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new kg(this,"async_queue_retry"),this.gs=function(){var e=qg();e&&Yh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=qg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),t.prototype.fs=function(t){this.enqueue(t)},t.prototype.ys=function(t){this.ps(),this.vs(t)},t.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var t=qg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs)}},t.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},t.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},t.prototype.Ds=function(){return Object($l.b)(this,void 0,void 0,(function(){var t,e=this;return Object($l.d)(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!Ng(t=n.sent()))throw t;return Yh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return e.Ds()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,Xh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.As=!1,t}))}));return this.ds=n,n},t.prototype.Pn=function(t,e,n){var r=this;this.ps(),this.Rs.indexOf(t)>-1&&(e=0);var i=Bg.hs(this,t,e,n,(function(t){return r.Cs(t)}));return this.Es.push(i),i},t.prototype.ps=function(){this.Is&&nd()},t.prototype.Ns=function(){},t.prototype.xs=function(){return Object($l.b)(this,void 0,void 0,(function(){var t;return Object($l.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},t.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},t.prototype.Ms=function(t){this.Rs.push(t)},t.prototype.Cs=function(t){var e=this.Es.indexOf(t);this.Es.splice(e,1)},t}();function Hg(t,e){if(Xh("AsyncQueue",e+": "+t),Ng(t))return new gd(pd.UNAVAILABLE,e+": "+t);throw t}var Gg=function(){this.ks=void 0,this.listeners=[]},$g=function(){this.queries=new fd((function(t){return ag(t)}),lg),this.onlineState="Unknown",this.$s=new Set};function Wg(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o,l,a;return Object($l.d)(this,(function(u){switch(u.label){case 0:if(n=id(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Gg),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.Ls(r)];case 2:return o.ks=u.sent(),[3,4];case 3:return l=u.sent(),a=Hg(l,"Initialization of query '"+ug(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Bs(n.onlineState),s.ks&&e.qs(s.ks)&&Zg(n),[2]}}))}))}function Kg(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object($l.d)(this,(function(l){return n=id(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Us(r))]:[2]}))}))}function Qg(t,e){for(var n=id(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],l=n.queries.get(o.query);if(l){for(var a=0,u=l.listeners;a<u.length;a++)u[a].qs(o)&&(r=!0);l.ks=o}}r&&Zg(n)}function Jg(t,e,n){var r=id(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Zg(t){t.$s.forEach((function(t){t.next()}))}var Yg=function(){function t(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ef(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var s=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),s=!0):this.Gs(t,this.onlineState)&&(this.zs(t),s=!0),this.Ws=t,s},t.prototype.onError=function(t){this.Qs.error(t)},t.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},t.prototype.Gs=function(t,e){return!t.fromCache||!(this.options.Hs&&"Offline"!==e||t.docs.T()&&"Offline"!==e)},t.prototype.js=function(t){return t.docChanges.length>0||!!(t.Kt||this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.zs=function(t){t=ef.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},t}(),Xg=function(){function t(t){this.uid=t}return t.prototype.Js=function(){return null!=this.uid},t.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Xg.UNAUTHENTICATED=new Xg(null),Xg.Xs=new Xg("google-credentials-uid"),Xg.Zs=new Xg("first-party-uid");var tm=function(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t},em=function(){function t(){this.ei=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ni=function(){},t.prototype.si=function(t){this.ei=t,t(Xg.UNAUTHENTICATED)},t.prototype.ii=function(){this.ei=null},t}(),nm=function(){function t(t){var e=this;this.ri=null,this.currentUser=Xg.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(Yh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(rd("string"==typeof n.accessToken),new tm(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ni=function(){this.forceRefresh=!0},t.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},t.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},t.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return rd(null===t||"string"==typeof t),new Xg(t)},t}(),rm=function(){function t(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=Xg.Zs}return Object.defineProperty(t.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),im=function(){function t(t,e){this.ui=t,this.hi=e}return t.prototype.getToken=function(){return Promise.resolve(new rm(this.ui,this.hi))},t.prototype.si=function(t){t(Xg.Zs)},t.prototype.ii=function(){},t.prototype.ni=function(){},t}(),sm=function(){function t(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}return t.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=xp(s,e,r[i]))}return e},t.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=kp(i,e,e,this.li))}for(var s=e,o=0,l=this.mutations;o<l.length;o++){var a=l[o];a.key.isEqual(t)&&(e=kp(a,e,s,this.li))}return e},t.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Jd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ad(this.mutations,t.mutations,(function(t,e){return Pp(t,e)}))&&ad(this.baseMutations,t.baseMutations,(function(t,e){return Pp(t,e)}))},t}(),om=function(){function t(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}return t.from=function(e,n,r){rd(e.mutations.length===r.length);for(var i=Kd,s=e.mutations,o=0;o<s.length;o++)i=i.rt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),lm=function(){function t(){this.Ii=new fd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}return t.prototype.Ai=function(t){var e=this.Ii.get(t);return e?e.readTime:bd.min()},t.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},t.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},t.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?Ag.resolve(n.gi):this.pi(t,e)},t.prototype.getEntries=function(t,e){return this.vi(t,e)},t.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},t.prototype.Pi=function(){},t}();function am(t){return new Rf(t,!0)}function um(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var cm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hm=function(){function t(){this.Si=[]}return t.prototype.Di=function(t){this.Si.push(t)},t.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},t}(),dm=function(){function t(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}return t.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},t.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},t.prototype.$i=function(t,e,n){var r=Gd();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].di(t,e);r=r.rt(t,e)})),r},t.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},t.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){var i=n.$i(t,e,r),s=Hd();return i.forEach((function(t,e){e||(e=new $p(t,bd.min())),s=s.rt(t,e)})),s}))},t.prototype.Ui=function(t,e,n){return function(t){return Ed.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qi(t,e.path):eg(e)?this.Ki(t,e,n):this.Wi(t,e,n)},t.prototype.Qi=function(t,e){return this.Oi(t,new Ed(e)).next((function(t){var e=Wd();return t instanceof Gp&&(e=e.rt(t.key,t)),e}))},t.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,s=Wd();return this.Fi.ji(t,i).next((function(o){return Ag.forEach(o,(function(o){var l=function(t,e){return new Kp(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Wi(t,l,n).next((function(t){t.forEach((function(t,e){s=s.rt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Wi=function(t,e,n){var r,i,s=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,s.xi.Gi(t,e)})).next((function(e){return s.zi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,l=s.mutations;o<l.length;o++){var a=l[o],u=a.key,c=r.get(u),h=kp(a,c,c,s.li);r=h instanceof Gp?r.rt(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){cg(e,n)||(r=r.remove(t))})),r}))},t.prototype.zi=function(t,e,n){for(var r=Jd(),i=0,s=e;i<s.length;i++)for(var o=0,l=s[i].mutations;o<l.length;o++){var a=l[o];a instanceof Np&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Gp&&(u=u.rt(t,e))})),u}))},t}(),fm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}return t.Yi=function(e,n){for(var r=Jd(),i=Jd(),s=0,o=n.docChanges;s<o.length;s++){var l=o[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pm=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}return t.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},t}();function gm(t,e){var n=t[1],r=e[1],i=ld(t[0],e[0]);return 0===i?ld(n,r):i}pm.nr=-1;var mm=function(){function t(t){this.sr=t,this.buffer=new qd(gm),this.ir=0}return t.prototype.rr=function(){return++this.ir},t.prototype.ar=function(t){var e=[t,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();gm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),bm={cr:!1,ur:0,hr:0,lr:0},vm=function(){function t(t,e,n){this._r=t,this.dr=e,this.wr=n}return t.Tr=function(e){return new t(e,t.Er,t.Ir)},t}();vm.Er=10,vm.Ir=1e3,vm.mr=new vm(41943040,vm.Er,vm.Ir),vm.Ar=new vm(-1,0,0);var ym=function(){function t(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}return t.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},t.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(t.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),t.prototype.Vr=function(t){var e=this,n=this.Pr?3e5:6e4;Yh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return Object($l.b)(e,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return Ng(e=n.sent())?(Yh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$b(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),_m=function(){function t(t,e){this.vr=t,this.params=e}return t.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Dr=function(t,e){var n=this;if(0===e)return Ag.resolve(pm.nr);var r=new mm(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},t.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},t.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},t.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(Yh("LruGarbageCollector","Garbage collection skipped; disabled"),Ag.resolve(bm)):this.Mr(t).next((function(r){return r<n.params._r?(Yh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),bm):n.kr(t,e)}))},t.prototype.Mr=function(t){return this.vr.Mr(t)},t.prototype.kr=function(t,e){var n,r,i,s,o,l,a,u=this,c=Date.now();return this.br(t,this.params.dr).next((function(e){return e>u.params.wr?(Yh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.wr+" from "+e),r=u.params.wr):r=e,s=Date.now(),u.Dr(t,r)})).next((function(r){return n=r,o=Date.now(),u.Nr(t,n,e)})).next((function(e){return i=e,l=Date.now(),u.Fr(t,n)})).next((function(t){return a=Date.now(),Zh()<=Kl.a.DEBUG&&Yh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(l-o)+"ms\n\tRemoved "+t+" documents in "+(a-l)+"ms\nTotal Duration: "+(a-c)+"ms"),Ag.resolve({cr:!0,ur:r,hr:i,lr:t})}))},t}();function wm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cm(e)),e=Em(t.get(n),e);return Cm(e)}function Em(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Cm(t){return t+"\x01\x01"}function Sm(t){var e=t.length;if(rd(e>=2),2===e)return rd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yd.$();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&nd(),t.charAt(o+1)){case"\x01":var l=t.substring(s,o),a=void 0;0===i.length?a=l:(a=i+=l,i=""),r.push(a);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:nd()}s=o+2}return new yd(r)}var Im=function(t){this.$r=t};function Om(t,e){if(e.document)return function(t,e,n){var r=zf(t,e.name),i=Ff(e.updateTime),s=new qp({mapValue:{fields:e.fields}});return new Gp(r,i,s,{hasCommittedMutations:!!n})}(t.$r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ed.H(e.noDocument.path),r=Pm(e.noDocument.readTime);return new $p(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ed.H(e.unknownDocument.path),s=Pm(e.unknownDocument.version);return new Wp(i,s)}return nd()}function Tm(t,e,n){var r=xm(n),i=e.key.path.S().O();if(e instanceof Gp){var s=function(t,e){return{name:Bf(t,e.key),fields:e.sn().mapValue.fields,updateTime:Mf(t,e.version.P())}}(t.$r,e);return new ib(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof $p){var o=e.key.path.O(),l=Am(e.version),a=e.hasCommittedMutations;return new ib(null,new nb(o,l),null,a,r,i)}if(e instanceof Wp){var u=e.key.path.O(),c=Am(e.version);return new ib(new rb(u,c),null,null,!0,r,i)}return nd()}function xm(t){var e=t.P();return[e.seconds,e.nanoseconds]}function km(t){var e=new md(t[0],t[1]);return bd.m(e)}function Am(t){var e=t.P();return new Zm(e.seconds,e.nanoseconds)}function Pm(t){var e=new md(t.seconds,t.nanoseconds);return bd.m(e)}function Rm(t,e){var n=(e.baseMutations||[]).map((function(e){return Jf(t.$r,e)})),r=e.mutations.map((function(e){return Jf(t.$r,e)})),i=md.fromMillis(e.localWriteTimeMs);return new sm(e.batchId,i,n,r)}function jm(t){var e,n,r=Pm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pm(t.lastLimboFreeSnapshotVersion):bd.min();return void 0!==t.query.documents?(rd(1===(n=t.query).documents.length),e=rg(Jp(Gf(n.documents[0])))):e=function(t){return rg(Xf(t))}(t.query),new Nd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Pd.fromBase64String(t.resumeToken))}function Nm(t,e){var n,r=Am(e.et),i=Am(e.lastLimboFreeSnapshotVersion);n=Ad(e.target)?Zf(t.$r,e.target):Yf(t.$r,e.target);var s=e.resumeToken.toBase64();return new ob(e.targetId,xd(e.target),r,s,e.sequenceNumber,i,n)}function Dm(t){var e=Xf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ig(e,e.limit,"L"):e}var Mm=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}return t.qr=function(e,n,r,i){return rd(""!==e.uid),new t(e.Js()?e.uid:"",n,r,i)},t.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fm(t).ns({index:tb.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Qr=function(t,e,n,r){var i=this,s=Vm(t),o=Fm(t);return o.add({}).next((function(l){rd("number"==typeof l);for(var a=new sm(l,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return Qf(t.$r,e)})),i=n.mutations.map((function(e){return Qf(t.$r,e)}));return new tb(e,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,a),c=[],h=new qd((function(t,e){return ld(t.M(),e.M())})),d=0,f=r;d<f.length;d++){var p=f[d],g=eb.key(i.userId,p.key.path,l);h=h.add(p.key.path.S()),c.push(o.put(u)),c.push(s.put(g,eb.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[l]=a.keys()})),Ag.xn(c).next((function(){return a}))}))},t.prototype.Wr=function(t,e){var n=this;return Fm(t).get(e).next((function(t){return t?(rd(t.userId===n.userId),Rm(n.serializer,t)):null}))},t.prototype.jr=function(t,e){var n=this;return this.Br[e]?Ag.resolve(this.Br[e]):this.Wr(t,e).next((function(t){if(t){var r=t.keys();return n.Br[e]=r,r}return null}))},t.prototype.Gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Fm(t).ns({index:tb.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(rd(e.batchId>=r),s=Rm(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fm(t).ns({index:tb.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fm(t).Xn(tb.userMutationsIndex,n).next((function(t){return t.map((function(t){return Rm(e.serializer,t)}))}))},t.prototype.Mi=function(t,e){var n=this,r=eb.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Vm(t).ns({range:i},(function(r,i,o){var l=r[0],a=r[2],u=Sm(r[1]);if(l===n.userId&&e.path.isEqual(u))return Fm(t).get(a).next((function(t){if(!t)throw nd();rd(t.userId===n.userId),s.push(Rm(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.qi=function(t,e){var n=this,r=new qd(ld),i=[];return e.forEach((function(e){var s=eb.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),l=Vm(t).ns({range:o},(function(t,i,s){var o=t[0],l=t[2],a=Sm(t[1]);o===n.userId&&e.path.isEqual(a)?r=r.add(l):s.done()}));i.push(l)})),Ag.xn(i).next((function(){return n.Jr(t,r)}))},t.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,s=eb.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),l=new qd(ld);return Vm(t).ns({range:o},(function(t,e,s){var o=t[0],a=t[2],u=Sm(t[1]);o===n.userId&&r.N(u)?u.length===i&&(l=l.add(a)):s.done()})).next((function(){return n.Jr(t,l)}))},t.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Fm(t).get(e).next((function(t){if(null===t)throw nd();rd(t.userId===n.userId),r.push(Rm(n.serializer,t))})))})),Ag.xn(i).next((function(){return r}))},t.prototype.Yr=function(t,e){var n=this;return Um(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),Ag.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},t.prototype.Zr=function(t){delete this.Br[t]},t.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return Ag.resolve();var r=IDBKeyRange.lowerBound(eb.prefixForUser(e.userId)),i=[];return Vm(t).ns({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Sm(t[1]);i.push(s)}else r.done()})).next((function(){rd(0===i.length)}))}))},t.prototype.so=function(t,e){return Lm(t,this.userId,e)},t.prototype.io=function(t){var e=this;return qm(t).get(this.userId).next((function(t){return t||new Xm(e.userId,-1,"")}))},t}();function Lm(t,e,n){var r=eb.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Vm(t).ns({range:s,es:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Um(t,e,n){var r=t.store(tb.store),i=t.store(eb.store),s=[],o=IDBKeyRange.only(n.batchId),l=0,a=r.ns({range:o},(function(t,e,n){return l++,n.delete()}));s.push(a.next((function(){rd(1===l)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=eb.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Ag.xn(s).next((function(){return u}))}function Fm(t){return Tb.qn(t,tb.store)}function Vm(t){return Tb.qn(t,eb.store)}function qm(t){return Tb.qn(t,Xm.store)}var Bm=function(){function t(t,e){this.serializer=t,this.Fi=e}return t.prototype.Ri=function(t,e,n){return Gm(t).put($m(e),n)},t.prototype.Vi=function(t,e){var n=Gm(t),r=$m(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},t.prototype.yi=function(t,e){var n=this;return Gm(t).get($m(e)).next((function(t){return n.oo(t)}))},t.prototype.ao=function(t,e){var n=this;return Gm(t).get($m(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:Wm(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Gd();return this.co(t,e,(function(t,e){var i=n.oo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.uo=function(t,e){var n=this,r=Gd(),i=new Ud(Ed.V);return this.co(t,e,(function(t,e){var s=n.oo(e);s?(r=r.rt(t,s),i=i.rt(t,Wm(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},t.prototype.co=function(t,e,n){if(e.T())return Ag.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),s=i.Et();return Gm(t).ns({range:r},(function(t,e,r){for(var o=Ed.H(t);s&&Ed.V(s,o)<0;)n(s,null),s=i.Et();s&&s.isEqual(o)&&(n(s,e),s=i.It()?i.Et():null),s?r.Jn(s.path.O()):r.done()})).next((function(){for(;s;)n(s,null),s=i.It()?i.Et():null}))},t.prototype.Ui=function(t,e,n){var r=this,i=Wd(),s=e.path.length+1,o={};if(n.isEqual(bd.min())){var l=e.path.O();o.range=IDBKeyRange.lowerBound(l)}else{var a=e.path.O(),u=xm(n);o.range=IDBKeyRange.lowerBound([a,u],!0),o.index=ib.collectionReadTimeIndex}return Gm(t).ns(o,(function(t,n,o){if(t.length===s){var l=Om(r.serializer,n);e.path.N(l.key.path)?l instanceof Gp&&cg(e,l)&&(i=i.rt(l.key,l)):o.done()}})).next((function(){return i}))},t.prototype._o=function(t){return new zm(this,!!t&&t.fo)},t.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Hm(t).get(sb.key).next((function(t){return rd(!!t),t}))},t.prototype.ro=function(t,e){return Hm(t).put(sb.key,e)},t.prototype.oo=function(t){if(t){var e=Om(this.serializer,t);return e instanceof $p&&e.version.isEqual(bd.min())?null:e}return null},t}(),zm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).To=e,r.fo=n,r.Eo=new fd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object($l.c)(e,t),e.prototype.bi=function(t){var e=this,n=[],r=0,i=new qd((function(t,e){return ld(t.M(),e.M())}));return this.Ii.forEach((function(s,o){var l=e.Eo.get(s);if(o.gi){var a=Tm(e.To.serializer,o.gi,e.Ai(s));i=i.add(s.path.S());var u=Wm(a);r+=u-l,n.push(e.To.Ri(t,s,a))}else if(r-=l,e.fo){var c=Tm(e.To.serializer,new $p(s,bd.min()),e.Ai(s));n.push(e.To.Ri(t,s,c))}else n.push(e.To.Vi(t,s))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),Ag.xn(n)},e.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},e.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},e}(lm);function Hm(t){return Tb.qn(t,sb.store)}function Gm(t){return Tb.qn(t,ib.store)}function $m(t){return t.path.O()}function Wm(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw nd();e=t.noDocument}return JSON.stringify(e).length}var Km=function(){function t(){this.Io=new Qm}return t.prototype.Kr=function(t,e){return this.Io.add(e),Ag.resolve()},t.prototype.ji=function(t,e){return Ag.resolve(this.Io.getEntries(e))},t}(),Qm=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new qd(yd.V),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.C(),n=t.S(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new qd(yd.V)).O()},t}(),Jm=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;rd(n<r&&n>=0&&r<=11);var s=new Dg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ym.store)}(t),function(t){t.createObjectStore(Xm.store,{keyPath:Xm.keyPath}),t.createObjectStore(tb.store,{keyPath:tb.keyPath,autoIncrement:!0}).createIndex(tb.userMutationsIndex,tb.userMutationsKeyPath,{unique:!0}),t.createObjectStore(eb.store)}(t),cb(t),function(t){t.createObjectStore(ib.store)}(t));var o=Ag.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(lb.store),t.deleteObjectStore(ob.store),t.deleteObjectStore(ab.store)}(t),cb(t)),o=o.next((function(){return function(t){var e=t.store(ab.store),n=new ab(0,0,bd.min().P(),0);return e.put(ab.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(tb.store).Xn().next((function(n){t.deleteObjectStore(tb.store),t.createObjectStore(tb.store,{keyPath:tb.keyPath,autoIncrement:!0}).createIndex(tb.userMutationsIndex,tb.userMutationsKeyPath,{unique:!0});var r=e.store(tb.store),i=n.map((function(t){return r.put(t)}));return Ag.xn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(hb.store,{keyPath:hb.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(sb.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ib.store);e.createIndex(ib.readTimeIndex,ib.readTimeIndexPath,{unique:!1}),e.createIndex(ib.collectionReadTimeIndex,ib.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(db.store,{keyPath:db.keyPath})}(t),function(t){t.createObjectStore(fb.store,{keyPath:fb.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(ib.store).ns((function(t,n){e+=Wm(n)})).next((function(){var n=new sb(e);return t.store(sb.store).put(sb.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Xm.store),r=t.store(tb.store);return n.Xn().next((function(n){return Ag.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(tb.userMutationsIndex,i).next((function(r){return Ag.forEach(r,(function(r){rd(r.userId===n.userId);var i=Rm(e.serializer,r);return Um(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(lb.store),n=t.store(ib.store);return t.store(ab.store).get(ab.key).next((function(t){var r=[];return n.ns((function(n,i){var s=new yd(n),o=function(t){return[0,wm(t)]}(s);r.push(e.get(o).next((function(n){return n?Ag.resolve():function(n){return e.put(new lb(0,wm(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Ag.xn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ub.store,{keyPath:ub.keyPath});var n=e.store(ub.store),r=new Qm,i=function(t){if(r.add(t)){var e=t.C(),i=t.S();return n.put({collectionId:e,parent:wm(i)})}};return e.store(ib.store).ns({es:!0},(function(t,e){var n=new yd(t);return i(n.S())})).next((function(){return e.store(eb.store).ns({es:!0},(function(t,e){var n=Sm(t[1]);return i(n.S())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ob.store);return n.ns((function(t,r){var i=jm(r),s=Nm(e.serializer,i);return n.put(s)}))},t}(),Zm=function(t,e){this.seconds=t,this.nanoseconds=e},Ym=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ym.store="owner",Ym.key="owner";var Xm=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xm.store="mutationQueues",Xm.keyPath="userId";var tb=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};tb.store="mutations",tb.keyPath="batchId",tb.userMutationsIndex="userMutationsIndex",tb.userMutationsKeyPath=["userId","batchId"];var eb=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wm(e)]},t.key=function(t,e,n){return[t,wm(e),n]},t}();eb.store="documentMutations",eb.PLACEHOLDER=new eb;var nb=function(t,e){this.path=t,this.readTime=e},rb=function(t,e){this.path=t,this.version=e},ib=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ib.store="remoteDocuments",ib.readTimeIndex="readTimeIndex",ib.readTimeIndexPath="readTime",ib.collectionReadTimeIndex="collectionReadTimeIndex",ib.collectionReadTimeIndexPath=["parentPath","readTime"];var sb=function(t){this.byteSize=t};sb.store="remoteDocumentGlobal",sb.key="remoteDocumentGlobalKey";var ob=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ob.store="targets",ob.keyPath="targetId",ob.queryTargetsIndexName="queryTargetsIndex",ob.queryTargetsKeyPath=["canonicalId","targetId"];var lb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};lb.store="targetDocuments",lb.keyPath=["targetId","path"],lb.documentTargetsIndex="documentTargetsIndex",lb.documentTargetsKeyPath=["path","targetId"];var ab=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ab.key="targetGlobalKey",ab.store="targetGlobal";var ub=function(t,e){this.collectionId=t,this.parent=e};function cb(t){t.createObjectStore(lb.store,{keyPath:lb.keyPath}).createIndex(lb.documentTargetsIndex,lb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ob.store,{keyPath:ob.keyPath}).createIndex(ob.queryTargetsIndexName,ob.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ab.store)}ub.store="collectionParents",ub.keyPath=["collectionId","parent"];var hb=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hb.store="clientMetadata",hb.keyPath="clientId";var db=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};db.store="bundles",db.keyPath="bundleId";var fb=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};fb.store="namedQueries",fb.keyPath="name";var pb=Object($l.g)(Object($l.g)(Object($l.g)(Object($l.g)([Xm.store,tb.store,eb.store,ib.store,ob.store,Ym.store,ab.store,lb.store],[hb.store]),[sb.store]),[ub.store]),[db.store,fb.store]),gb=function(){function t(t){this.serializer=t}return t.prototype.mo=function(t,e){return mb(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Pm(e.createTime),version:e.version};var e}))},t.prototype.Ao=function(t,e){return mb(t).put({bundleId:(n=e).id,createTime:Am(Ff(n.createTime)),version:n.version});var n},t.prototype.Ro=function(t,e){return bb(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Dm(e.bundledQuery),readTime:Pm(e.readTime)};var e}))},t.prototype.Po=function(t,e){return bb(t).put(function(t){return{name:t.name,readTime:Am(Ff(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function mb(t){return Tb.qn(t,db.store)}function bb(t){return Tb.qn(t,fb.store)}var vb=function(){function t(){this.Vo=new Qm}return t.prototype.Kr=function(t,e){var n=this;if(!this.Vo.has(e)){var r=e.C(),i=e.S();t.Di((function(){n.Vo.add(e)}));var s={collectionId:r,parent:wm(i)};return yb(t).put(s)}return Ag.resolve()},t.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ud(e),""],!1,!0);return yb(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Sm(s.parent))}return n}))},t}();function yb(t){return Tb.qn(t,ub.store)}var _b=function(){function t(t){this.yo=t}return t.prototype.next=function(){return this.yo+=2,this.yo},t.po=function(){return new t(0)},t.vo=function(){return new t(-1)},t}(),wb=function(){function t(t,e){this.Lr=t,this.serializer=e}return t.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new _b(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Co=function(t){return this.So(t).next((function(t){return bd.m(new md(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},t.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},t.prototype.ko=function(t,e){return this.Oo(t,e)},t.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return Eb(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return rd(e.targetCount>0),e.targetCount-=1,n.Do(t,e)}))},t.prototype.Nr=function(t,e,n){var r=this,i=0,s=[];return Eb(t).ns((function(o,l){var a=jm(l);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,s.push(r.$o(t,a)))})).next((function(){return Ag.xn(s)})).next((function(){return i}))},t.prototype.De=function(t,e){return Eb(t).ns((function(t,n){var r=jm(n);e(r)}))},t.prototype.So=function(t){return Cb(t).get(ab.key).next((function(t){return rd(null!==t),t}))},t.prototype.Do=function(t,e){return Cb(t).put(ab.key,e)},t.prototype.Oo=function(t,e){return Eb(t).put(Nm(this.serializer,e))},t.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},t.prototype.qo=function(t,e){var n=xd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Eb(t).ns({range:r,index:ob.queryTargetsIndexName},(function(t,n,r){var s=jm(n);kd(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Uo=function(t,e,n){var r=this,i=[],s=Sb(t);return e.forEach((function(e){var o=wm(e.path);i.push(s.put(new lb(n,o))),i.push(r.Lr.Qo(t,n,e))})),Ag.xn(i)},t.prototype.Ko=function(t,e,n){var r=this,i=Sb(t);return Ag.forEach(e,(function(e){var s=wm(e.path);return Ag.xn([i.delete([n,s]),r.Lr.Wo(t,n,e)])}))},t.prototype.Lo=function(t,e){var n=Sb(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.jo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Sb(t),i=Jd();return r.ns({range:n,es:!0},(function(t,e,n){var r=Sm(t[1]),s=new Ed(r);i=i.add(s)})).next((function(){return i}))},t.prototype.so=function(t,e){var n=wm(e.path),r=IDBKeyRange.bound([n],[ud(n)],!1,!0),i=0;return Sb(t).ns({index:lb.documentTargetsIndex,es:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Eb(t).get(e).next((function(t){return t?jm(t):null}))},t}();function Eb(t){return Tb.qn(t,ob.store)}function Cb(t){return Tb.qn(t,ab.store)}function Sb(t){return Tb.qn(t,lb.store)}var Ib="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ob=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Go=n,r}return Object($l.c)(e,t),e}(hm),Tb=function(){function t(e,n,r,i,s,o,l,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ln=s,this.window=o,this.document=l,this.zo=u,this.Ho=c,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!t.kn())throw new gd(pd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new Ab(this,i),this.sa=n+"main",this.serializer=new Im(a),this.ia=new Pg(this.sa,11,new Jm(this.serializer)),this.ra=new wb(this.Lr,this.serializer),this.Fi=new vb,this.Ni=function(t,e){return new Bm(t,e)}(this.serializer,this.Fi),this.oa=new gb(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===c&&Xh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.qn=function(t,e){if(t instanceof Ob)return Pg.qn(t.Xr,e);throw nd()},t.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new gd(pd.FAILED_PRECONDITION,Ib);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new pm(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},t.prototype._a=function(t){var e=this;return this.na=function(n){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){return this.yr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.fa=function(t){var e=this;this.ia.Kn((function(n){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.da=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return kb(e).put(new hb(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if(Ng(e))return Yh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Yh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},t.prototype.wa=function(t){var e=this;return xb(t).get(Ym.key).next((function(t){return Ag.resolve(e.ma(t))}))},t.prototype.Aa=function(t){return kb(t).delete(this.clientId)},t.prototype.Ra=function(){return Object($l.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object($l.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.qn(e,hb.store);return n.Xn().next((function(t){var e=i.ga(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Ag.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.aa)for(n=0,r=e;n<r.length;n++)this.aa.removeItem(this.Va(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},t.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ta=function(t){var e=this;return this.Ho?Ag.resolve(!0):xb(t).get(Ym.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new gd(pd.FAILED_PRECONDITION,Ib);return!1}}return!(!e.networkEnabled||!e.inForeground)||kb(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Yh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.pa=function(){return Object($l.b)(this,void 0,void 0,(function(){var t=this;return Object($l.d)(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[Ym.store,hb.store],(function(e){var n=new Ob(e,pm.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},t.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},t.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return kb(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.Na=function(t){return Mm.qr(t,this.serializer,this.Fi,this.Lr)},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Oa=function(){return this.Fi},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Yh("IndexedDbPersistence","Starting transaction:",t),this.ia.runTransaction(t,"readonly"===e?"readonly":"readwrite",pb,(function(s){return r=new Ob(s,i.Jo?i.Jo.next():pm.nr),"readwrite-primary"===e?i.wa(r).next((function(t){return!!t||i.Ta(r)})).next((function(e){if(!e)throw Xh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.ln.Ss((function(){return i.na(!1)})),new gd(pd.FAILED_PRECONDITION,cm);return n(r)})).next((function(t){return i.Ia(r).next((function(){return t}))})):i.ka(r).next((function(){return n(r)}))})).then((function(t){return r.Ci(),t}))},t.prototype.ka=function(t){var e=this;return xb(t).get(Ym.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new gd(pd.FAILED_PRECONDITION,Ib)}))},t.prototype.Ia=function(t){var e=new Ym(this.clientId,this.allowTabSynchronization,Date.now());return xb(t).put(Ym.key,e)},t.kn=function(){return Pg.kn()},t.prototype.Ea=function(t){var e=this,n=xb(t);return n.get(Ym.key).next((function(t){return e.ma(t)?(Yh("IndexedDbPersistence","Releasing primary lease."),n.delete(Ym.key)):Ag.resolve()}))},t.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},t.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},t.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},t.prototype.ya=function(t){var e;try{var n=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return Yh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(t){Xh("Failed to set zombie client id.",t)}},t.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(t){}},t.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xb(t){return Tb.qn(t,Ym.store)}function kb(t){return Tb.qn(t,hb.store)}var Ab=function(){function t(t,e){this.db=t,this.Rr=new _m(this,e)}return t.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.xa().De(t,e)},t.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},t.prototype.Qo=function(t,e,n){return Pb(t,n)},t.prototype.Wo=function(t,e,n){return Pb(t,n)},t.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},t.prototype.eo=function(t,e){return Pb(t,e)},t.prototype.Ba=function(t,e){return function(t,e){var n=!1;return qm(t).ss((function(r){return Lm(t,r,e).next((function(t){return t&&(n=!0),Ag.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],s=0;return this.La(t,(function(o,l){if(l<=e){var a=n.Ba(t,o).next((function(e){if(!e)return s++,r.yi(t,o).next((function(){return r.Vi(o),Sb(t).delete([0,wm(o.path)])}))}));i.push(a)}})).next((function(){return Ag.xn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Go);return this.db.xa().ko(t,n)},t.prototype.qa=function(t,e){return Pb(t,e)},t.prototype.La=function(t,e){var n,r=Sb(t),i=pm.nr;return r.ns({index:lb.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==pm.nr&&e(new Ed(Sm(n)),i),i=o,n=s):i=pm.nr})).next((function(){i!==pm.nr&&e(new Ed(Sm(n)),i)}))},t.prototype.Mr=function(t){return this.db.Fa().wo(t)},t}();function Pb(t,e){return Sb(t).put(function(t,e){return new lb(0,wm(t.path),e)}(e,t.Go))}function Rb(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jb=function(){function t(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new Ud(ld),this.Ka=new fd((function(t){return xd(t)}),kd),this.Wa=bd.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new dm(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}return t.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},t}();function Nb(t,e,n,r){return new jb(t,e,n,r)}function Db(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object($l.d)(this,(function(o){switch(o.label){case 0:return n=id(t),r=n.xi,i=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.xi.Hr(t).next((function(o){return s=o,r=n.persistence.Na(e),i=new dm(n.ja,r,n.persistence.Oa()),r.Hr(t)})).next((function(e){for(var n=[],r=[],o=Jd(),l=0,a=s;l<a.length;l++){var u=a[l];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Li(t,o).next((function(t){return{Ha:t,Ja:n,Ya:r}}))}))}))];case 1:return s=o.sent(),[2,(n.xi=r,n.Ga=i,n.Ua.za(n.Ga),s)]}}))}))}function Mb(t,e){var n=id(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.ja._o({fo:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Ag.resolve();return s.forEach((function(t){o=o.next((function(){return r.yi(e,t)})).next((function(e){var s=e,o=n.Ei.get(t);rd(null!==o),(!s||s.version.A(o)<0)&&(s=i._i(t,s,n))&&r.Ri(s,n.Ti)}))})),o.next((function(){return t.xi.Yr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}function Lb(t){var e=id(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function Ub(t,e){var n=id(t),r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.ja._o({fo:!0});i=n.Qa;var o=[];e.Gt.forEach((function(e,s){var l=i.get(s);if(l){o.push(n.ra.Ko(t,e.ne,s).next((function(){return n.ra.Uo(t,e.te,s)})));var a=e.resumeToken;if(a.X()>0){var u=l.st(a,r).nt(t.Go);i=i.rt(s,u),function(t,e,n){return rd(e.resumeToken.X()>0),0===t.resumeToken.X()||e.et.R()-t.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(l,u,e)&&o.push(n.ra.ko(t,u))}}}));var l=Hd();if(e.Ht.forEach((function(r,i){e.Jt.has(r)&&o.push(n.persistence.Lr.qa(t,r))})),o.push(function(t,e,n,r,i){var s=Jd();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=Hd();return n.forEach((function(n,s){var o=t.get(n),l=r;s instanceof $p&&s.version.isEqual(bd.min())?(e.Vi(n,l),i=i.rt(n,s)):null==o||s.version.A(o.version)>0||0===s.version.A(o.version)&&o.hasPendingWrites?(e.Ri(s,l),i=i.rt(n,s)):Yh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.Ht,r).next((function(t){l=t}))),!r.isEqual(bd.min())){var a=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)}));o.push(a)}return Ag.xn(o).next((function(){return s.apply(t)})).next((function(){return n.Ga.Bi(t,l)}))})).then((function(t){return n.Qa=i,t}))}function Fb(t,e){var n=id(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.xi.Gr(t,e)}))}function Vb(t,e){var n=id(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?Ag.resolve(r=i):n.ra.bo(t).next((function(i){return r=new Nd(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||t.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function qb(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:r=id(t),i=r.Qa.get(e),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Lr.removeTarget(t,i)}))];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ng(o=l.sent()))throw o;return Yh("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Qa=r.Qa.remove(e),r.Ka.delete(i.target),[2]}}))}))}function Bb(t,e,n){var r=id(t),i=bd.min(),s=Jd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=id(t),i=r.Ka.get(n);return void 0!==i?Ag.resolve(r.Qa.get(i)):r.ra.qo(e,n)}(r,t,rg(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:bd.min(),n?s:Jd())})).next((function(t){return{documents:t,Xa:s}}))}))}function zb(t,e){var n=id(t),r=id(n.ra),i=n.Qa.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function Hb(t){var e=id(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=id(t),i=Hd(),s=xm(n),o=Gm(e),l=IDBKeyRange.lowerBound(s,!0);return o.ns({index:ib.readTimeIndex,range:l},(function(t,e){var n=Om(r.serializer,e);i=i.rt(n.key,n),s=e.readTime})).next((function(){return{Za:i,readTime:km(s)}}))}(e.ja,t,e.Wa)})).then((function(t){var n=t.Za;return e.Wa=t.readTime,n}))}function Gb(t){return Object($l.b)(this,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){return[2,(e=id(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Gm(t),n=bd.min();return e.ns({index:ib.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=km(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Wa=t}))]}))}))}function $b(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){if(t.code!==pd.FAILED_PRECONDITION||t.message!==cm)throw t;return Yh("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Wb=function(){function t(t,e,n,r,i,s){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=s,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new kg(t,e)}return t.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.oc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ac()},t.prototype.stop=function(){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cc=function(){this.state=0,this.Ps.reset()},t.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},t.prototype.lc=function(t){this._c(),this.stream.send(t)},t.prototype.hc=function(){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},t.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},t.prototype.close=function(t,e){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():e&&e.code===pd.RESOURCE_EXHAUSTED?(Xh(e.toString()),Xh("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):e&&e.code===pd.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.fc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new gd(pd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},t.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return Object($l.b)(t,void 0,void 0,(function(){return Object($l.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ec=function(t){return Yh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(Yh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Kb=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object($l.c)(e,t),e.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},e.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:nd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ue?(rd(void 0===e||"string"==typeof e),Pd.fromBase64String(e||"")):(rd(void 0===e||e instanceof Uint8Array),Pd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(t){var e=void 0===t.code?pd.UNKNOWN:Ld(t.code);return new gd(e,t.message||"")}(o);n=new lf(r,i,s,l||null)}else if("documentChange"in e){var a=e.documentChange,u=zf(t,a.document.name),c=Ff(a.document.updateTime),h=new qp({mapValue:{fields:a.document.fields}}),d=new Gp(u,c,h,{});n=new sf(a.targetIds||[],a.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=zf(t,f.document),g=f.readTime?Ff(f.readTime):bd.min(),m=new $p(p,g);n=new sf([],f.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var b=e.documentRemove,v=zf(t,b.document);n=new sf([],b.removedTargetIds||[],v,null)}else{if(!("filter"in e))return nd();var y=e.filter,_=new Dd(y.count||0);n=new of(y.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return bd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?bd.min():e.readTime?Ff(e.readTime):bd.min()}(t);return this.listener.Rc(e,n)},e.prototype.Pc=function(t){var e={};e.database=$f(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Ad(r)?{documents:Zf(t,r)}:{query:Yf(t,r)}).targetId=e.targetId,e.resumeToken.X()>0?n.resumeToken=Lf(t,e.resumeToken):e.et.A(bd.min())>0&&(n.readTime=Mf(t,e.et.P())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nd()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.lc(e)},e.prototype.gc=function(t){var e={};e.database=$f(this.serializer),e.removeTarget=t,this.lc(e)},e}(Wb),Qb=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Vc=!1,o}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.fc=function(){this.Vc&&this.vc([])},e.prototype.Ic=function(t){return this.ec.Ac("Write",t)},e.prototype.onMessage=function(t){if(rd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=function(t,e){return t&&t.length>0?(rd(void 0!==e),t.map((function(t){return function(t,e){var n=Ff(t.updateTime?t.updateTime:e);n.isEqual(bd.min())&&(n=Ff(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Sp(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ff(t.commitTime);return this.listener.bc(n,e)}return rd(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},e.prototype.Dc=function(){var t={};t.database=$f(this.serializer),this.lc(t)},e.prototype.vc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Qf(e.serializer,t)}))};this.lc(n)},e}(Wb),Jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ec=n,i.serializer=r,i.Cc=!1,i}return Object($l.c)(e,t),e.prototype.Nc=function(){if(this.Cc)throw new gd(pd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===pd.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===pd.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.terminate=function(){this.Cc=!1},e}((function(){})),Zb=function(){function t(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return t.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},t.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},t.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},t.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},t.prototype.qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(Xh(e),this.$c=!1):Yh("OnlineStateTracker",e)},t.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},t}(),Yb=function(t,e,n,r,i){var s=this;this.Kc=t,this.Wc=e,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=i,this.Yc.Xc((function(t){n.fs((function(){return Object($l.b)(s,void 0,void 0,(function(){return Object($l.d)(this,(function(t){switch(t.label){case 0:return lv(this)?(Yh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object($l.b)(this,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){switch(n.label){case 0:return(e=id(t)).Hc.add(4),[4,tv(e)];case 1:return n.sent(),e.Zc.set("Unknown"),e.Hc.delete(4),[4,Xb(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new Zb(n,r)};function Xb(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:if(!lv(t))return[3,4];e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function tv(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ev(t,e){var n=id(t);n.zc.has(e.targetId)||(n.zc.set(e.targetId,e),ov(n)?sv(n):Ev(n).oc()&&rv(n,e))}function nv(t,e){var n=id(t),r=Ev(n);n.zc.delete(e),r.oc()&&iv(n,e),0===n.zc.size&&(r.oc()?r.uc():lv(n)&&n.Zc.set("Unknown"))}function rv(t,e){t.tu.Ie(e.targetId),Ev(t).Pc(e)}function iv(t,e){t.tu.Ie(e),Ev(t).gc(e)}function sv(t){t.tu=new uf({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),Ev(t).start(),t.Zc.Lc()}function ov(t){return lv(t)&&!Ev(t).rc()&&t.zc.size>0}function lv(t){return 0===id(t).Hc.size}function av(t){t.tu=void 0}function uv(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){return t.zc.forEach((function(e,n){rv(t,e)})),[2]}))}))}function cv(t,e){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(n){return av(t),ov(t)?(t.Zc.Uc(e),sv(t)):t.Zc.set("Unknown"),[2]}))}))}function hv(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s;return Object($l.d)(this,(function(o){switch(o.label){case 0:if(t.Zc.set("Online"),!(e instanceof lf&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object($l.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.zc.has(s=i[r])?[4,t.jc.eu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.zc.delete(s),t.tu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Yh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,dv(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof sf?t.tu.pe(e):e instanceof of?t.tu.Fe(e):t.tu.Se(e),n.isEqual(bd.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Lb(t.Kc)];case 8:return i=o.sent(),n.A(i)>=0?[4,function(t,e){var n=t.tu.ke(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=t.zc.get(r);i&&t.zc.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.zc.get(e);if(n){t.zc.set(e,n.st(Pd.Z,n.et)),iv(t,e);var r=new Nd(n.target,e,1,n.sequenceNumber);rv(t,r)}})),t.jc.nu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Yh("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,dv(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function dv(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r=this;return Object($l.d)(this,(function(i){switch(i.label){case 0:if(!Ng(e))throw e;return t.Hc.add(1),[4,tv(t)];case 1:return i.sent(),t.Zc.set("Offline"),n||(n=function(){return Lb(t.Kc)}),t.rs.Ss((function(){return Object($l.b)(r,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return Yh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Hc.delete(1),[4,Xb(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function fv(t,e){return e().catch((function(n){return dv(t,n,e)}))}function pv(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object($l.d)(this,(function(o){switch(o.label){case 0:e=id(t),n=Cv(e),r=e.Gc.length>0?e.Gc[e.Gc.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return lv(t)&&t.Gc.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Fb(e.Kc,r)];case 3:return null===(i=o.sent())?(0===e.Gc.length&&n.uc(),[3,7]):(r=i.batchId,function(t,e){t.Gc.push(e);var n=Cv(t);n.oc()&&n.yc&&n.vc(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,dv(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return gv(e)&&mv(e),[2]}}))}))}function gv(t){return lv(t)&&!Cv(t).rc()&&t.Gc.length>0}function mv(t){Cv(t).start()}function bv(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){return Cv(t).Dc(),[2]}))}))}function vv(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n,r;return Object($l.d)(this,(function(i){for(e=Cv(t),n=0,r=t.Gc;n<r.length;n++)e.vc(r[n].mutations);return[2]}))}))}function yv(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:return r=t.Gc.shift(),i=om.from(r,e,n),[4,fv(t,(function(){return t.jc.su(i)}))];case 1:return s.sent(),[4,pv(t)];case 2:return s.sent(),[2]}}))}))}function _v(t,e){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(n){switch(n.label){case 0:return e&&Cv(t).yc?[4,function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r;return Object($l.d)(this,(function(i){switch(i.label){case 0:return Md(r=e.code)&&r!==pd.ABORTED?(n=t.Gc.shift(),Cv(t).cc(),[4,fv(t,(function(){return t.jc.iu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,pv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return gv(t)&&mv(t),[2]}}))}))}function wv(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return n=id(t),e?(n.Hc.delete(2),[4,Xb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Hc.add(2),[4,tv(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ev(t){var e=this;return t.ru||(t.ru=function(t,e,n){var r=id(t);return r.Nc(),new Kb(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:uv.bind(null,t),dc:cv.bind(null,t),Rc:hv.bind(null,t)}),t.Jc.push((function(n){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return n?(t.ru.cc(),ov(t)?sv(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:e.sent(),av(t),e.label=3;case 3:return[2]}}))}))}))),t.ru}function Cv(t){var e=this;return t.ou||(t.ou=function(t,e,n){var r=id(t);return r.Nc(),new Qb(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:bv.bind(null,t),dc:_v.bind(null,t),Sc:vv.bind(null,t),bc:yv.bind(null,t)}),t.Jc.push((function(n){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return n?(t.ou.cc(),[4,pv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:e.sent(),t.Gc.length>0&&(Yh("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),e.label=4;case 4:return[2]}}))}))}))),t.ou}var Sv=function(){function t(){this.au=new qd(Iv.cu),this.uu=new qd(Iv.hu)}return t.prototype.T=function(){return this.au.T()},t.prototype.Qo=function(t,e){var n=new Iv(t,e);this.au=this.au.add(n),this.uu=this.uu.add(n)},t.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},t.prototype.Wo=function(t,e){this._u(new Iv(t,e))},t.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},t.prototype.du=function(t){var e=this,n=new Ed(new yd([])),r=new Iv(n,t),i=new Iv(n,t+1),s=[];return this.uu.Nt([r,i],(function(t){e._u(t),s.push(t.key)})),s},t.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},t.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},t.prototype.Tu=function(t){var e=new Ed(new yd([])),n=new Iv(e,t),r=new Iv(e,t+1),i=Jd();return this.uu.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.so=function(t){var e=new Iv(t,0),n=this.au.Ft(e);return null!==n&&t.isEqual(n.key)},t}(),Iv=function(){function t(t,e){this.key=t,this.Eu=e}return t.cu=function(t,e){return Ed.V(t.key,e.key)||ld(t.Eu,e.Eu)},t.hu=function(t,e){return ld(t.Eu,e.Eu)||Ed.V(t.key,e.key)},t}();function Ov(t,e){return"firestore_clients_"+t+"_"+e}function Tv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Js()&&(r+="_"+e.uid),r}function xv(t,e){return"firestore_targets_"+t+"_"+e}var kv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Iu=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new gd(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Xh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Av=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Iu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new gd(r.error.code,r.error.message)),i?new t(e,r.state,s):(Xh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Iu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Yd(),o=0;i&&o<r.activeTargetIds.length;++o)i=Id(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Xh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Rv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Iu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xh("SharedClientState","Failed to parse online state: "+e),null)},t}(),jv=function(){function t(){this.activeTargetIds=Yd()}return t.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Nv=function(){function t(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new Ud(ld),this.yr=!1,this.vu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=Ov(this.persistenceKey,this.Pu),this.Su=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new jv),this.Du=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fu=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return t.kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object($l.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,l,a,u,c=this;return Object($l.d)(this,(function(h){switch(h.label){case 0:return[4,this.gu.Ca()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pu&&(i=this.getItem(Ov(this.persistenceKey,r)))&&(s=Pv.Iu(r,i))&&(this.pu=this.pu.rt(s.clientId,s));for(this.Ou(),(o=this.storage.getItem(this.xu))&&(l=this.Mu(o))&&this.ku(l),a=0,u=this.vu;a<u.length;a++)this.yu(u[a]);return this.vu=[],this.window.addEventListener("unload",(function(){return c.pa()})),this.yr=!0,[2]}}))}))},t.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},t.prototype.$u=function(){return this.Lu(this.pu)},t.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qu=function(t){this.Uu(t,"pending")},t.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},t.prototype.Wu=function(t){var e="not-current";if(this.Bu(t)){var n=this.storage.getItem(xv(this.persistenceKey,t));if(n){var r=Av.Iu(t,n);r&&(e=r.state)}}return this.ju.Au(t),this.Ou(),e},t.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},t.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},t.prototype.Hu=function(t){this.removeItem(xv(this.persistenceKey,t))},t.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},t.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},t.prototype.Zu=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Yh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Yh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Yh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.yu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Yh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void Xh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return Object($l.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object($l.d)(this,(function(l){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.ah(r)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(i=this.uh(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xu){if(null!==n.newValue&&(s=this.Mu(n.newValue)))return[2,this.ku(s)]}else if(n.key===this.Su)(o=function(t){var e=pm.nr;if(null!=t)try{var n=JSON.parse(t);rd("number"==typeof n),e=n}catch(t){Xh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==pm.nr&&this.Xi(o);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),t.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},t.prototype.Uu=function(t,e,n){var r=new kv(this.currentUser,t,e,n),i=Tv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.mu())},t.prototype.Ku=function(t){var e=Tv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xu,JSON.stringify({clientId:this.Pu,onlineState:t}))},t.prototype.Yu=function(t,e,n){var r=xv(this.persistenceKey,t),i=new Av(t,e,n);this.setItem(r,i.mu())},t.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},t.prototype.sh=function(t){var e=this.Du.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Pv.Iu(n,e)},t.prototype.oh=function(t,e){var n=this.Cu.exec(t),r=Number(n[1]);return kv.Iu(new Xg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uh=function(t,e){var n=this.Nu.exec(t),r=Number(n[1]);return Av.Iu(r,e)},t.prototype.Mu=function(t){return Rv.Iu(t)},t.prototype.ah=function(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(Yh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),s=this.Lu(r),o=[],l=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||l.push(t)})),this.gu.dh(o,l).then((function(){n.pu=r}))},t.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},t.prototype.Lu=function(t){var e=Yd();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Dv=function(){function t(){this.wh=new jv,this.Th={},this.Oc=null,this.Xi=null}return t.prototype.qu=function(t){},t.prototype.Qu=function(t,e,n){},t.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},t.prototype.Ju=function(t,e,n){this.Th[t]=e},t.prototype.Gu=function(t){this.wh.Ru(t)},t.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Hu=function(t){delete this.Th[t]},t.prototype.$u=function(){return this.wh.activeTargetIds},t.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new jv,Promise.resolve()},t.prototype.Xu=function(t,e,n){},t.prototype.Zu=function(t){},t.prototype.pa=function(){},t.prototype.er=function(t){},t.prototype.eh=function(){},t}(),Mv=function(t){this.key=t},Lv=function(t){this.key=t},Uv=function(){function t(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=Jd(),this.Qt=Jd(),this.Ah=hg(t),this.Rh=new Xd(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new tf,i=e?e.Rh:this.Rh,s=e?e.Qt:this.Qt,o=i,l=!1,a=Zp(this.query)&&i.size===this.query.limit?i.last():null,u=Yp(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var c=i.get(t),h=e instanceof Gp?e:null;h&&(h=cg(n.query,h)?h:null);var d=!!c&&n.Qt.has(c.key),f=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yh(c,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.Ah(h,a)>0||u&&n.Ah(h,u)<0)&&(l=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(a||u)&&(l=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Zp(this.query)||Yp(this.query))for(;o.size>this.query.limit;){var c=Zp(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Rh:o,Vh:r,ph:l,Qt:s}},t.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var s=t.Vh.qt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nd()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var o=e?this.Sh():[],l=0===this.mh.size&&this.Zt?1:0,a=l!==this.Ih;return this.Ih=l,0!==s.length||a?{snapshot:new ef(this.query,t.Rh,i,s,t.Qt,0===l,a,!1),Dh:o}:{Dh:o}},t.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new tf,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},t.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},t.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=Jd(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Lv(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Mv(t))})),n},t.prototype.Nh=function(t){this.Eh=t.Xa,this.mh=Jd();var e=this.gh(t.documents);return this.bi(e,!0)},t.prototype.xh=function(){return ef.jt(this.query,this.Rh,this.Qt,0===this.Ih)},t}(),Fv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Vv=function(t){this.key=t,this.Fh=!1},qv=function(){function t(t,e,n,r,i,s){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new fd((function(t){return ag(t)}),lg),this.qh=new Map,this.Uh=[],this.Qh=new Ud(Ed.V),this.Kh=new Map,this.Wh=new Sv,this.jh={},this.Gh=new Map,this.zh=_b.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Bv(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:return n=by(t),(i=n.Bh.get(e))?(n.kh.Wu(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,Vb(n.Kc,rg(e))];case 2:return s=l.sent(),o=n.kh.Wu(s.targetId),[4,zv(n,e,s.targetId,"current"===o)];case 3:r=l.sent(),n.Jh&&ev(n.Oh,s),l.label=4;case 4:return[2,r]}}))}))}function zv(t,e,n,r){return Object($l.b)(this,void 0,void 0,(function(){var i,s,o,l,a,u;return Object($l.d)(this,(function(c){switch(c.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object($l.b)(this,void 0,void 0,(function(){var i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:return(i=e.view.gh(n)).ph?[4,Bb(t.Kc,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=l.sent(),l.label=2;case 2:return s=r&&r.Gt.get(e.targetId),o=e.view.bi(i,t.Jh,s),[2,(ny(t,e.targetId,o.Dh),o.snapshot)]}}))}))}(t,e,n,r)},[4,Bb(t.Kc,e,!0)];case 1:return i=c.sent(),s=new Uv(e,i.Xa),o=s.gh(i.documents),l=rf.Xt(n,r&&"Offline"!==t.onlineState),a=s.bi(o,t.Jh,l),ny(t,n,a.Dh),u=new Fv(e,n,s),[2,(t.Bh.set(e,u),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),a.snapshot)]}}))}))}function Hv(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:return n=id(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!lg(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Gu(r.targetId),n.kh.Bu(r.targetId)?[3,2]:[4,qb(n.Kc,r.targetId,!1).then((function(){n.kh.Hu(r.targetId),nv(n.Oh,r.targetId),ty(n,r.targetId)})).catch($b)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ty(n,r.targetId),[4,qb(n.Kc,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function Gv(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:r=vy(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(t,e){var n,r=id(t),i=md.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Jd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ga.Li(t,s).next((function(s){n=s;for(var o=[],l=0,a=e;l<a.length;l++){var u=a[l],c=Ap(u,n.get(u.key));null!=c&&o.push(new Np(u.key,c,zp(c.proto.mapValue),Ip.exists(!0)))}return r.xi.Qr(t,i,o,e)}))})).then((function(t){var e=t.wi(n);return{batchId:t.batchId,Ii:e}}))}(r.Kc,e)];case 2:return i=l.sent(),r.kh.qu(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.Ys()];r||(r=new Ud(ld)),r=r.rt(e,n),t.jh[t.currentUser.Ys()]=r}(r,i.batchId,n),[4,sy(r,i.Ii)];case 3:return l.sent(),[4,pv(r.Oh)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),o=Hg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function $v(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r;return Object($l.d)(this,(function(i){switch(i.label){case 0:n=id(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ub(n.Kc,e)];case 2:return r=i.sent(),e.Gt.forEach((function(t,e){var r=n.Kh.get(e);r&&(rd(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.Fh=!0:t.ee.size>0?rd(r.Fh):t.ne.size>0&&(rd(r.Fh),r.Fh=!1))})),[4,sy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$b(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Wv(t,e,n){var r=id(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Bs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=id(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Bs(e)&&(r=!0)})),r&&Zg(n)}(r.Mh,e),i.length&&r.Lh.Rc(i),r.onlineState=e,r.Jh&&r.kh.Zu(e)}}function Kv(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s,o,l,a;return Object($l.d)(this,(function(u){switch(u.label){case 0:return(r=id(t)).kh.Ju(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new Ud(Ed.V)).rt(s,new $p(s,bd.min())),l=Jd().add(s),a=new nf(bd.min(),new Map,new qd(ld),o,l),[4,$v(r,a)]):[3,2];case 1:return u.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),iy(r),[3,4];case 2:return[4,qb(r.Kc,e,!1).then((function(){return ty(r,e,n)})).catch($b)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function Qv(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:n=id(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Mb(n.Kc,e)];case 2:return i=s.sent(),Xv(n,r,null),Yv(n,r),n.kh.Qu(r,"acknowledged"),[4,sy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,$b(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function Jv(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:r=id(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=id(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.xi.Wr(t,e).next((function(e){return rd(null!==e),r=e.keys(),n.xi.Yr(t,e)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}(r.Kc,e)];case 2:return i=s.sent(),Xv(r,e,n),Yv(r,e),r.kh.Qu(e,"rejected",n),[4,sy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,$b(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function Zv(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:lv((n=id(t)).Oh)||Yh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(t){var e=id(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.xi.zr(t)}))}(n.Kc)];case 2:return-1===(r=l.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=l.sent(),o=Hg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function Yv(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function Xv(t,e,n){var r=id(t),i=r.jh[r.currentUser.Ys()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i}}function ty(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||ey(t,e)}))}function ey(t,e){var n=t.Qh.get(e);null!==n&&(nv(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),iy(t))}function ny(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Mv?(t.Wh.Qo(s.key,e),ry(t,s)):s instanceof Lv?(Yh("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.Wo(s.key,e),t.Wh.so(s.key)||ey(t,s.key)):nd()}}function ry(t,e){var n=e.key;t.Qh.get(n)||(Yh("SyncEngine","New document in limbo: "+n),t.Uh.push(n),iy(t))}function iy(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Vv(e)),t.Qh=t.Qh.rt(e,n),ev(t.Oh,new Nd(rg(Jp(e.path)),n,2,pm.nr))}}function sy(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:return r=id(t),i=[],s=[],o=[],r.Bh.T()?[3,3]:(r.Bh.forEach((function(t,l){o.push(r.Yh(l,e,n).then((function(t){if(t){r.Jh&&r.kh.Ju(l.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fm.Yi(l.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return l.sent(),r.Lh.Rc(i),[4,function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o,l,a,u;return Object($l.d)(this,(function(c){switch(c.label){case 0:n=id(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ag.forEach(e,(function(e){return Ag.forEach(e.Hi,(function(r){return n.persistence.Lr.Qo(t,e.targetId,r)})).next((function(){return Ag.forEach(e.Ji,(function(r){return n.persistence.Lr.Wo(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Ng(r=c.sent()))throw r;return Yh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)l=(o=s[i]).targetId,o.fromCache||(a=n.Qa.get(l),u=a.it(a.et),n.Qa=n.Qa.rt(l,u));return[2]}}))}))}(r.Kc,s)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function oy(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r;return Object($l.d)(this,(function(i){switch(i.label){case 0:return(n=id(t)).currentUser.isEqual(e)?[3,3]:(Yh("SyncEngine","User change. New user:",e.Ys()),[4,Db(n.Kc,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new gd(pd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xu(e,r.Ja,r.Ya),[4,sy(n,r.Ha)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ly(t,e){var n=id(t),r=n.Kh.get(e);if(r&&r.Fh)return Jd().add(r.key);var i=Jd(),s=n.qh.get(e);if(!s)return i;for(var o=0,l=s;o<l.length;o++){var a=n.Bh.get(l[o]);i=i.Ot(a.view.Ph)}return i}function ay(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:return[4,Bb((n=id(t)).Kc,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&ny(n,e.targetId,i.Dh),i)]}}))}))}function uy(t){return Object($l.b)(this,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){return[2,Hb((e=id(t)).Kc).then((function(t){return sy(e,t)}))]}))}))}function cy(t,e,n,r){return Object($l.b)(this,void 0,void 0,(function(){var i,s;return Object($l.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=id(t),r=id(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jr(t,e).next((function(e){return e?n.Ga.Li(t,e):Ag.resolve(null)}))}))}((i=id(t)).Kc,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,pv(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xv(i,e,r||null),Yv(i,e),function(t,e){id(id(t).xi).Zr(e)}(i.Kc,e)):nd(),o.label=4;case 4:return[4,sy(i,s)];case 5:return o.sent(),[3,7];case 6:Yh("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function hy(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o,l,a;return Object($l.d)(this,(function(u){switch(u.label){case 0:return by(n=id(t)),vy(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$u(),[4,dy(n,r.O())]);case 1:return i=u.sent(),n.Hh=!0,[4,wv(n.Oh,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)ev(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(l=[],a=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.zu(e)?l.push(e):a=a.then((function(){return ty(n,e),qb(n.Kc,e,!0)})),nv(n.Oh,e)})),[4,a]);case 4:return u.sent(),[4,dy(n,l)];case 5:return u.sent(),function(t){var e=id(t);e.Kh.forEach((function(t,n){nv(e.Oh,n)})),e.Wh.wu(),e.Kh=new Map,e.Qh=new Ud(Ed.V)}(n),n.Hh=!1,[4,wv(n.Oh,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function dy(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o,l,a,u,c,h,d,f,p;return Object($l.d)(this,(function(g){switch(g.label){case 0:n=id(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(a=void 0,(u=n.qh.get(l=o[s]))&&0!==u.length?[4,Vb(n.Kc,rg(u[0]))]:[3,7]):[3,13];case 2:a=g.sent(),c=0,h=u,g.label=3;case 3:return c<h.length?(d=n.Bh.get(h[c]),[4,ay(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,zb(n.Kc,l)];case 8:return p=g.sent(),[4,Vb(n.Kc,p)];case 9:return a=g.sent(),[4,zv(n,fy(p),l,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.Rc(i),r)]}}))}))}function fy(t){return Qp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function py(t){var e=id(t);return id(id(e.Kc).persistence).Ca()}function gy(t,e,n,r){return Object($l.b)(this,void 0,void 0,(function(){var i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:return(i=id(t)).Hh?(Yh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hb(i.Kc)];case 3:return s=l.sent(),o=nf.Yt(e,"current"===n),[4,sy(i,s,o)];case 4:return l.sent(),[3,8];case 5:return[4,qb(i.Kc,e,!0)];case 6:return l.sent(),ty(i,e,r),[3,8];case 7:nd(),l.label=8;case 8:return[2]}}))}))}function my(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s,o,l,a,u,c,h;return Object($l.d)(this,(function(d){switch(d.label){case 0:if(!(r=by(t)).Hh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(Yh("SyncEngine","Adding an already active target "+o),[3,5]):[4,zb(r.Kc,o)]:[3,6];case 2:return l=d.sent(),[4,Vb(r.Kc,l)];case 3:return a=d.sent(),[4,zv(r,fy(l),a.targetId,!1)];case 4:d.sent(),ev(r.Oh,a),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object($l.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,qb(r.Kc,t,!1).then((function(){nv(r.Oh,t),ty(r,t)})).catch($b)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?[5,u(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function by(t){var e=id(t);return e.Oh.jc.nu=$v.bind(null,e),e.Oh.jc.Be=ly.bind(null,e),e.Oh.jc.eu=Kv.bind(null,e),e.Lh.Rc=Qg.bind(null,e.Mh),e.Lh.Xh=Jg.bind(null,e.Mh),e}function vy(t){var e=id(t);return e.Oh.jc.su=Qv.bind(null,e),e.Oh.jc.iu=Jv.bind(null,e),e}var yy=function(){function t(){}return t.prototype.za=function(t){this.Zh=t},t.prototype.Ui=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.B())}(e)||n.isEqual(bd.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(s){var o=i.el(e,s);return(Zp(e)||Yp(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(Zh()<=Kl.a.DEBUG&&Yh("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ug(e)),i.Zh.Ui(t,e,n).next((function(t){return o.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new qd(hg(t));return e.forEach((function(e,r){r instanceof Gp&&cg(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},t.prototype.tl=function(t,e){return Zh()<=Kl.a.DEBUG&&Yh("IndexFreeQueryEngine","Using full collection scan to execute query:",ug(e)),this.Zh.Ui(t,e,bd.min())},t}(),_y=function(){function t(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new qd(Iv.cu)}return t.prototype.Ur=function(t){return Ag.resolve(0===this.xi.length)},t.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new sm(i,e,n,r);this.xi.push(s);for(var o=0,l=r;o<l.length;o++){var a=l[o];this.sl=this.sl.add(new Iv(a.key,i)),this.Fi.Kr(t,a.key.path.S())}return Ag.resolve(s)},t.prototype.Wr=function(t,e){return Ag.resolve(this.il(e))},t.prototype.Gr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Ag.resolve(this.xi.length>r?this.xi[r]:null)},t.prototype.zr=function(){return Ag.resolve(0===this.xi.length?-1:this.nl-1)},t.prototype.Hr=function(t){return Ag.resolve(this.xi.slice())},t.prototype.Mi=function(t,e){var n=this,r=new Iv(e,0),i=new Iv(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Nt([r,i],(function(t){var e=n.il(t.Eu);s.push(e)})),Ag.resolve(s)},t.prototype.qi=function(t,e){var n=this,r=new qd(ld);return e.forEach((function(t){var e=new Iv(t,0),i=new Iv(t,Number.POSITIVE_INFINITY);n.sl.Nt([e,i],(function(t){r=r.add(t.Eu)}))})),Ag.resolve(this.ol(r))},t.prototype.Gi=function(t,e){var n=e.path,r=n.length+1,i=n;Ed.G(i)||(i=i.child(""));var s=new Iv(new Ed(i),0),o=new qd(ld);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(o=o.add(t.Eu)),!0)}),s),Ag.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Yr=function(t,e){var n=this;rd(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return Ag.forEach(e.mutations,(function(i){var s=new Iv(i.key,e.batchId);return r=r.delete(s),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Zr=function(t){},t.prototype.so=function(t,e){var n=new Iv(e,0),r=this.sl.Ft(n);return Ag.resolve(e.isEqual(r&&r.key))},t.prototype.no=function(t){return Ag.resolve()},t.prototype.al=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.xi.length?null:this.xi[e]},t}(),wy=function(){function t(t,e){this.Fi=t,this.cl=e,this.docs=new Ud(Ed.V),this.size=0}return t.prototype.Ri=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:o,readTime:n}),this.size+=o-s,this.Fi.Kr(t,r.path.S())},t.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.yi=function(t,e){var n=this.docs.get(e);return Ag.resolve(n?n.gi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Gd();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),Ag.resolve(r)},t.prototype.Ui=function(t,e,n){for(var r=Wd(),i=new Ed(e.path.child("")),s=this.docs._t(i);s.It();){var o=s.Et(),l=o.value,a=l.gi,u=l.readTime;if(!e.path.N(o.key.path))break;u.A(n)<=0||a instanceof Gp&&cg(e,a)&&(r=r.rt(a.key,a))}return Ag.resolve(r)},t.prototype.ul=function(t,e){return Ag.forEach(this.docs,(function(t){return e(t)}))},t.prototype._o=function(t){return new Ey(this)},t.prototype.wo=function(t){return Ag.resolve(this.size)},t}(),Ey=function(t){function e(e){var n=this;return(n=t.call(this)||this).To=e,n}return Object($l.c)(e,t),e.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),Ag.xn(n)},e.prototype.pi=function(t,e){return this.To.yi(t,e)},e.prototype.vi=function(t,e){return this.To.getEntries(t,e)},e}(lm),Cy=function(){function t(t){this.persistence=t,this.hl=new fd((function(t){return xd(t)}),kd),this.lastRemoteSnapshotVersion=bd.min(),this.highestTargetId=0,this.ll=0,this._l=new Sv,this.targetCount=0,this.fl=_b.po()}return t.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Ag.resolve()},t.prototype.Co=function(t){return Ag.resolve(this.lastRemoteSnapshotVersion)},t.prototype.No=function(t){return Ag.resolve(this.ll)},t.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),Ag.resolve(this.highestTargetId)},t.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Ag.resolve()},t.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new _b(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,Ag.resolve()},t.prototype.ko=function(t,e){return this.Oo(e),Ag.resolve()},t.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),this.targetCount-=1,Ag.resolve()},t.prototype.Nr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,l){l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r.hl.delete(o),s.push(r.Lo(t,l.targetId)),i++)})),Ag.xn(s).next((function(){return i}))},t.prototype.Bo=function(t){return Ag.resolve(this.targetCount)},t.prototype.qo=function(t,e){var n=this.hl.get(e)||null;return Ag.resolve(n)},t.prototype.Uo=function(t,e,n){return this._l.lu(e,n),Ag.resolve()},t.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),Ag.xn(i)},t.prototype.Lo=function(t,e){return this._l.du(e),Ag.resolve()},t.prototype.jo=function(t,e){var n=this._l.Tu(e);return Ag.resolve(n)},t.prototype.so=function(t,e){return Ag.resolve(this._l.so(e))},t}(),Sy=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.mo=function(t,e){return Ag.resolve(this.dl.get(e))},t.prototype.Ao=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Ff(n.createTime)}),Ag.resolve()},t.prototype.Ro=function(t,e){return Ag.resolve(this.wl.get(e))},t.prototype.Po=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Dm(n.bundledQuery),readTime:Ff(n.readTime)}),Ag.resolve()},t}(),Iy=function(){function t(t,e){var n=this;this.Tl={},this.Jo=new pm(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new Cy(this),this.Fi=new Km,this.Ni=function(t,e){return new wy(t,(function(t){return n.Lr.El(t)}))}(this.Fi),this.serializer=new Im(e),this.oa=new Sy(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.fa=function(){},t.prototype.da=function(){},t.prototype.Oa=function(){return this.Fi},t.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new _y(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;Yh("MemoryPersistence","Starting transaction:",t);var i=new Oy(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},t.prototype.Al=function(t,e){return Ag.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},t}(),Oy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Go=e,n}return Object($l.c)(e,t),e}(hm),Ty=function(){function t(t){this.persistence=t,this.Rl=new Sv,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw nd()},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),Ag.resolve()},t.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),Ag.resolve()},t.prototype.eo=function(t,e){return this.Vl.add(e.toString()),Ag.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return Ag.forEach(this.Vl,(function(r){var i=Ed.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},t.prototype.El=function(t){return 0},t.prototype.yl=function(t,e){var n=this;return Ag.Fn([function(){return Ag.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),xy=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.mc=function(t){this.bl=t},t.prototype.dc=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ay=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object($l.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new $h;o.listenOnce(Hh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case zh.NO_ERROR:var e=o.getResponseJson();Yh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case zh.TIMEOUT:Yh("Connection",'RPC "'+t+'" timed out'),s(new gd(pd.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:var n=o.getStatus();if(Yh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var l=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(pd).indexOf(e)>=0?e:pd.UNKNOWN}(r.status);s(new gd(l,r.message))}else s(new gd(pd.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new gd(pd.UNAVAILABLE,"Connection failed."));break;default:nd()}}finally{Yh("Connection",'RPC "'+t+'" completed.')}}));var l=JSON.stringify(r);o.send(e,"POST",l,n,15)}))},e.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Uh,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,e),Object(Ql.m)()||Object(Ql.o)()||Object(Ql.k)()||Object(Ql.l)()||Object(Ql.p)()||Object(Ql.j)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Yh("Connection","Creating WebChannel: "+s,i);var o=r.createWebChannel(s,i),l=!1,a=!1,u=new xy({pl:function(t){a?Yh("Connection","Not sending because WebChannel is closed:",t):(l||(Yh("Connection","Opening WebChannel transport."),o.open(),l=!0),Yh("Connection","WebChannel sending:",t),o.send(t))},vl:function(){return o.close()}}),c=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return c(Gh.EventType.OPEN,(function(){a||Yh("Connection","WebChannel transport opened.")})),c(Gh.EventType.CLOSE,(function(){a||(a=!0,Yh("Connection","WebChannel transport closed"),u.Nl())})),c(Gh.EventType.ERROR,(function(t){a||(a=!0,td("Connection","WebChannel transport errored:",t),u.Nl(new gd(pd.UNAVAILABLE,"The operation could not be completed")))})),c(Gh.EventType.MESSAGE,(function(t){var e;if(!a){var n=t.data[0];rd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Yh("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Rd[t];if(void 0!==e)return Ld(e)}(i),l=r.message;void 0===s&&(s=pd.INTERNAL,l="Unknown error status: "+i+" with message "+r.message),a=!0,u.Nl(new gd(s,l)),o.close()}else Yh("Connection","WebChannel received:",n),u.xl(n)}})),setTimeout((function(){u.Cl()}),0),u},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);Yh("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return Yh("RestConnection","Received: ",t),t}),(function(e){throw td("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+ky[t]},t}()),Py=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Xc=function(t){this.Kl.push(t)},t.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Yh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Yh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ry=function(){function t(){}return t.prototype.Xc=function(t){},t.prototype.pa=function(){},t}(),jy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return this.serializer=am(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Nb(this.persistence,new yy,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Iy(Ty.gl,this.serializer)},t.prototype.jl=function(t){return new Dv},t.prototype.terminate=function(){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},t}(),Ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object($l.c)(e,t),e.prototype.initialize=function(e){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Gb(this.Kc)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,vy(this.Xl.gu)];case 4:return n.sent(),[4,pv(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Nb(this.persistence,new yy,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new ym(this.persistence.Lr.Rr,t.rs)},e.prototype.Gl=function(t){var e=Rb(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?vm.Tr(this.cacheSizeBytes):vm.mr;return new Tb(this.synchronizeTabs,e,t.clientId,n,t.rs,Vg(),qg(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Dv},e}(jy),Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object($l.c)(e,t),e.prototype.initialize=function(e){return Object($l.b)(this,void 0,void 0,(function(){var n,r=this;return Object($l.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.gu,this.kh instanceof Nv?(this.kh.gu={_h:cy.bind(null,n),fh:gy.bind(null,n),dh:my.bind(null,n),Ca:py.bind(null,n),lh:uy.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence._a((function(t){return Object($l.b)(r,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return[4,hy(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Vg();if(!Nv.kn(e))throw new gd(pd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rb(t.Fl.t,t.Fl.persistenceKey);return new Nv(e,t.rs,n,t.clientId,t.Yl)},e}(Ny),My=function(){function t(){}return t.prototype.initialize=function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n=this;return Object($l.d)(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.gu=this.n_(e,!t.synchronizeTabs),this.kh.Oc=function(t){return Wv(n.gu,t,1)},this.Oh.jc.s_=oy.bind(null,this.gu),[4,wv(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new $g},t.prototype.Zl=function(t){var e=am(t.Fl.t),n=new Ay(t.Fl);return function(t,e,n){return new Jb(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Kc,n=this.Wc,r=t.rs,i=function(t){return Wv(o.gu,t,0)},s=Py.kn()?new Py:new Ry,new Yb(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var l=new qv(t,e,n,r,i,s);return o&&(l.Hh=!0),l}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object($l.b)(this,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){switch(n.label){case 0:return e=id(t),Yh("RemoteStore","RemoteStore shutting down."),e.Hc.add(5),[4,tv(e)];case 1:return n.sent(),e.Yc.pa(),e.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Ly=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Uy=function(t){this.o_=t};function Fy(t,e,n){if(!n)throw new gd(pd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Vy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gd(pd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qy(t,e,n,r){if(!0===e&&!0===r)throw new gd(pd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function By(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":nd()}function zy(t,e){if(t instanceof Uy&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new gd(pd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=By(t);throw new gd(pd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Hy(t,e){if(e<=0)throw new gd(pd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gy=function(t){this.a_=t},$y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.h_(1===t.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Gy);function Wy(t,e,n){return new y_({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Ky=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.c_=function(t){return new Cp(t.path,new pp)},e.prototype.isEqual=function(t){return t instanceof e},e}(Gy),Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object($l.c)(e,t),e.prototype.c_=function(t){var e=Wy(this,t,!0),n=this.f_.map((function(t){return I_(t,e)})),r=new gp(n);return new Cp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gy),Jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object($l.c)(e,t),e.prototype.c_=function(t){var e=Wy(this,t,!0),n=this.f_.map((function(t){return I_(t,e)})),r=new bp(n);return new Cp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gy),Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object($l.c)(e,t),e.prototype.c_=function(t){var e=new yp(t.serializer,Df(t.serializer,this.d_));return new Cp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Gy),Yy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new gd(pd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gd(pd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},t.prototype.I=function(t){return ld(this.w_,t.w_)||ld(this.T_,t.T_)},t}(),Xy=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Pd.fromBase64String(e))}catch(e){throw new gd(pd.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Pd.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),t_=new Map,e_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new gd(pd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gd(pd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,qy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function n_(){if("undefined"==typeof Uint8Array)throw new gd(pd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function r_(){if("undefined"==typeof atob)throw new gd(pd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var i_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.fromBase64String=function(t){r_();try{return new e(Pd.fromBase64String(t))}catch(t){throw new gd(pd.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return n_(),new e(Pd.fromUint8Array(t))},e.prototype.toBase64=function(){return r_(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return n_(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Xy),s_=function(){function t(){}return t.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),gf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ef(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(Cf(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw nd()}},t.prototype.y_=function(t,e){var n=this,r={};return hd(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},t.prototype.g_=function(t){return new Yy(Ef(t.latitude),Ef(t.longitude))},t.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},t.prototype.A_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return df(n)?t(n):n}(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(ff(t));default:return null}},t.prototype.m_=function(t){var e=wf(t);return new md(e.seconds,e.nanos)},t.prototype.p_=function(t,e){var n=yd.k(t);rd(up(n));var r=new Qh(n.get(1),n.get(3)),i=new Ed(n.v(5));return r.isEqual(e)||Xh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),o_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($l.c)(e,t),e.prototype.R_=function(t){return new i_(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return fw.b_(e,this.firestore,null)},e}(s_),l_=function(){function t(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new h_(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.N_},t.prototype.data=function(){if(this.N_){if(this.x_){var t=new a_(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},t.prototype.get=function(t){if(this.N_){var e=this.N_.data().field(u_("DocumentSnapshot.get",t));if(null!==e)return this.D_.I_(e)}},t}(),a_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(l_);function u_(t,e){return"string"==typeof e?P_(t,e):e instanceof Uy?e.o_.F_:e.F_}var c_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new gd(pd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new wd(t)}return t.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},t}(),h_=function(){function t(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new f_(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),d_=function(){function t(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.M_)},t}(),f_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Jp(r))||this).firestore=e,i.O_=r,i.type="collection",i}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new h_(this.firestore,null,new Ed(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.O_)},e}(d_);function p_(t){var e=t.k_(),n=am(t.v_);return new __(t.v_,!!e.ignoreUndefinedProperties,n)}var g_=/^__.*__$/,m_=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[];return n.push(null!==this.Qe?new Np(t,this.data,this.Qe,e):new jp(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Mp(t,this.fieldTransforms)),n},t}(),b_=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[new Np(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Mp(t,this.fieldTransforms)),n},t}();function v_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nd()}}var y_=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.q_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.Q_(t),r},t.prototype.K_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.B_(),r},t.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},t.prototype.h_=function(t){return R_(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},t.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},t.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(v_(this.u_)&&g_.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),__=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||am(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new y_({u_:t,methodName:e,l_:n,path:wd.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function w_(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);x_("Data must be an object, but it was:",o,r);var l,a,u=O_(r,o);if(s.merge)l=new Ep(o.Qe),a=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=k_(e,d[h],n);if(!o.contains(f))throw new gd(pd.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");j_(c,f)||c.push(f)}l=new Ep(c),a=o.fieldTransforms.filter((function(t){return l.He(t.field)}))}else l=null,a=o.fieldTransforms;return new m_(new qp(u),l,a)}function E_(t,e,n,r){var i=t.G_(1,e,n);x_("Data must be an object, but it was:",i,r);var s=[],o=new Bp;hd(r,(function(t,r){var l=P_(e,t,n);r instanceof Uy&&(r=r.o_);var a=i.K_(l);if(r instanceof $y)s.push(l);else{var u=I_(r,a);null!=u&&(s.push(l),o.set(l,u))}}));var l=new Ep(s);return new b_(o.Ye(),l,i.fieldTransforms)}function C_(t,e,n,r,i,s){var o=t.G_(1,e,n),l=[k_(e,r,n)],a=[i];if(s.length%2!=0)throw new gd(pd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)l.push(k_(e,s[u])),a.push(s[u+1]);for(var c=[],h=new Bp,d=l.length-1;d>=0;--d)if(!j_(c,l[d])){var f=l[d],p=a[d];p instanceof Uy&&(p=p.o_);var g=o.K_(f);if(p instanceof $y)c.push(f);else{var m=I_(p,g);null!=m&&(c.push(f),h.set(f,m))}}var b=new Ep(c);return new b_(h.Ye(),b,o.fieldTransforms)}function S_(t,e,n,r){return void 0===r&&(r=!1),I_(n,t.G_(r?4:3,e))}function I_(t,e){if(t instanceof Uy&&(t=t.o_),T_(t))return x_("Unsupported field value:",e,t),O_(t,e);if(t instanceof Gy)return function(t,e){if(!v_(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=I_(s[i],e.W_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Uy&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Df(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=md.fromDate(t);return{timestampValue:Mf(e.serializer,n)}}if(t instanceof md){var r=new md(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mf(e.serializer,r)}}if(t instanceof Yy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xy)return{bytesValue:Lf(e.serializer,t.E_)};if(t instanceof h_){var i=e.t,s=t.firestore.v_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Vf(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+By(t))}(t,e)}function O_(t,e){var n={};return dd(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):hd(t,(function(t,r){var i=I_(r,e.U_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function T_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof md||t instanceof Yy||t instanceof Xy||t instanceof h_||t instanceof Gy)}function x_(t,e,n){if(!T_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=By(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function k_(t,e,n){if(e instanceof Uy&&(e=e.o_),e instanceof c_)return e.F_;if("string"==typeof e)return P_(t,e);throw R_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var A_=new RegExp("[~\\*/\\[\\]]");function P_(t,e,n){if(e.search(A_)>=0)throw R_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(c_.bind.apply(c_,Object($l.g)([void 0],e.split("."))))).F_}catch(r){throw R_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function R_(t,e,n,r,i){var s=r&&!r.T(),o=void 0!==i,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var a="";return(s||o)&&(a+=" (found",s&&(a+=" in field "+r),o&&(a+=" in document "+i),a+=")"),new gd(pd.INVALID_ARGUMENT,(l+=". ")+t+a)}function j_(t,e){return t.some((function(t){return t.isEqual(e)}))}var N_=function(){function t(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return t.prototype.X_=function(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n=this;return Object($l.d)(this,(function(r){switch(r.label){case 0:if(this.Z_(),this.mutations.length>0)throw new gd(pd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i,s,o,l;return Object($l.d)(this,(function(a){switch(a.label){case 0:return n=id(t),r=$f(n.serializer)+"/documents",i={documents:e.map((function(t){return Bf(n.serializer,t)}))},[4,n.Fc("BatchGetDocuments",r,i)];case 1:return s=a.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){rd(!!e.found);var n=zf(t,e.found.name),r=Ff(e.found.updateTime),i=new qp({mapValue:{fields:e.found.fields}});return new Gp(n,r,i,{})}(t,e):"missing"in e?function(t,e){rd(!!e.missing),rd(!!e.readTime);var n=zf(t,e.missing),r=Ff(e.readTime);return new $p(n,r)}(t,e):nd()}(n.serializer,t);o.set(e.key.toString(),e)})),l=[],[2,(e.forEach((function(t){var e=o.get(t.toString());rd(!!e),l.push(e)})),l)]}}))}))}(this.Wc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof $p||t instanceof Gp?n.tf(t):nd()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},t.prototype.delete=function(t){this.write([new Fp(t,this.je(t))]),this.Y_.add(t.toString())},t.prototype.commit=function(){return Object($l.b)(this,void 0,void 0,(function(){var t,e=this;return Object($l.d)(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ed.K(n);e.mutations.push(new Vp(r,e.je(r)))})),[4,function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:return n=id(t),r=$f(n.serializer)+"/documents",i={writes:e.map((function(t){return Qf(n.serializer,t)}))},[4,n.xc("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},t.prototype.tf=function(t){var e;if(t instanceof Gp)e=t.version;else{if(!(t instanceof $p))throw nd();e=bd.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new gd(pd.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},t.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?Ip.updateTime(e):Ip.Ge()},t.prototype.ef=function(t){var e=this.z_.get(t.toString());if(!this.Y_.has(t.toString())&&e){if(e.isEqual(bd.min()))throw new gd(pd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ip.updateTime(e)}return Ip.exists(!0)},t.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},t.prototype.Z_=function(){},t}(),D_=function(){function t(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new kg(this.rs,"transaction_retry")}return t.prototype.run=function(){this.sf()},t.prototype.sf=function(){var t=this;this.Ps.An((function(){return Object($l.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object($l.d)(this,(function(r){return t=new N_(this.Wc),(e=this.rf(t))&&e.then((function(e){n.rs.fs((function(){return t.commit().then((function(){n.us.resolve(e)})).catch((function(t){n.af(t)}))}))})).catch((function(t){n.af(t)})),[2]}))}))}))},t.prototype.rf=function(t){try{var e=this.updateFunction(t);return!Cd(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},t.prototype.af=function(t){var e=this;this.nf>0&&this.cf(t)?(this.nf-=1,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},t.prototype.cf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Md(e)}return!1},t}(),M_=function(){function t(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=Xg.UNAUTHENTICATED,this.clientId=od.u(),this.uf=function(){},this.oi=new xg,this.credentials.si((function(t){Yh("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}return t.prototype.getConfiguration=function(){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},t.prototype.lf=function(){if(this.rs.Vs)throw new gd(pd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.rs.bs();var e=new xg;return this.rs.ys((function(){return Object($l.b)(t,void 0,void 0,(function(){var t,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ii(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Hg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function L_(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r=this;return Object($l.d)(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),Yh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return Object($l.b)(r,void 0,void 0,(function(){return Object($l.d)(this,(function(t){switch(t.label){case 0:return[4,Db(e.Kc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.fa((function(){return t.terminate()})),t.ff=e,[2]}}))}))}function U_(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r;return Object($l.d)(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),[4,F_(t)];case 1:return n=i.sent(),Yh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r;return Object($l.d)(this,(function(i){switch(i.label){case 0:return(n=id(t)).rs.Ns(),Yh("RemoteStore","RemoteStore received new credentials"),r=lv(n),n.Hc.add(3),[4,tv(n)];case 1:return i.sent(),r&&n.Zc.set("Unknown"),[4,n.jc.s_(e)];case 2:return i.sent(),n.Hc.delete(3),[4,Xb(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t._f=e,[2]}}))}))}function F_(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(Yh("FirestoreClient","Using default OfflineComponentProvider"),[4,L_(t,new jy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function V_(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(Yh("FirestoreClient","Using default OnlineComponentProvider"),[4,U_(t,new My)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function q_(t){return F_(t).then((function(t){return t.persistence}))}function B_(t){return F_(t).then((function(t){return t.Kc}))}function z_(t){return V_(t).then((function(t){return t.Oh}))}function H_(t){return V_(t).then((function(t){return t.gu}))}function G_(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return[4,V_(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ls=Bv.bind(null,e.gu),n.Us=Hv.bind(null,e.gu),n)]}}))}))}function $_(t,e){var n=this,r=new xg;return t.rs.fs((function(){return Object($l.b)(n,void 0,void 0,(function(){var n;return Object($l.d)(this,(function(i){switch(i.label){case 0:return n=Gv,[4,H_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function W_(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s;return Object($l.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=id(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ga.Oi(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof Gp?n.resolve(r):r instanceof $p?n.resolve(null):n.reject(new gd(pd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=Hg(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}function K_(t,e,n,r,i){var s=new Ly({next:function(s){e.fs((function(){return Kg(t,o)}));var l=s.docs.has(n);!l&&s.fromCache?i.reject(new gd(pd.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new gd(pd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Yg(Jp(n.path),s,{includeMetadataChanges:!0,Hs:!0});return Wg(t,o)}var Q_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).yf=new zg,r.df="name"in e?e.name:"[DEFAULT]",r}return Object($l.c)(e,t),e.prototype.Vf=function(){return this.pf||cw(this),this.pf.terminate()},e}(function(){function t(t,e){this.df="(lite)",this.wf=new e_({}),this.Tf=!1,t instanceof Qh?(this.v_=t,this.Ef=new em):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new gd(pd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qh(t.options.projectId)}(t),this.Ef=new nm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.If)throw new gd(pd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),t.prototype.Pf=function(t){if(this.Tf)throw new gd(pd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new e_(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new em;switch(t.type){case"gapi":var e=t.client;return rd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new im(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new gd(pd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.gf=function(){return this.wf},t.prototype.k_=function(){return this.Tf=!0,this.wf},t.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},t.prototype.Vf=function(){return function(t){var e=t_.get(t);e&&(Yh("ComponentProvider","Removing Datastore"),t_.delete(t),e.terminate())}(this),Promise.resolve()},t}());function J_(t,e,n){var r=this,i=new xg;return t.rs.enqueue((function(){return Object($l.b)(r,void 0,void 0,(function(){var r;return Object($l.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,L_(t,n)];case 1:return s.sent(),[4,U_(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===pd.FAILED_PRECONDITION||t.code===pd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Z_(t){if(t.mf||t.Af)throw new gd(pd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Y_=function(t){function e(e,n,r,i,s,o){var l=this;return(l=t.call(this,e,n,r,i,o)||this).S_=e,l.vf=e,l.metadata=s,l}return Object($l.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new X_(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_){var n=this.N_.data().field(u_("DocumentSnapshot.get",t));if(null!==n)return this.D_.I_(n,e.serverTimestamps)}},e}(l_),X_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Y_),tw=function(){function t(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new gw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new X_(n.S_,n.D_,r.key,r,new gw(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.bf.Wt)throw new gd(pd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===e||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){return{type:"added",doc:new X_(t.S_,t.D_,e.doc.key,e.doc,new gw(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new X_(t.S_,t.D_,e.doc.key,e.doc,new gw(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ew(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.Df=e),this.Sf},t}();function ew(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nd()}}function nw(t,e){return t instanceof Y_&&e instanceof Y_?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof tw&&e instanceof tw&&t.S_===e.S_&&function(t,e){return t instanceof d_&&e instanceof d_&&t.firestore===e.firestore&&lg(t.M_,e.M_)&&t.x_===e.x_}(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf)}var rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($l.c)(e,t),e.prototype.R_=function(t){return new Xy(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return new h_(this.firestore,null,e)},e}(s_);function iw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=zy(t.firestore,Q_),o=p_(s);return e instanceof Uy&&(e=e.o_),sw(s,("string"==typeof e||e instanceof c_?C_(o,"updateDoc",t.C_,e,n,r):E_(o,"updateDoc",t.C_,e)).L_(t.C_,Ip.exists(!0)))}function sw(t,e){return $_(uw(t),e)}function ow(t,e,n){var r=n.docs.get(e.C_),i=new rw(t);return new Y_(t,i,e.C_,r,new gw(n.hasPendingWrites,n.fromCache),e.x_)}var lw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Z_(t);var n=uw(t),r=t.k_(),i=new My;return J_(n,i,new Ny(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Z_(t);var e=uw(t),n=t.k_(),r=new My;return J_(e,r,new Dy(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.mf&&!t.Af)throw new gd(pd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xg;return t.yf.ys((function(){return Object($l.b)(e,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object($l.b)(this,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return Pg.kn()?[4,Pg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Rb(t.v_,t.df))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Qh||(i.Nf=e),i}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&td("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object($l.b)(e,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return[4,q_(t)];case 1:return e=r.sent(),[4,z_(t)];case 2:return n=r.sent(),[2,(e.da(!0),function(t){var e=id(t);return e.Hc.delete(0),Xb(e)}(n))]}}))}))}))}(uw(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object($l.b)(e,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return[4,q_(t)];case 1:return e=r.sent(),[4,z_(t)];case 2:return n=r.sent(),[2,(e.da(!1),function(t){return Object($l.b)(this,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){switch(n.label){case 0:return(e=id(t)).Hc.add(0),[4,tv(e)];case 1:return n.sent(),e.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(uw(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xg;return t.rs.fs((function(){return Object($l.b)(e,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(r){switch(r.label){case 0:return e=Zv,[4,H_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(uw(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=uw(t),i=um(e)?e:{next:e},s=new Ly(i);return t.yf.fs((function(){return Object($l.b)(n,void 0,void 0,(function(){var t;return Object($l.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){id(t).$s.add(e),e.next()},[4,G_(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.yf.fs((function(){return Object($l.b)(n,void 0,void 0,(function(){var t;return Object($l.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){id(t).$s.delete(e)},[4,G_(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Nf)throw new gd(pd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){return Fy("Firestore.collection","path",t),uw(this.o_),new Iw(yd.k(t),this,null)},e.prototype.doc=function(t){return Fy("Firestore.doc","path",t),uw(this.o_),fw.xf(yd.k(t),this,null)},e.prototype.collectionGroup=function(t){if(Fy("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new gd(pd.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return uw(this.o_),new Ew(function(t){return new Kp(yd.$(),t)}(t),this,null)},e.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new xg;return t.rs.fs((function(){return Object($l.b)(n,void 0,void 0,(function(){var n;return Object($l.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return V_(t).then((function(t){return t.Wc}))}(t)];case 1:return n=i.sent(),new D_(t.rs,n,e,r).run(),[2]}}))}))})),r.promise}(uw(this.o_),(function(n){return t(new hw(e,n))}))},e.prototype.batch=function(){return uw(this.o_),new dw(this)},e}(Uy);function uw(t){return t.pf||cw(t),t.pf.lf(),t.pf}function cw(t){var e=t.k_(),n=function(t,e,n){return new Kh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.v_,t.df,e);t.pf=new M_(t.Ef,t.yf,n)}var hw=function(){function t(t,e){this.S_=t,this.Ff=e,this.Of=p_(this.S_.o_)}return t.prototype.get=function(t){var e=this,n=Ow(0,t,this.S_),r=new o_(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return nd();var i=t[0];if(i instanceof $p)return new mw(e.S_,new Y_(e.S_.o_,r,n.C_,null,new gw(!1,!1),n.x_));if(i instanceof Gp)return new mw(e.S_,new Y_(e.S_.o_,r,n.C_,i,new gw(!1,!1),n.x_));throw nd()}))},t.prototype.set=function(t,e,n){var r=Ow(0,t,this.S_);n=Vy("Transaction.set",n);var i=Tw(r.x_,e,n),s=w_(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Ow(0,t,this.S_);return e instanceof Uy&&(e=e.o_),s="string"==typeof e||e instanceof c_?C_(this.Of,"Transaction.update",o.C_,e,n,r):E_(this.Of,"Transaction.update",o.C_,e),this.Ff.update(o.C_,s),this},t.prototype.delete=function(t){var e=Ow(0,t,this.S_);return this.Ff.delete(e.C_),this},t}(),dw=function(){function t(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=p_(this.S_.o_)}return t.prototype.set=function(t,e,n){this.$f();var r=Ow(0,t,this.S_);n=Vy("WriteBatch.set",n);var i=Tw(r.x_,e,n),s=w_(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(s.L_(r.C_,Ip.Ge())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var s,o=Ow(0,t,this.S_);return e instanceof Uy&&(e=e.o_),s="string"==typeof e||e instanceof c_?C_(this.Of,"WriteBatch.update",o.C_,e,n,r):E_(this.Of,"WriteBatch.update",o.C_,e),this.Mf=this.Mf.concat(s.L_(o.C_,Ip.exists(!0))),this},t.prototype.delete=function(t){this.$f();var e=Ow(0,t,this.S_);return this.Mf=this.Mf.concat(new Fp(e.C_,Ip.Ge())),this},t.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?$_(uw(this.S_.o_),this.Mf):Promise.resolve()},t.prototype.$f=function(){if(this.kf)throw new gd(pd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),fw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.D_=new o_(e),r}return Object($l.c)(e,t),e.xf=function(t,n,r){if(t.length%2!=0)throw new gd(pd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new e(n,new h_(n.o_,r,new Ed(t)))},e.b_=function(t,n,r){return new e(n,new h_(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Iw(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Fy("DocumentReference.collection","path",t),!t)throw new gd(pd.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=yd.k(t);return new Iw(this.o_.O_.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof Uy&&(t=t.o_),t instanceof h_&&(n=t,((e=this.o_)instanceof h_||e instanceof f_)&&(n instanceof h_||n instanceof f_)&&e.firestore===n.firestore&&e.path===n.path&&e.x_===n.x_);var e,n},e.prototype.set=function(t,e){e=Vy("DocumentReference.set",e);try{return function(t,e,n){var r=zy(t.firestore,Q_),i=Tw(t.x_,e,n);return sw(r,w_(p_(r),"setDoc",t.C_,i,null!==t.x_,n).L_(t.C_,Ip.Ge()))}(this.o_,t,e)}catch(t){throw pw(t,"setDoc","DocumentReference.set")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?iw(this.o_,t):iw.apply(void 0,Object($l.g)([this.o_,t,e],n))}catch(t){throw pw(t,"updateDoc","DocumentReference.update")}},e.prototype.delete=function(){return sw(zy((t=this.o_).firestore,Q_),[new Fp(t.C_,Ip.Ge())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!um(r))return r}return{}}(e),i=function(e,n){var r,i,s;return{next:function(e){s.next&&s.next(function(e){return new mw(t.firestore,new Y_(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}(e))},error:null===(r=(s=um(e[0])?e[0]:um(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}(e);return function(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var l={includeMetadataChanges:!1},a=0;"object"!=typeof s[a]||um(s[a])||(l=s[a],a++);var u,c,h,d={includeMetadataChanges:l.includeMetadataChanges};if(um(s[a])){var f=s[a];s[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),s[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),s[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof h_)c=zy(t.firestore,Q_),h=Jp(t.C_.path),u={next:function(e){s[a]&&s[a](ow(c,t,e))},error:s[a+1],complete:s[a+2]};else{c=zy(t.firestore,Q_),h=t.M_;var p=new rw(c);u={next:function(e){s[a]&&s[a](new tw(c,p,t,e))},error:s[a+1],complete:s[a+2]},ww(t.M_)}var g=uw(c),m=new Ly(u),b=new Yg(h,m,d);return c.yf.fs((function(){return Object($l.b)(i,void 0,void 0,(function(){var t;return Object($l.d)(this,(function(e){switch(e.label){case 0:return t=Wg,[4,G_(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))})),function(){m.r_(),c.yf.fs((function(){return Object($l.b)(i,void 0,void 0,(function(){var t;return Object($l.d)(this,(function(e){switch(e.label){case 0:return t=Kg,[4,G_(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))}))}}(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=zy(t.firestore,Q_),r=uw(n),i=new rw(n),s=new xg;return n.yf.fs((function(){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return[4,B_(r)];case 1:return[4,W_(e.sent(),t.C_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Y_(n,i,t.C_,e,new gw(e instanceof Gp&&e.Je,!0),t.x_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=zy(t.firestore,Q_),r=uw(n),i=new xg;return n.yf.fs((function(){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return[4,G_(r)];case 1:return[4,K_(e.sent(),n.yf,t.C_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return ow(n,t,e)}))}(this.o_):function(t){var e=this,n=zy(t.firestore,Q_),r=uw(n),i=new xg;return n.yf.fs((function(){return Object($l.b)(e,void 0,void 0,(function(){return Object($l.d)(this,(function(e){switch(e.label){case 0:return[4,G_(r)];case 1:return[4,K_(e.sent(),n.yf,t.C_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return ow(n,t,e)}))}(this.o_)).then((function(t){return new mw(e.firestore,new Y_(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Uy);function pw(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var gw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new fw(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return nw(this.o_,t.o_)},e}(Uy),bw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(mw);function vw(t,e,n){if(n instanceof Uy&&(n=n.o_),"string"==typeof n){if(""===n)throw new gd(pd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eg(e)&&-1!==n.indexOf("/"))throw new gd(pd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yd.k(n));if(!Ed.G(r))throw new gd(pd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Sf(t,new Ed(r))}if(n instanceof h_)return Sf(t,n.C_);throw new gd(pd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+By(n)+".")}function yw(t,e){if(!Array.isArray(t)||0===t.length)throw new gd(pd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new gd(pd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function _w(t,e,n){if(!n.isEqual(e))throw new gd(pd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ww(t){if(Yp(t)&&0===t.rn.length)throw new gd(pd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ew=function(){function t(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=p_(e.o_),this.D_=new o_(e)}return t.prototype.where=function(e,n,r){var i=k_("Query.where",e),s=function(t,e,n,r,i,s,o){var l;if(i.B()){if("array-contains"===s||"array-contains-any"===s)throw new gd(pd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){yw(o,s);for(var a=[],u=0,c=o;u<c.length;u++)a.push(vw(r,t,c[u]));l={arrayValue:{values:a}}}else l=vw(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yw(o,s),l=S_(n,"Query.where",o,"in"===s||"not-in"===s);var h=dg.create(i,s,l);return function(t,e){if(e.cn()){var n=tg(t);if(null!==n&&!n.isEqual(e.field))throw new gd(pd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Xp(t);null!==r&&_w(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new gd(pd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Kp(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,s),this.firestore,this.x_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new gd(pd.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=k_("Query.orderBy",e),s=function(t,e,n){if(null!==t.startAt)throw new gd(pd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new gd(pd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ig(e,n);return function(t,e){if(null===Xp(t)){var n=tg(t);null!==n&&_w(0,n,e.field)}}(t,r),r}(this.M_,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new Kp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,s),this.firestore,this.x_)},t.prototype.limit=function(e){return Hy("Query.limit",e),new t(ig(this.M_,e,"F"),this.firestore,this.x_)},t.prototype.limitToLast=function(e){return Hy("Query.limitToLast",e),new t(ig(this.M_,e,"L"),this.firestore,this.x_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",e,n,!0);return new t(sg(this.M_,i),this.firestore,this.x_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",e,n,!1);return new t(sg(this.M_,i),this.firestore,this.x_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",e,n,!0);return new t(og(this.M_,i),this.firestore,this.x_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",e,n,!1);return new t(og(this.M_,i),this.firestore,this.x_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&lg(this.M_,e.M_)&&this.x_===e.x_},t.prototype.withConverter=function(e){return new t(this.M_,this.firestore,e)},t.prototype.Bf=function(t,e,n,r){if(e instanceof mw)return function(t,e,n,r,i){if(!r)throw new gd(pd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,l=ng(t);o<l.length;o++){var a=l[o];if(a.field.B())s.push(Sf(e,r.key));else{var u=r.field(a.field);if(df(u))throw new gd(pd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=a.field.M();throw new gd(pd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(u)}}return new wg(s,i)}(this.M_,this.firestore.v_,t,e.o_.N_,r);var i=[e].concat(n);return function(t,e,n,r,i,s){var o=t.rn;if(i.length>o.length)throw new gd(pd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var l=[],a=0;a<i.length;a++){var u=i[a];if(o[a].field.B()){if("string"!=typeof u)throw new gd(pd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!eg(t)&&-1!==u.indexOf("/"))throw new gd(pd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(yd.k(u));if(!Ed.G(c))throw new gd(pd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Ed(c);l.push(Sf(e,h))}else{var d=S_(n,r,u);l.push(d)}}return new wg(l,s)}(this.M_,this.firestore.v_,this.Lf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={},l=0;if("object"!=typeof i[l]||um(i[l])||(o=i[l],l++),um(i[l])){var a=i[l];i[l]=null===(t=a.next)||void 0===t?void 0:t.bind(a),i[l+1]=null===(e=a.error)||void 0===e?void 0:e.bind(a),i[l+2]=null===(n=a.complete)||void 0===n?void 0:n.bind(a)}var u={next:function(t){i[l]&&i[l](new Sw(r.firestore,new tw(r.firestore.o_,r.D_,new d_(r.firestore.o_,r.x_,r.M_),t)))},error:i[l+1],complete:i[l+2]};return ww(this.M_),function(t,e,n,r){var i=this,s=new Ly(r),o=new Yg(e,s,n);return t.rs.fs((function(){return Object($l.b)(i,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){switch(n.label){case 0:return e=Wg,[4,G_(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.rs.fs((function(){return Object($l.b)(i,void 0,void 0,(function(){var e;return Object($l.d)(this,(function(n){switch(n.label){case 0:return e=Kg,[4,G_(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(uw(this.firestore.o_),this.M_,o,u)},t.prototype.get=function(t){var e=this;ww(this.M_);var n=uw(this.firestore.o_);return(t&&"cache"===t.source?function(t,e){var n=this,r=new xg;return t.rs.fs((function(){return Object($l.b)(n,void 0,void 0,(function(){var n;return Object($l.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object($l.b)(this,void 0,void 0,(function(){var r,i,s,o,l,a;return Object($l.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Bb(t,e,!0)];case 1:return r=u.sent(),i=new Uv(e,r.Xa),s=i.gh(r.documents),o=i.bi(s,!1),n.resolve(o.snapshot),[3,3];case 2:return l=u.sent(),a=Hg(l,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,B_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.M_):function(t,e,n){var r=this;void 0===n&&(n={});var i=new xg;return t.rs.fs((function(){return Object($l.b)(r,void 0,void 0,(function(){var r;return Object($l.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Ly({next:function(n){e.fs((function(){return Kg(t,o)})),n.fromCache&&"server"===r.source?i.reject(new gd(pd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Yg(n,s,{includeMetadataChanges:!0,Hs:!0});return Wg(t,o)},[4,G_(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.rs,e,n,i])]}}))}))})),i.promise}(n,this.M_,t)).then((function(t){return new Sw(e.firestore,new tw(e.firestore.o_,e.D_,new d_(e.firestore.o_,e.x_,e.M_),t))}))},t}(),Cw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new bw(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),e}(Uy),Sw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ew(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new bw(t.S_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Cw(e.S_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new bw(n.S_,r))}))},e.prototype.isEqual=function(t){return nw(this.o_,t.o_)},e}(Uy),Iw=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Jp(e),n,r)||this).O_=e,e.length%2!=1)throw new gd(pd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.M()+" has "+e.length);return i}return Object($l.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:fw.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=od.u()),Fy("CollectionReference.doc","path",t);var e=yd.k(t);return fw.xf(this.M_.path.child(e),this.firestore,this.x_)},e.prototype.add=function(t){var e=this.x_?this.x_.toFirestore(t):t,n=this.doc();return fw.b_(n.o_.C_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.O_,this.firestore,t)},e}(Ew);function Ow(t,e,n){var r=zy(e,h_);if(r.firestore!==n.o_)throw new gd(pd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Tw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var xw,kw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(c_.bind.apply(c_,Object($l.g)([void 0],e))))||this}return Object($l.c)(e,t),e.documentId=function(){return new e(wd.q().M())},e.prototype.isEqual=function(t){return t instanceof Uy&&(t=t.o_),t instanceof c_&&this.o_.F_.isEqual(t.F_)},e}(Uy),Aw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($l.c)(e,t),e.serverTimestamp=function(){var t=new Ky("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new $y("deleteField");return t.a_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qy("arrayUnion",t)}).apply(void 0,t);return r.a_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jy("arrayRemove",t)}).apply(void 0,t);return r.a_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Zy("increment",t)}(t);return n.a_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Uy),Pw={Firestore:aw,GeoPoint:Yy,Timestamp:md,Blob:i_,Transaction:hw,WriteBatch:dw,DocumentReference:fw,DocumentSnapshot:mw,Query:Ew,QueryDocumentSnapshot:bw,QuerySnapshot:Sw,CollectionReference:Iw,FieldPath:kw,FieldValue:Aw,setLogLevel:function(t){Jh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Wh.a("firestore",(function(t){return function(t,e){return new aw(t,new Q_(t,e),new lw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Pw)))})(xw=Wl.a),xw.registerVersion("@firebase/firestore","2.0.2");var Rw=n("Jgta");function jw(t,e){return function(t,e=Gl.a){return new Ut.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Nw(t,e){return jw(t,e).pipe(Object(Wt.a)(t=>({payload:t,type:"query"})))}function Dw(t,e){return Nw(t,e).pipe(Object(Wt.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Mw(t,e,n){return Nw(t,n).pipe(Object(Wt.a)(t=>t.payload.docChanges()),ye((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(Wt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Lw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Uw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Dw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ye((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Lw(t);return Mw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Nw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xt.a)(this.query.get(t)).pipe(Object(Al.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Fw(this.ref.doc(t),this.afs)}}class Fw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Gw(n,e);return new Uw(r,i,this.afs)}snapshotChanges(){return jw(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Wt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(xt.a)(this.ref.get(t)).pipe(Object(Al.b)(this.afs.schedulers.insideAngular))}}class Vw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Dw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ye((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Lw(t);return Mw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Nw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xt.a)(this.query.get(t)).pipe(Object(Al.b)(this.afs.schedulers.insideAngular))}}const qw=new r.q("angularfire2.enableFirestorePersistence"),Bw=new r.q("angularfire2.firestore.persistenceSettings"),zw=new r.q("angularfire2.firestore.settings"),Hw=new r.q("angularfire2.firestore.use-emulator");function Gw(t,e=(t=>t)){return{query:e(t),ref:t}}let $w=(()=>{class t{constructor(t,e,n,r,i,s,o,l,a){this.schedulers=new Ml.e(s),this.keepUnstableUntilFirst=Object(Ml.i)(this.schedulers);const u=Object(Ml.h)(t,s,e);!Rw.a.auth&&a&&Object(Ml.k)();const c=l;[this.firestore,this.persistenceEnabled$]=Object(Ml.g)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!Ct(i)){const e=()=>{try{return Object(xt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Tt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Tt.a)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Gw(n,e),s=this.schedulers.ngZone.run(()=>r);return new Uw(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Vw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Fw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t(Object(r.Wb)(Ml.c),Object(r.Wb)(Ml.b,8),Object(r.Wb)(qw,8),Object(r.Wb)(zw,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Bw,8),Object(r.Wb)(Hw,8),Object(r.Wb)(Ll,8))},token:t,providedIn:"any"}),t})();class Ww{static enablePersistence(t){return{ngModule:Ww,providers:[{provide:qw,useValue:!0},{provide:Bw,useValue:t}]}}}var Kw="firebasestorage.googleapis.com",Qw=function(t){function e(n,r){var i=t.call(this,Xw(n),"Firebase Storage: "+r+" ("+Xw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object($l.c)(e,t),e.prototype.codeEquals=function(t){return Xw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ql.c),Jw="canceled",Zw="invalid-argument",Yw="unsupported-environment";function Xw(t){return"storage/"+t}function tE(){return new Qw("unknown","An unknown error occurred, please check the error payload for server response.")}function eE(){return new Qw(Jw,"User canceled the upload/download.")}function nE(){return new Qw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rE(t){return new Qw(Zw,t)}function iE(){return new Qw("app-deleted","The Firebase app was deleted.")}function sE(t){return new Qw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oE(t,e){return new Qw("invalid-format","String does not match format '"+t+"': "+e)}function lE(t){throw new Qw("internal-error","Internal error: "+t)}var aE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},uE=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function cE(t,e){switch(t){case aE.RAW:return new uE(hE(e));case aE.BASE64:case aE.BASE64URL:return new uE(dE(t,e));case aE.DATA_URL:return new uE((n=new fE(e)).base64?dE(aE.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw oE(aE.DATA_URL,"Malformed data URL.")}return hE(e)}(n.rest),new fE(e).contentType)}var n;throw tE()}function hE(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function dE(t,e){switch(t){case aE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw oE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case aE.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw oE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(u){throw oE(t,"Invalid character found")}for(var l=new Uint8Array(o.length),a=0;a<o.length;a++)l[a]=o.charCodeAt(a);return l}var fE=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw oE(aE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),pE="running",gE="pausing",mE="paused",bE="success",vE="canceling",yE="canceled",_E="error",wE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function EE(t){switch(t){case pE:case gE:case vE:return wE.RUNNING;case mE:return wE.PAUSED;case bE:return wE.SUCCESS;case yE:return wE.CANCELED;case _E:default:return wE.ERROR}}var CE=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),SE=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=CE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=CE.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=CE.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw lE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw lE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw lE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw lE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),IE=function(){function t(){}return t.prototype.createXhrIo=function(){return new SE},t}();function OE(t){return"string"==typeof t||t instanceof String}function TE(t){return xE()&&t instanceof Blob}function xE(){return"undefined"!=typeof Blob}function kE(t,e,n,r){if(r<e)throw new Qw(Zw,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Qw(Zw,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function AE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function PE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=AE();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(xE())return new Blob(t);throw new Qw(Yw,"This browser doesn't seem to support creating Blobs")}var RE=function(){function t(t,e){var n=0,r="";TE(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(TE(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(xE()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(PE.apply(null,r))}var i=e.map((function(t){return OE(t)?cE(aE.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),l=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[l++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),jE=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Qw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=Kw.replace(/[.]/g,"\\."),l=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],a=0;a<l.length;a++){var u=l[a],c=u.regex.exec(e);if(c){var h=c[u.indices.path];h||(h=""),n=new t(c[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new Qw("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function NE(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function DE(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function ME(t){return"https://"+Kw+"/v0"+t}function LE(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function UE(t,e){return e}var FE=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||UE}}(),VE=null;function qE(){if(VE)return VE;var t=[];t.push(new FE("bucket")),t.push(new FE("generation")),t.push(new FE("metageneration")),t.push(new FE("name","fullPath",!0));var e=new FE("name");e.xform=function(t,e){return function(t){return!OE(t)||t.length<2?t:DE(t)}(e)},t.push(e);var n=new FE("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new FE("timeCreated")),t.push(new FE("updated")),t.push(new FE("md5Hash",null,!0)),t.push(new FE("cacheControl",null,!0)),t.push(new FE("contentDisposition",null,!0)),t.push(new FE("contentEncoding",null,!0)),t.push(new FE("contentLanguage",null,!0)),t.push(new FE("contentType",null,!0)),t.push(new FE("metadata","customMetadata",!0)),VE=t}function BE(t,e,n){var r=NE(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new jE(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function zE(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var HE=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function GE(t){if(!t)throw tE()}function $E(t,e){return function(n,r){var i=BE(t,r,e);return GE(null!==i),i}}function WE(t){return function(e,n){var r;return(r=401===e.getStatus()?new Qw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Qw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Qw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function KE(t){var e=WE(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Qw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function QE(t,e,n){var r=ME(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new HE(r,"GET",$E(t,n),i);return s.errorHandler=KE(e),s}function JE(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ZE=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function YE(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){GE(!1)}return GE(!!n&&-1!==(e||["active"]).indexOf(n)),n}var XE=262144,tC=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),eC=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function nC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var rC=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=qE(),this._resumable=this._shouldDoResumable(this._blob),this._state=pE,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Jw)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(_E))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Jw)?r.completeTransitions_():(r._error=t,r._transition(_E))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===pE&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case pE:t(n);break;case vE:e._transition(yE);break;case gE:e._transition(mE)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=JE(e,r,i),l={name:o.fullPath},a=ME(s),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=zE(o,n),h=new HE(a,"POST",(function(t){var e;YE(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){GE(!1)}return GE(OE(e)),e}),t.maxUploadRetryTime);return h.urlParams=l,h.headers=u,h.body=c,h.errorHandler=WE(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new HE(n,"POST",(function(t){var e=YE(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){GE(!1)}n||GE(!1);var i=Number(n);return GE(!isNaN(i)),new ZE(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=WE(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=XE*this._chunkMultiplier,n=new ZE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var s;try{s=function(t,e,n,r,i,s,o,l){var a=new ZE(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new Qw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=a.total-a.current,c=u;i>0&&(c=Math.min(c,i));var h=a.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},f=r.slice(h,h+c);if(null===f)throw nE();var p=new HE(n,"POST",(function(t,n){var i,o=YE(t,["active","final"]),l=a.current+c,u=r.size();return i="final"===o?$E(e,s)(t,n):null,new ZE(l,u,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=l||null,p.errorHandler=WE(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(l){return t._error=l,void t._transition(_E)}var o=t._ref.storage.makeRequest(s,i);t._request=o,o.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(bE)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){XE*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=QE(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(bE)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+l;var a=JE(e,r,i),u=zE(a,n),c=RE.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===c)throw nE();var h={name:a.fullPath},d=ME(s),f=t.maxUploadRetryTime,p=new HE(d,"POST",$E(t,n),f);return p.urlParams=h,p.headers=o,p.body=c.uploadData(),p.errorHandler=WE(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(bE)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case vE:case gE:this._state=t,void 0!==this._request&&this._request.cancel();break;case pE:var e=this._state===mE;this._state=t,e&&(this._notifyObservers(),this._start());break;case mE:this._state=t,this._notifyObservers();break;case yE:this._error=eE(),this._state=t,this._notifyObservers();break;case _E:case bE:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case gE:this._transition(mE);break;case vE:this._transition(yE);break;case pE:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=EE(this._state);return new eC(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new tC(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(EE(this._state)){case wE.SUCCESS:nC(this._resolve.bind(null,this.snapshot))();break;case wE.CANCELED:case wE.ERROR:nC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(EE(this._state)){case wE.RUNNING:case wE.PAUSED:t.next&&nC(t.next.bind(t,this.snapshot))();break;case wE.SUCCESS:t.complete&&nC(t.complete.bind(t))();break;case wE.CANCELED:case wE.ERROR:t.error&&nC(t.error.bind(t,this._error))();break;default:t.error&&nC(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===mE||this._state===gE;return t&&this._transition(pE),t},t.prototype.pause=function(){var t=this._state===pE;return t&&this._transition(gE),t},t.prototype.cancel=function(){var t=this._state===pE||this._state===gE;return t&&this._transition(vE),t},t}(),iC=function(){function t(t,e){this._service=t,this._location=e instanceof jE?e:jE.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new jE(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return DE(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new jE(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw sE(t)},t}();function sC(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r,i;return Object($l.d)(this,(function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&kE("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=ME(e.bucketOnlyServerUrl()),l=t.maxOperationRetryTime,a=new HE(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=NE(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),l=t.makeStorageReference(new jE(e,o));r.prefixes.push(l)}if(n.items)for(var a=0,u=n.items;a<u.length;a++)l=t.makeStorageReference(new jE(e,u[a].name)),r.items.push(l);return r}(t,e,r)}(t,e,r);return GE(null!==i),i}}(t,e.bucket),l);return a.urlParams=s,a.errorHandler=WE(e),a}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function oC(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new jE(t._location.bucket,n);return new iC(t.storage,r)}var lC=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),aC=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new lC(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new lC(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new lC(t,i,i._ref))}:{next:e.next?function(t){return e.next(new lC(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),uC=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new cC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new cC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),cC=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(oC(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new aC(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new rC(t,new RE(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=aE.RAW),this._throwIfRoot("putString"),new aC(function(t,e,n,r){void 0===n&&(n=aE.RAW),t._throwIfRoot("putString");var i=cE(n,e),s=Object($l.a)({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new rC(t,new RE(i.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object($l.b)(this,void 0,void 0,(function(){var i,s,o;return Object($l.d)(this,(function(l){switch(l.label){case 0:return[4,sC(e,{pageToken:r})];case 1:return i=l.sent(),(s=n.prefixes).push.apply(s,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new uC(t,n.storage)}))},t.prototype.list=function(t){var e=this;return sC(this._delegate,t).then((function(t){return new uC(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=QE(t.storage,t._location,qE()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object($l.b)(this,void 0,void 0,(function(){var n,r;return Object($l.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=ME(e.fullServerUrl()),s=zE(n,r),o=t.maxOperationRetryTime,l=new HE(i,"PATCH",$E(t,r),o);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=s,l.errorHandler=KE(e),l}(t.storage,t._location,e,qE()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=ME(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new HE(r,"GET",function(t,e){return function(n,r){var i=BE(t,r,e);return GE(null!==i),function(t,e){var n=NE(e);if(null===n)return null;if(!OE(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return ME("/b/"+i(t.bucket)+"/o/"+i(n))+LE({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return s.errorHandler=KE(e),s}(t.storage,t._location,qE()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Qw("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object($l.b)(this,void 0,void 0,(function(){var e,n;return Object($l.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=ME(e.fullServerUrl()),r=new HE(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=KE(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw sE(t)},t}(),hC=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),dC=function(){function t(t,e,n,r,i,s,o,l,a,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=l,this.progressCallback_=u,this.timeout_=a,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var l=t.callback_(o,o.getResponseText());void 0!==l?i(l):i()}catch(a){s(a)}else null!==o?((r=tE()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?iE():eE():new Qw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new fC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,l=0;function a(){return 2===l}var u=!1;function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new fC(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===CE.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new fC(o,n))}else{var l=n.getErrorCode()===CE.ABORT;e(!1,new fC(!1,null,l))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,a())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,Object($l.g)([null,t],e));else{var r;a()||o?c.call.apply(c,Object($l.g)([null,t],e)):(i<64&&(i*=2),1===l?(l=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==s?(t||(l=2),clearTimeout(s),h(0)):t||(l=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),fC=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function pC(t){return/^[A-Za-z]+:\/\//.test(t)}function gC(t,e){if(e&&pC(e)){if(t instanceof vC)return new iC(t,e);throw rE("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof vC){var r=e;if(null==r._bucket)throw new Qw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new iC(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw rE('`path` param cannot contain ".."');return oC(e,n)}return e}(t,e)}var mC,bC,vC=function(){function t(t,e,n,r){var i,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?jE.makeFromBucketSpec(r):null==(s=null==(i=this.app.options)?void 0:i.storageBucket)?null:jE.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){kE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){kE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object($l.b)(this,void 0,void 0,(function(){var t,e;return Object($l.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new iC(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new hC(iE());var r=function(t,e,n,r){var i=LE(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Wl.a?Wl.a.SDK_VERSION:"AppManager")}(o),new dC(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),yC=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(pC(t))throw rE("ref() expected a child path but got a URL, use refFromURL instead.");return new cC(gC(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!pC(t))throw rE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jE.makeFromUrl(t)}catch(e){throw rE("refFromUrl() expected a valid full URL but got an invalid one.")}return new cC(gC(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function _C(t){const e=function(t){return new Ut.a(e=>{const n=t=>e.next(t);return t.on("state_changed",n,r=>{n(t.snapshot),(t=>{e.error(t)})(r)},()=>{n(t.snapshot),e.complete()}),()=>t.cancel()})}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Wt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function wC(t,e,n){return{getDownloadURL:()=>Object(Tt.a)(void 0).pipe(Object(Al.b)(e.outsideAngular),de(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Tt.a)(void 0).pipe(Object(Al.b)(e.outsideAngular),de(()=>t.getMetadata()),n),delete:()=>Object(xt.a)(t.delete()),child:r=>wC(t.child(r),e,n),updateMetadata:e=>Object(xt.a)(t.updateMetadata(e)),put:(e,n)=>_C(t.put(e,n)),putString:(e,n,r)=>_C(t.putString(e,n,r)),listAll:()=>Object(xt.a)(t.listAll())}}bC={TaskState:wE,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:aE,Storage:vC,Reference:cC},(mC=Wl.a).INTERNAL.registerComponent(new Wh.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new yC(n,new vC(n,r,new IE,e))}),"PUBLIC").setServiceProps(bC).setMultipleInstances(!0)),mC.registerVersion("@firebase/storage","0.4.2");const EC=new r.q("angularfire2.storageBucket"),CC=new r.q("angularfire2.storage.maxUploadRetryTime"),SC=new r.q("angularfire2.storage.maxOperationRetryTime");let IC=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Ml.e(i),this.keepUnstableUntilFirst=Object(Ml.i)(this.schedulers);const l=Object(Ml.h)(t,i,e);this.storage=Object(Ml.g)(`${l.name}.storage.${n}`,"AngularFireStorage",l,()=>{const t=i.runOutsideAngular(()=>l.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return wC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return wC(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return wC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t(Object(r.Wb)(Ml.c),Object(r.Wb)(Ml.b,8),Object(r.Wb)(EC,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(CC,8),Object(r.Wb)(SC,8))},token:t,providedIn:"any"}),t})();class OC{}class TC{}var xC=r.tb({encapsulation:0,styles:[[".mystyle[_ngcontent-%COMP%]{width:45%;text-align:center;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1.35rem;font-weight:400;line-height:1.5;color:#495057;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.mymargine[_ngcontent-%COMP%]{margin:10px auto}.mypos[_ngcontent-%COMP%]{position:absolute}"]],data:{}});function kC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,7,"div",[["class","input-group ml-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Upload"])),(t()(),r.vb(4,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),r.vb(5,0,null,null,0,"input",[["class","custom-file-input"],["id","categoryIcon"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.uploadFile(n)&&r),r}),null,null)),(t()(),r.vb(6,0,null,null,1,"label",[["class","custom-file-label"],["for","categoryIcon"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose file"]))],null,null)}function AC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,23,"div",[["class","container rounded border text-monospace   mt-3 mb-3 color"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,17,"div",[["class","d-flex"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"div",[["class","d-flex justify-content-center w-50 mb-3"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,0,"img",[["alt",""],["class","w-50 shadow p-3  mr-3 bg-white rounded"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(4,0,null,null,14,"div",[["class","w-75"]],null,null,null,null,null)),(t()(),r.vb(5,0,null,null,1,"h2",[["class","text-center text-uppercase"]],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,4,"div",[["class","d-flex justify-content-around mt-3 mb-3"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,1,"span",[["class","text-center mystyle font-italic font-weight-bold bg-warning text-danger"]],null,null,null,null,null)),(t()(),r.Rb(9,null,["",""])),(t()(),r.vb(10,0,null,null,1,"span",[["class","text-center mystyle font-italic font-weight-bold text-warning bg-primary   "]],null,null,null,null,null)),(t()(),r.Rb(11,null,["",""])),(t()(),r.vb(12,0,null,null,1,"h3",[["class","text-center text-capitalize font-italic border rounded w-50 mt-3 m-auto mt-3 bg-danger"]],null,null,null,null,null)),(t()(),r.Rb(13,null,["",""])),(t()(),r.vb(14,0,null,null,4,"div",[["class","d-flex justify-content-around mt-3 mb-3"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,1,"span",[["class","text-center mystyle font-italic font-weight-bold bg-warning text-danger"]],null,null,null,null,null)),(t()(),r.Rb(16,null,["",""])),(t()(),r.vb(17,0,null,null,1,"span",[["class","text-center mystyle font-italic font-weight-bold text-warning bg-primary   "]],null,null,null,null,null)),(t()(),r.Rb(18,null,["",""])),(t()(),r.vb(19,0,null,null,4,"div",[["class","d-flex justify-content-around w-75 mymargine"]],null,null,null,null,null)),(t()(),r.vb(20,0,null,null,1,"button",[["class","btn btn-secondary "]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeImg()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Change profile photo"])),(t()(),r.eb(16777216,null,null,1,null,kC)),r.ub(23,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,23,0,e.component.img)}),(function(t,e){var n=e.component;t(e,3,0,n.productImage),t(e,6,0,n.profUser.email),t(e,9,0,n.profUser.firstName),t(e,11,0,n.profUser.secondName),t(e,13,0,n.profUser.city),t(e,16,0,n.profUser.state),t(e,18,0,n.profUser.zip)}))}function PC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-profile",[],null,null,null,AC,xC)),r.ub(1,114688,null,0,xl,[kl,zl,$w,IC],null,null)],(function(t,e){t(e,1,0)}),null)}var RC=r.rb("app-profile",xl,PC,{},{},[]);class jC{constructor(t,e,n,r){this.prodService=t,this.router=e,this.activatedRoute=n,this.catService=r,this.isCollapsed=!1,this.myclick=!1,this.myheight="",this.products=[],this.category=[],this.router.events.subscribe(t=>{if(t instanceof Ne){const t=this.activatedRoute.snapshot.paramMap.get("category");this.getProducts(t)}})}ngOnInit(){this.getCategories()}getProducts(t){this.prodService.getCategoryProduct(t).subscribe(t=>{this.products=t})}getCategories(){this.catService.getJsonCategory().subscribe(t=>{this.category=t})}productCount(t,e){e?t.count++:t.count>1&&t.count--}menuClick(){this.myclick=!this.myclick,this.myclick&&(this.myheight=60*(this.category.length+1)+"px")}}let NC=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000/products"}getProducts(){return this.http.get(this.url)}postProduct(t){return this.http.post(this.url,t)}updateProduct(t){return this.http.put(`${this.url}/${t.id}`,t)}deleteProduct(t){return this.http.delete(`${this.url}/${t.id}`)}getCategoryProduct(t){return this.http.get(`${this.url}?category.name=${t}`)}getOneProduct(t){return this.http.get(`${this.url}/${t}`)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb($i))},token:t,providedIn:"root"}),t})(),DC=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000/category"}getJsonCategory(){return this.http.get(this.url)}postJsonCategory(t){return this.http.post(this.url,t)}deleteJsonCategory(t){return this.http.delete(`${this.url}/${t.id}`)}updateJsonCategory(t){return this.http.put(`${this.url}/${t.id}`,t)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb($i))},token:t,providedIn:"root"}),t})();var MC=r.tb({encapsulation:0,styles:[[".mymanu[_ngcontent-%COMP%]{transition:.5s linear;position:relative}.dropdawn[_ngcontent-%COMP%]{line-height:60px;width:200px;cursor:pointer;overflow:hidden;background-color:#d3d3d3;text-align:center;font-weight:100;color:#343a40;transition:min-height 1s linear;border-top-right-radius:5px;border-bottom-right-radius:5px;transition:height .5s ease-out}.drop-content[_ngcontent-%COMP%]{display:block;font-weight:600;font-family:sans-serif;background-color:#343a40;color:#f90;border:1px double #f90}.hid-content[_ngcontent-%COMP%]{font-weight:100;font-family:sans-serif;border:none;color:#343a40;background-color:#d3d3d3}.hid-content[_ngcontent-%COMP%]:hover{border:1px double #f90;background-color:#343a40;transition:transform .5s ease-out;transform:translateY(-.15rem);box-shadow:0 3px 15px #343a40;color:#f90;border-top-right-radius:5px;border-bottom-right-radius:5px}.dark-mode-text[_ngcontent-%COMP%]{color:#343a40}.dark-mode[_ngcontent-%COMP%]{background-color:#343a40;color:#f90;border:1px double #f90}"]],data:{}});function LC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,6,"div",[["class","drop-content hid-content"],["routerLinkActive","dark-mode"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,1).onClick()&&i),i}),null,null)),r.ub(1,540672,[[1,4]],0,Xr,[Yr,Dn,[8,null],r.D,r.l],{routerLink:[0,"routerLink"]},null),r.Jb(2,1),r.ub(3,1720320,null,2,ni,[Yr,r.l,r.D,r.h,[2,Xr],[2,ti]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,1,{links:1}),r.Nb(603979776,2,{linksWithHrefs:1}),(t()(),r.Rb(6,null,["",""]))],(function(t,e){var n=t(e,2,0,e.context.$implicit.name);t(e,1,0,n),t(e,3,0,"dark-mode")}),(function(t,e){t(e,6,0,e.context.$implicit.name)}))}function UC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,11,"section",[["class","container-fluid mt-3 d-flex"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,4,"div",[["class","dropdawn"]],[[4,"height",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.menuClick()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"div",[["class","drop-content "]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose product"])),(t()(),r.eb(16777216,null,null,1,null,LC)),r.ub(7,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.vb(8,0,null,null,3,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),r.vb(10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(11,212992,null,0,ri,[$r,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,7,0,e.component.category),t(e,11,0)}),(function(t,e){var n=e.component;t(e,3,0,n.myclick?n.myheight:"60px")}))}function FC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-product",[],null,null,null,UC,MC)),r.ub(1,114688,null,0,jC,[NC,Yr,Dn,DC],null,null)],(function(t,e){t(e,1,0)}),null)}var VC=r.rb("app-product",jC,FC,{},{},[]);class qC{constructor(t,e,n,r,i){this.prodService=t,this.router=e,this.activatedRoute=n,this.orderService=r,this.catService=i,this.category=[],this.products=[],this.router.events.subscribe(t=>{if(t instanceof Ne){const t=this.activatedRoute.snapshot.paramMap.get("category");this.getProducts(t)}})}ngOnInit(){this.getCategories()}getProducts(t){this.prodService.getCategoryProduct(t).subscribe(t=>{this.products=t})}getCategories(){this.catService.getJsonCategory().subscribe(t=>{this.category=t})}productCount(t,e){e?t.count++:t.count>1&&t.count--}addToBasket(t){this.orderService.addBasket(t),console.log(t),t.count=1}}var BC=r.tb({encapsulation:0,styles:[[".mycalss[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}.mycol[_ngcontent-%COMP%]{color:#f90}.myimg[_ngcontent-%COMP%]{border-top-right-radius:5px;border-top-left-radius:5px;width:100%;height:250px}.myprod[_ngcontent-%COMP%]{display:flex;justify-content:center}.myblock[_ngcontent-%COMP%]{width:30%;border:1px double #f90;border-radius:5px}.myblock[_ngcontent-%COMP%]:hover{transition:transform .3s ease-out;transform:translateY(-.15rem);box-shadow:0 3px 15px #2c2c2c}h5[_ngcontent-%COMP%]{height:50px}.but[_ngcontent-%COMP%]{width:120px;display:flex;text-align:center}.font[_ngcontent-%COMP%]{font-size:20px;font-style:italic}.mybtn[_ngcontent-%COMP%]{color:#f90;font-size:24px;font-weight:900;background-color:#343a40;border:none;width:50px}.mybtn[_ngcontent-%COMP%]:focus{border:none;outline:none}.mybtn[_ngcontent-%COMP%]:hover{color:#fff}"]],data:{}});function zC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,22,"div",[["class"," bg-dark myblock ml-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,0,"img",[["alt","..."],["class","myimg"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(2,0,null,null,20,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,1,"h5",[["class","card-title text-center text-light"]],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"p",[["class","card-text text-center text-light"]],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,10,"div",[["class","mycalss"]],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,1,"h3",[["class","text-right mycol"]],null,null,null,null,null)),(t()(),r.Rb(10,null,[""," "])),(t()(),r.vb(11,0,null,null,1,"span",[["class","font mb-1 text-light"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\u0433\u0440\u043d"])),(t()(),r.vb(13,0,null,null,5,"div",[["class","but"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,1,"button",[["class","mybtn "]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.productCount(t.context.$implicit,!1)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["-"])),(t()(),r.vb(16,0,null,null,0,"input",[["class","w-25 text-center border text-light bg-dark"],["maxlength","1"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),r.vb(17,0,null,null,1,"button",[["class","mybtn "]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.productCount(t.context.$implicit,!0)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["+"])),(t()(),r.vb(19,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(20,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),r.vb(21,0,null,null,1,"button",[["class","btn btn-danger"],["href","#"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addToBasket(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"]))],null,(function(t,e){t(e,1,0,e.context.$implicit.image),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.description),t(e,10,0,e.context.$implicit.price*e.context.$implicit.count),t(e,16,0,e.context.$implicit.count)}))}function HC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"div",[["class","myprod"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,zC)),r.ub(2,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.products)}),null)}function GC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-pizza",[],null,null,null,HC,BC)),r.ub(1,114688,null,0,qC,[NC,Yr,Dn,go,DC],null,null)],(function(t,e){t(e,1,0)}),null)}var $C=r.rb("app-pizza",qC,GC,{},{},[]);class WC{constructor(t,e,n){this.activatedRoute=t,this.blogService=e,this.location=n}ngOnInit(){this.getBlog()}getBlog(){const t=this.activatedRoute.snapshot.paramMap.get("id");this.blogService.getOneJSONBlog(t).subscribe(t=>{this.blog=t,console.log(t)},t=>{console.log(t)})}}var KC=r.tb({encapsulation:0,styles:[[".color[_ngcontent-%COMP%]{background-color:#b3e6e6}.myimg[_ngcontent-%COMP%]{width:30%}"]],data:{}});function QC(t){return r.Ub(0,[r.Kb(0,_t,[r.u]),(t()(),r.vb(1,0,null,null,12,"div",[["class","container rounded border text-monospace  mt-3 mb-3 color"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"h1",[["class","text-center text-uppercase"]],null,null,null,null,null)),(t()(),r.Rb(3,null,["",""])),(t()(),r.vb(4,0,null,null,0,"img",[["alt",""],["class"," float-left myimg shadow p-3  mr-3 bg-white rounded"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(5,0,null,null,1,"p",[["class","text-justify"]],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,1,"h3",[["class","text-right text-capitalize font-italic"]],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),(t()(),r.vb(9,0,null,null,2,"h6",[["class","mt-3"]],null,null,null,null,null)),(t()(),r.Rb(10,null,["",""])),r.Lb(11,2),(t()(),r.vb(12,0,null,null,1,"button",[["class","btn btn-info mb-3"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.location.back()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Back"]))],null,(function(t,e){var n=e.component;t(e,3,0,null==n.blog?null:n.blog.title),t(e,4,0,null==n.blog?null:n.blog.image),t(e,6,0,null==n.blog?null:n.blog.text),t(e,8,0,null==n.blog?null:n.blog.author);var i=r.Sb(e,10,0,t(e,11,0,r.Ib(e,0),null==n.blog?null:n.blog.date,"MMM d, yyyy"));t(e,10,0,i)}))}function JC(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-blog-details",[],null,null,null,QC,KC)),r.ub(1,114688,null,0,WC,[Dn,as,C],null,null)],(function(t,e){t(e,1,0)}),null)}var ZC=r.rb("app-blog-details",WC,JC,{},{},[]);class YC{constructor(){}ngOnInit(){}}var XC=r.tb({encapsulation:0,styles:[[".dark-mode-text[_ngcontent-%COMP%]{color:#2c2c2c}.dark-mode[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#fefefe}"]],data:{}});function tS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,28,"section",[["class","container-fluid mt-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,22,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,21,"div",[["class","nav flex-column nav-pills"]],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,6,"a",[["class","nav-link dark-mode-text"],["routerLinkActive","dark-mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,5).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(5,671744,[[2,4]],0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(6,1),r.ub(7,1720320,null,2,ni,[Yr,r.l,r.D,r.h,[2,Xr],[2,ti]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,1,{links:1}),r.Nb(603979776,2,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Category"])),(t()(),r.vb(11,0,null,null,6,"a",[["class","nav-link dark-mode-text"],["routerLinkActive","dark-mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,12).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(12,671744,[[4,4]],0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(13,1),r.ub(14,1720320,null,2,ni,[Yr,r.l,r.D,r.h,[2,Xr],[2,ti]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,3,{links:1}),r.Nb(603979776,4,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Product"])),(t()(),r.vb(18,0,null,null,6,"a",[["class","nav-link dark-mode-text"],["routerLinkActive","dark-mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,19).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(19,671744,[[6,4]],0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(20,1),r.ub(21,1720320,null,2,ni,[Yr,r.l,r.D,r.h,[2,Xr],[2,ti]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,5,{links:1}),r.Nb(603979776,6,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Blogs"])),(t()(),r.vb(25,0,null,null,3,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),r.vb(26,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),r.vb(27,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(28,212992,null,0,ri,[$r,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){var n=t(e,6,0,"category");t(e,5,0,n),t(e,7,0,"dark-mode");var r=t(e,13,0,"products");t(e,12,0,r),t(e,14,0,"dark-mode");var i=t(e,20,0,"adminBlogs");t(e,19,0,i),t(e,21,0,"dark-mode"),t(e,28,0)}),(function(t,e){t(e,4,0,r.Ib(e,5).target,r.Ib(e,5).href),t(e,11,0,r.Ib(e,12).target,r.Ib(e,12).href),t(e,18,0,r.Ib(e,19).target,r.Ib(e,19).href)}))}function eS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-admin",[],null,null,null,tS,XC)),r.ub(1,114688,null,0,YC,[],null,null)],(function(t,e){t(e,1,0)}),null)}var nS=r.rb("app-admin",YC,eS,{},{},[]);class rS{transform(t,e){return t&&e?t.filter(t=>t.name.toLocaleLowerCase().includes(e)):t}}class iS{constructor(t,e){this.id=t,this.name=e}}class sS{constructor(t,e,n){this.catService=t,this.storage=e,this.modalService=n,this.category=[],this.categoryName="",this.editStatus=!1,this.check=!0}ngOnInit(){this.getCategory()}getCategory(){this.catService.getJsonCategory().subscribe(t=>{this.category=t},t=>{console.log(t)})}addCategory(){if(this.categoryName.length>0){const t=new iS(1,this.categoryName);delete t.id,this.catService.postJsonCategory(t).subscribe(()=>{console.log("sdfsdf"),this.getCategory()},t=>{console.log(t)}),this.resetForm()}else this.resetForm()}deleteCategory(t){this.catService.deleteJsonCategory(t).subscribe(()=>{this.getCategory()},t=>{console.log(t)})}editCategory(t){this.categoryID=t.id,this.categoryName=t.name,this.editStatus=!0}saveCategory(){const t=new iS(1,this.categoryName);t.id=+this.categoryID,this.catService.updateJsonCategory(t).subscribe(()=>{this.getCategory()},t=>{console.log(t)}),this.resetForm(),this.editStatus=!1}resetForm(){this.categoryName=""}openAdd(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-dialog-centered "}))}openDel(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-sm modal-dialog-centered "}))}change(){this.check=!(this.categoryName.length>0)}}var oS=r.tb({encapsulation:0,styles:[[".secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d}"]],data:{}});function lS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark submit"]],[[2,"secondary",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.addCategory()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Add"]))],null,(function(t,e){t(e,0,0,e.component.check)}))}function aS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.saveCategory()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save edit"]))],null,null)}function uS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Modal title"])),(t()(),r.vb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(6,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,6,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,5,"input",[["aria-describedby","inputGroup-sizing-default"],["aria-label","Sizing example input"],["class","form-control"],["name","categoryName"],["placeholder","name here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,9)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==s.change()&&i),"ngModelChange"===e&&(i=!1!==(s.categoryName=n)&&i),i}),null,null)),r.ub(9,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(11,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(13,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(14,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,6,"div",[["class","d-flex justify-content-end mb-3 mr-3 ml-3"]],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"button",[["class","btn btn-secondary mr-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Close"])),(t()(),r.eb(16777216,null,null,1,null,lS)),r.ub(19,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,aS)),r.ub(21,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,11,0,"categoryName",n.categoryName),t(e,19,0,!n.editStatus),t(e,21,0,n.editStatus)}),(function(t,e){t(e,8,0,r.Ib(e,13).ngClassUntouched,r.Ib(e,13).ngClassTouched,r.Ib(e,13).ngClassPristine,r.Ib(e,13).ngClassDirty,r.Ib(e,13).ngClassValid,r.Ib(e,13).ngClassInvalid,r.Ib(e,13).ngClassPending)}))}function cS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","d-flex justify-content-around  mt-2 mb-2 ml-2 mr-2"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-secondary submit w-50"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-danger submit w-50 ml-3"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.deleteCategory(t.parent.context.$implicit)&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,null)}function hS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"td",[["class","w-75"],["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(6,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.openAdd(r.Ib(t.parent,12))&&i),"click"===e&&(i=!1!==s.editCategory(t.context.$implicit)&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(8,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openDel(r.Ib(t,11))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.eb(0,[["delete",2]],null,0,null,cS))],null,(function(t,e){t(e,2,0,e.context.$implicit.id),t(e,4,0,e.context.$implicit.name)}))}function dS(t){return r.Ub(0,[r.Kb(0,rS,[]),(t()(),r.vb(1,0,null,null,35,"div",[["class"," rounded border"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,10,"nav",[["class","navbar navbar-light bg-light w-100"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,1,"a",[["class","navbar-brand"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Category"])),(t()(),r.vb(5,0,null,null,7,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,7).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,7).onReset()&&i),i}),null,null)),r.ub(6,16384,null,0,uo,[],null,null),r.ub(7,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(9,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(10,0,null,null,1,"button",[["class","btn btn-dark"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.addCategory()&&i),"click"===e&&(i=!1!==s.openAdd(r.Ib(t,12))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Add"])),(t()(),r.eb(0,[["template",2]],null,0,null,uS)),(t()(),r.vb(13,0,null,null,23,"div",[["class","ml-3 mr-3"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,6,"div",[["class","input-group mt-3 mb-3"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,5,"input",[["aria-describedby","inputGroup-sizing-default"],["aria-label","Sizing example input"],["class","form-control"],["name","searchName"],["placeholder","filtered here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,16)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,16).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,16)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,16)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==s.change()&&i),"ngModelChange"===e&&(i=!1!==(s.searchName=n)&&i),i}),null,null)),r.ub(16,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(18,671744,null,0,ao,[[8,null],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(20,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(21,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(22,0,null,null,14,"table",[["class","table table-bordered"]],null,null,null,null,null)),(t()(),r.vb(23,0,null,null,9,"thead",[["class","thead-light"]],null,null,null,null,null)),(t()(),r.vb(24,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),r.vb(25,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(27,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name"])),(t()(),r.vb(29,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(31,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(33,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,2,null,hS)),r.ub(35,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),r.Lb(36,2)],(function(t,e){var n=e.component;t(e,18,0,"searchName",n.searchName);var i=r.Sb(e,35,0,t(e,36,0,r.Ib(e,0),n.category,n.searchName));t(e,35,0,i)}),(function(t,e){t(e,5,0,r.Ib(e,9).ngClassUntouched,r.Ib(e,9).ngClassTouched,r.Ib(e,9).ngClassPristine,r.Ib(e,9).ngClassDirty,r.Ib(e,9).ngClassValid,r.Ib(e,9).ngClassInvalid,r.Ib(e,9).ngClassPending),t(e,15,0,r.Ib(e,20).ngClassUntouched,r.Ib(e,20).ngClassTouched,r.Ib(e,20).ngClassPristine,r.Ib(e,20).ngClassDirty,r.Ib(e,20).ngClassValid,r.Ib(e,20).ngClassInvalid,r.Ib(e,20).ngClassPending)}))}function fS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-category",[],null,null,null,dS,oS)),r.ub(1,114688,null,0,sS,[DC,IC,_l],null,null)],(function(t,e){t(e,1,0)}),null)}var pS=r.rb("app-category",sS,fS,{},{},[]);class gS{transform(t,e){return t&&e?t.filter(t=>t.category.name.toLocaleLowerCase().includes(e)):t}}class mS{transform(t){return t?t+" \u20b4":""}}class bS{constructor(t,e,n,r,i,s,o=1){this.id=t,this.category=e,this.name=n,this.description=r,this.price=i,this.image=s,this.count=o}}class vS{constructor(t,e,n,r){this.modalService=t,this.catService=e,this.storage=n,this.prodService=r,this.categories=[],this.productName="",this.productDescription="",this.products=[],this.productPrice=null,this.productImage="",this.check=!0,this.success=!1,this.editStatus=!1,this.length=0,this.procent=!0}ngOnInit(){this.getCategories(),this.getProduct()}getCategories(){this.catService.getJsonCategory().subscribe(t=>{this.categories=t,this.currentCategory=this.categories[0]})}getProduct(){this.prodService.getProducts().subscribe(t=>{this.products=t})}addProduct(){if(this.productName.length>0&&this.productDescription.length>0&&null!=this.productPrice&&this.productImage.length>0){this.currentCategory=this.categories.filter(t=>t.name===this.categoryName)[0];const t=new bS(1,this.currentCategory,this.productName,this.productDescription,this.productPrice,this.productImage);delete t.id,this.prodService.postProduct(t).subscribe(()=>{this.getProduct()}),this.length=0,this.resetForm()}else this.resetForm(),this.length=0}deleteProd(t){this.prodService.deleteProduct(t).subscribe(()=>{this.getProduct()},t=>{console.log(t)})}editProd(t){this.productID=t.id,this.currentCategory=t.category,this.categoryName=t.category.name,this.productName=t.name,this.productDescription=t.description,this.productPrice=t.price,this.productImage=t.image,this.editStatus=!0}saveProd(){this.currentCategory=this.categories.filter(t=>t.name===this.categoryName)[0];const t=new bS(1,this.currentCategory,this.productName,this.productDescription,this.productPrice,this.productImage);t.id=+this.productID,this.prodService.updateProduct(t).subscribe(()=>{this.getProduct()},t=>{console.log(t)}),this.resetForm(),this.editStatus=!1,this.length=0}resetForm(){this.categoryName="",this.productName="",this.productDescription="",this.productPrice=null,this.productImage="",this.length=0,this.success=!1,this.procent=!0}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),this.uploadPercent.subscribe(t=>{t<=101&&(this.procent=!0)},t=>{console.log(t)}),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.productImage=t,this.success=!0,this.procent=!1})})}openAdd(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-dialog-centered "}))}openDel(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-sm modal-dialog-centered "}))}}var yS=r.tb({encapsulation:0,styles:[[".mywidth[_ngcontent-%COMP%]{max-width:1000px!important;width:1000px!important;margin:calc(30%) auto;background-color:#d3d3d3;height:500px}.myimg[_ngcontent-%COMP%]{width:60px;height:60px;margin:5px auto;display:flex}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.mycolor[_ngcontent-%COMP%]{background-color:#e9ecef}"]],data:{}});function _S(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"option",[["class","border"]],null,null,null,null,null)),r.ub(1,147456,null,0,Us,[r.l,r.D,[2,Ls]],null,null),r.ub(2,147456,null,0,Vs,[r.l,r.D,[8,null]],null,null),(t()(),r.vb(3,0,null,null,1,"p",[["class","border"]],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""]))],null,(function(t,e){t(e,4,0,e.context.$implicit.name)}))}function wS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"p",[["class","w-100 mycolor border rounded p-2"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["File uploaded. Now you can add product."]))],null,null)}function ES(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark submit"]],[[2,"secondary",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.addProduct()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Add"]))],null,(function(t,e){t(e,0,0,e.component.check)}))}function CS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.saveProd()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save edit"]))],null,null)}function SS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Product"])),(t()(),r.vb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(6,0,null,null,64,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,63,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,9).onReset()&&i),i}),null,null)),r.ub(8,16384,null,0,uo,[],null,null),r.ub(9,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(11,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(12,0,null,null,10,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"label",[["for","chooseCategory"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Product: "])),(t()(),r.vb(15,0,null,null,7,"select",[["class","custom-select w-75 rounded border"],["id","chooseCategory"],["name","categoryName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,s=t.component;return"change"===e&&(i=!1!==r.Ib(t,16).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,16).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(s.categoryName=n)&&i),i}),null,null)),r.ub(16,16384,null,0,Ls,[r.D,r.l],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[Ls]),r.ub(18,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(20,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.eb(16777216,null,null,1,null,_S)),r.ub(22,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.vb(23,0,null,null,8,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(24,0,null,null,1,"label",[["for","productName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name: "])),(t()(),r.vb(26,0,null,null,5,"input",[["class","w-75 rounded border"],["id","productName"],["name","productName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.productName=n)&&i),i}),null,null)),r.ub(27,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(29,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(31,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(32,0,null,null,8,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(33,0,null,null,1,"label",[["for","productDescription"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Description: "])),(t()(),r.vb(35,0,null,null,5,"textarea",[["class","w-75 h-50 rounded border"],["cols","3"],["id","productDescription"],["name","productDescription"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,36)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,36).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,36)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,36)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.productDescription=n)&&i),i}),null,null)),r.ub(36,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(38,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(40,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(41,0,null,null,9,"div",[["class","form-group d-flex justify-content-between"]],null,null,null,null,null)),(t()(),r.vb(42,0,null,null,1,"label",[["for","productPrice"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Price: "])),(t()(),r.vb(44,0,null,null,6,"input",[["class","w-75 rounded border"],["id","productPrice"],["name","productPrice"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,45)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,45).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,45)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,45)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==r.Ib(t,46).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,46).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(s.productPrice=n)&&i),i}),null,null)),r.ub(45,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.ub(46,16384,null,0,Ns,[r.D,r.l],null,null),r.Mb(1024,null,ms,(function(t,e){return[t,e]}),[vs,Ns]),r.ub(48,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(50,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(51,0,null,null,7,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.vb(52,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.vb(53,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Upload"])),(t()(),r.vb(55,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),r.vb(56,0,null,null,0,"input",[["class","custom-file-input"],["id","categoryIcon"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.uploadFile(n)&&r),r}),null,null)),(t()(),r.vb(57,0,null,null,1,"label",[["class","custom-file-label"],["for","categoryIcon"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose file"])),(t()(),r.vb(59,0,null,null,2,"div",[["class","progress mb-3"]],null,null,null,null,null)),(t()(),r.vb(60,0,null,null,1,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","0"],["class","progress-bar progress-bar-striped"],["role","progressbar"]],[[4,"width",null]],null,null,null,null)),r.Kb(131072,yt,[r.h]),(t()(),r.eb(16777216,null,null,1,null,wS)),r.ub(63,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(64,0,null,null,6,"div",[["class","d-flex justify-content-end mb-3"]],null,null,null,null,null)),(t()(),r.vb(65,0,null,null,1,"button",[["class","btn btn-secondary mr-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Close"])),(t()(),r.eb(16777216,null,null,1,null,ES)),r.ub(68,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,CS)),r.ub(70,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,18,0,"categoryName",n.categoryName),t(e,22,0,n.categories),t(e,29,0,"productName",n.productName),t(e,38,0,"productDescription",n.productDescription),t(e,48,0,"productPrice",n.productPrice),t(e,63,0,n.success),t(e,68,0,!n.editStatus),t(e,70,0,n.editStatus)}),(function(t,e){var n=e.component;t(e,7,0,r.Ib(e,11).ngClassUntouched,r.Ib(e,11).ngClassTouched,r.Ib(e,11).ngClassPristine,r.Ib(e,11).ngClassDirty,r.Ib(e,11).ngClassValid,r.Ib(e,11).ngClassInvalid,r.Ib(e,11).ngClassPending),t(e,15,0,r.Ib(e,20).ngClassUntouched,r.Ib(e,20).ngClassTouched,r.Ib(e,20).ngClassPristine,r.Ib(e,20).ngClassDirty,r.Ib(e,20).ngClassValid,r.Ib(e,20).ngClassInvalid,r.Ib(e,20).ngClassPending),t(e,26,0,r.Ib(e,31).ngClassUntouched,r.Ib(e,31).ngClassTouched,r.Ib(e,31).ngClassPristine,r.Ib(e,31).ngClassDirty,r.Ib(e,31).ngClassValid,r.Ib(e,31).ngClassInvalid,r.Ib(e,31).ngClassPending),t(e,35,0,r.Ib(e,40).ngClassUntouched,r.Ib(e,40).ngClassTouched,r.Ib(e,40).ngClassPristine,r.Ib(e,40).ngClassDirty,r.Ib(e,40).ngClassValid,r.Ib(e,40).ngClassInvalid,r.Ib(e,40).ngClassPending),t(e,44,0,r.Ib(e,50).ngClassUntouched,r.Ib(e,50).ngClassTouched,r.Ib(e,50).ngClassPristine,r.Ib(e,50).ngClassDirty,r.Ib(e,50).ngClassValid,r.Ib(e,50).ngClassInvalid,r.Ib(e,50).ngClassPending),t(e,60,0,n.procent?r.Sb(e,60,0,r.Ib(e,61).transform(n.uploadPercent))+"%":"100%")}))}function IS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","d-flex  justify-content-around mymodal mt-2 mb-2 ml-2 mr-2"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-secondary submit w-50"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-danger submit w-50 ml-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.deleteProd(t.parent.context.$implicit)&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,null)}function OS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,21,"tr",[["class","bg-light"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"td",[["class",""],["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"td",[["class","w-25 text-capitalize"],["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"td",[["class","text-center text-capitalize"],["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,1,"td",[["class","w-25 text-center"],["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),(t()(),r.vb(9,0,null,null,3,"td",[["class","w-25"],["scope","row"]],null,null,null,null,null)),(t()(),r.Rb(10,null,["",""])),r.Lb(11,2),r.Lb(12,1),(t()(),r.vb(13,0,null,null,1,"td",[["class","w-25 "],["scope","row"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,0,"img",[["alt",""],["class","myimg"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(15,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.openAdd(r.Ib(t.parent,16))&&i),"click"===e&&(i=!1!==s.editProd(t.context.$implicit)&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(18,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(19,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openDel(r.Ib(t,21))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.eb(0,[["delete",2]],null,0,null,IS))],null,(function(t,e){t(e,2,0,e.context.$implicit.id),t(e,4,0,e.context.$implicit.category.name),t(e,6,0,e.context.$implicit.name),t(e,8,0,e.context.$implicit.description);var n=r.Sb(e,10,0,t(e,12,0,r.Ib(e.parent,1),r.Sb(e,10,0,t(e,11,0,r.Ib(e.parent,2),e.context.$implicit.price,"1.2-2"))));t(e,10,0,n),t(e,14,0,e.context.$implicit.image)}))}function TS(t){return r.Ub(0,[r.Kb(0,gS,[]),r.Kb(0,mS,[]),r.Kb(0,wt,[r.u]),(t()(),r.vb(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Rb(-1,null,["products works!"])),(t()(),r.vb(5,0,null,null,43,"div",[["class"," rounded border"]],null,null,null,null,null)),(t()(),r.vb(6,0,null,null,10,"nav",[["class","navbar navbar-light bg-light w-100"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,1,"a",[["class","navbar-brand"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Product"])),(t()(),r.vb(9,0,null,null,7,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,11).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,11).onReset()&&i),i}),null,null)),r.ub(10,16384,null,0,uo,[],null,null),r.ub(11,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(13,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(14,0,null,null,1,"button",[["class","btn btn-dark"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAdd(r.Ib(t,16))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Add"])),(t()(),r.eb(0,[["template",2]],null,0,null,SS)),(t()(),r.vb(17,0,null,null,31,"div",[["class","ml-3 mr-3"]],null,null,null,null,null)),(t()(),r.vb(18,0,null,null,6,"div",[["class","input-group mt-3 mb-3"]],null,null,null,null,null)),(t()(),r.vb(19,0,null,null,5,"input",[["aria-describedby","inputGroup-sizing-default"],["aria-label","Sizing example input"],["class","form-control"],["name","searchName"],["placeholder","filtered here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,20)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,20).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,20)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,20)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.searchName=n)&&i),i}),null,null)),r.ub(20,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(22,671744,null,0,ao,[[8,null],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(24,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(25,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(26,0,null,null,22,"table",[["class","table table-bordered"]],null,null,null,null,null)),(t()(),r.vb(27,0,null,null,17,"thead",[["class","thead-light"]],null,null,null,null,null)),(t()(),r.vb(28,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),r.vb(29,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(31,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Category"])),(t()(),r.vb(33,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name"])),(t()(),r.vb(35,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Description"])),(t()(),r.vb(37,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Price"])),(t()(),r.vb(39,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Image"])),(t()(),r.vb(41,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(43,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(45,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,2,null,OS)),r.ub(47,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),r.Lb(48,2)],(function(t,e){var n=e.component;t(e,22,0,"searchName",n.searchName);var i=r.Sb(e,47,0,t(e,48,0,r.Ib(e,0),n.products,n.searchName));t(e,47,0,i)}),(function(t,e){t(e,9,0,r.Ib(e,13).ngClassUntouched,r.Ib(e,13).ngClassTouched,r.Ib(e,13).ngClassPristine,r.Ib(e,13).ngClassDirty,r.Ib(e,13).ngClassValid,r.Ib(e,13).ngClassInvalid,r.Ib(e,13).ngClassPending),t(e,19,0,r.Ib(e,24).ngClassUntouched,r.Ib(e,24).ngClassTouched,r.Ib(e,24).ngClassPristine,r.Ib(e,24).ngClassDirty,r.Ib(e,24).ngClassValid,r.Ib(e,24).ngClassInvalid,r.Ib(e,24).ngClassPending)}))}function xS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-products",[],null,null,null,TS,yS)),r.ub(1,114688,null,0,vS,[_l,DC,IC,NC],null,null)],(function(t,e){t(e,1,0)}),null)}var kS=r.rb("app-products",vS,xS,{},{},[]);class AS{constructor(t,e,n,r,i,s){this.id=t,this.title=e,this.text=n,this.date=r,this.author=i,this.image=s}}class PS{constructor(t,e){this.blogService=t,this.storage=e,this.adminBlog=[],this.blogTitle="",this.blogText="",this.blogAuthor="",this.blogImage="https://lh3.googleusercontent.com/proxy/dXC4l3Z9A-PY_SbP8oLfMZZJxWSmpGiT7Z4rLSzvG8ULRC4foVeZ-M4JLyf9XLl8lWmWa_yBZiogQ8rn1U4ailLA89R2b1-tpun0dDPrulr-rFTaEyo4Oae8YA_0",this.editStatus=!1,this.success=!0}ngOnInit(){this.getJsonAdminBlog()}getJsonAdminBlog(){this.blogService.getJsonBlogs().subscribe(t=>{this.adminBlog=t},t=>{console.log(t)})}addAdminBlog(){if(this.blogTitle.length>0&&this.blogText.length>0&&this.blogAuthor.length>0){const t=new AS(1,this.blogTitle,this.blogText,new Date,this.blogAuthor,this.blogImage);delete t.id,this.blogService.postJsonBlogs(t).subscribe(()=>{this.getJsonAdminBlog()},t=>{console.log(t)}),this.resetForm()}else this.resetForm()}deleteAdminBlog(t){this.blogService.deleteJsonBlog(t).subscribe(()=>{this.getJsonAdminBlog()},t=>{console.log(t)})}editAdminBlog(t){this.blogID=t.id,this.blogAuthor=t.author,this.blogText=t.text,this.blogTitle=t.title,this.editStatus=!0,this.blogImage=t.image}saveAdminBlog(){const t=new AS(1,this.blogTitle,this.blogText,new Date,this.blogAuthor,this.blogImage);t.id=+this.blogID,this.blogService.updateJsonBlog(t).subscribe(()=>{this.getJsonAdminBlog()},t=>{console.log(t)}),this.resetForm(),this.editStatus=!1}resetForm(){this.blogTitle="",this.blogText="",this.blogAuthor=""}uploadFile(t){const e=t.target.files[0],n="images/"+e.name;console.log(e,n);const r=this.storage.ref(n).put(e);this.uploadPercent=r.percentageChanges(),this.uploadPercent.subscribe(t=>{(t>0||t<100)&&(this.success=!1)},t=>{console.log(t)}),r.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.blogImage=t,this.success=!0,console.log(this.blogImage)})})}}var RS=r.tb({encapsulation:0,styles:[[".height[_ngcontent-%COMP%]{height:100px}"]],data:{}});function jS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,3,"div",[["class","d-flex align-items-center mt-3 mb-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Loading..."])),(t()(),r.vb(3,0,null,null,0,"div",[["aria-hidden","true"],["class","spinner-border ml-auto text-primary"],["role","status"]],null,null,null,null,null))],null,null)}function NS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addAdminBlog()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["ADD"]))],null,null)}function DS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveAdminBlog()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save"]))],null,null)}function MS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),r.Lb(9,2),(t()(),r.vb(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(11,null,["",""])),(t()(),r.vb(12,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.editAdminBlog(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(15,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteAdminBlog(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,(function(t,e){var n=e.component;t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.title),t(e,6,0,e.context.$implicit.text);var i=r.Sb(e,8,0,t(e,9,0,r.Ib(e.parent,0),e.context.$implicit.date,n.MM));t(e,8,0,i),t(e,11,0,e.context.$implicit.author)}))}function LS(t){return r.Ub(0,[r.Kb(0,_t,[r.u]),(t()(),r.vb(1,0,null,null,36,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,3).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,3).onReset()&&i),i}),null,null)),r.ub(2,16384,null,0,uo,[],null,null),r.ub(3,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(5,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(6,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,5,"input",[["class","form-control"],["id","title"],["name","blogTitle"],["placeholder","title here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.blogTitle=n)&&i),i}),null,null)),r.ub(8,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(10,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(12,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(13,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,5,"textarea",[["class","form-control height"],["cols","10"],["id","text"],["name","blogText"],["placeholder","text here..."],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,15)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.blogText=n)&&i),i}),null,null)),r.ub(15,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(17,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(19,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(20,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(21,0,null,null,5,"input",[["class","form-control"],["id","title"],["name","blogAuthor"],["placeholder","author here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,22)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,22).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,22)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,22)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.blogAuthor=n)&&i),i}),null,null)),r.ub(22,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(24,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(26,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(27,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(28,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),r.vb(29,0,null,null,0,"input",[["aria-describedby","inputGroupFileAddon01"],["class","custom-file-input"],["id","inputGroupFile01"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.uploadFile(n)&&r),r}),null,null)),(t()(),r.vb(30,0,null,null,1,"label",[["class","custom-file-label"],["for","inputGroupFile01"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose file"])),(t()(),r.eb(16777216,null,null,1,null,jS)),r.ub(33,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,NS)),r.ub(35,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,DS)),r.ub(37,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(38,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(39,0,null,null,19,"table",[["class","table"]],null,null,null,null,null)),(t()(),r.vb(40,0,null,null,15,"thead",[],null,null,null,null,null)),(t()(),r.vb(41,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),r.vb(42,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(44,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Title"])),(t()(),r.vb(46,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Text"])),(t()(),r.vb(48,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Date"])),(t()(),r.vb(50,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Author"])),(t()(),r.vb(52,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(54,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(56,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,MS)),r.ub(58,278528,null,0,ut,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,10,0,"blogTitle",n.blogTitle),t(e,17,0,"blogText",n.blogText),t(e,24,0,"blogAuthor",n.blogAuthor),t(e,33,0,!n.success),t(e,35,0,!n.editStatus),t(e,37,0,n.editStatus),t(e,58,0,n.adminBlog)}),(function(t,e){t(e,1,0,r.Ib(e,5).ngClassUntouched,r.Ib(e,5).ngClassTouched,r.Ib(e,5).ngClassPristine,r.Ib(e,5).ngClassDirty,r.Ib(e,5).ngClassValid,r.Ib(e,5).ngClassInvalid,r.Ib(e,5).ngClassPending),t(e,7,0,r.Ib(e,12).ngClassUntouched,r.Ib(e,12).ngClassTouched,r.Ib(e,12).ngClassPristine,r.Ib(e,12).ngClassDirty,r.Ib(e,12).ngClassValid,r.Ib(e,12).ngClassInvalid,r.Ib(e,12).ngClassPending),t(e,14,0,r.Ib(e,19).ngClassUntouched,r.Ib(e,19).ngClassTouched,r.Ib(e,19).ngClassPristine,r.Ib(e,19).ngClassDirty,r.Ib(e,19).ngClassValid,r.Ib(e,19).ngClassInvalid,r.Ib(e,19).ngClassPending),t(e,21,0,r.Ib(e,26).ngClassUntouched,r.Ib(e,26).ngClassTouched,r.Ib(e,26).ngClassPristine,r.Ib(e,26).ngClassDirty,r.Ib(e,26).ngClassValid,r.Ib(e,26).ngClassInvalid,r.Ib(e,26).ngClassPending)}))}function US(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-blogs",[],null,null,null,LS,RS)),r.ub(1,114688,null,0,PS,[as,IC],null,null)],(function(t,e){t(e,1,0)}),null)}var FS=r.rb("app-blogs",PS,US,{},{},[]),VS=r.tb({encapsulation:2,styles:[],data:{}});function qS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),r.Hb(null,0)],null,(function(t,e){var n=e.component;t(e,0,0,"modal-dialog"+(n.config.class?" "+n.config.class:""))}))}function BS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"modal-container",[["class","modal"],["role","dialog"],["tabindex","-1"]],[[1,"aria-modal",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"mousedown"],[null,"mouseup"],["window","popstate"],["window","keydown.esc"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r.Ib(t,1).onClickStarted(n)&&i),"mouseup"===e&&(i=!1!==r.Ib(t,1).onClickStop(n)&&i),"window:popstate"===e&&(i=!1!==r.Ib(t,1).onPopState()&&i),"window:keydown.esc"===e&&(i=!1!==r.Ib(t,1).onEsc(n)&&i),i}),qS,VS)),r.ub(1,245760,null,0,vl,[fl,r.l,r.D],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,!0,r.Ib(e,1).config.ariaLabelledBy,r.Ib(e,1).config.ariaDescribedby)}))}var zS=r.rb("modal-container",vl,BS,{},{},["*"]),HS=r.tb({encapsulation:2,styles:[],data:{}});function GS(t){return r.Ub(0,[],null,null)}function $S(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"bs-modal-backdrop",[["class","modal-backdrop"]],null,null,null,GS,HS)),r.ub(1,114688,null,0,yl,[r.l,r.D],null,null)],(function(t,e){t(e,1,0)}),null)}var WS=r.rb("bs-modal-backdrop",yl,$S,{},{},[]);class KS{constructor(t,e,n,r){this.orderService=t,this.catService=e,this.modalService=n,this.authService=r,this.basket=[],this.category=[],this.totalPrice=0,this.out=!1,this.up=!1,this.admin=!1}ngOnInit(){this.checkMyBasket(),this.getLocalProd(),this.getCategories()}getCategories(){this.catService.getJsonCategory().subscribe(t=>{this.category=t})}checkMyBasket(){this.orderService.basket.subscribe(t=>{this.basket=t,this.totalPrice=this.getTotal(this.basket)})}getLocalProd(){localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket")),this.totalPrice=this.getTotal(this.basket))}getTotal(t){return t.reduce((t,e)=>t+e.price*e.count,0)}signModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-lg modal-dialog-centered"}))}signInModal(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-sm"}))}signUP(){this.inputEmail&&this.inputPassword&&this.inputStreet&&this.userSName&&this.userFName&&this.inputCity&&this.inputState&&this.inputZip?(this.authService.signUp(this.inputEmail,this.inputPassword,this.inputStreet,this.userFName,this.userSName,this.inputCity,this.inputState,this.inputZip),this.out=!0,this.up=!0):(this.up=!1,this.resetForm())}signIN(){this.userEmail&&this.userPassword?(this.authService.signIn(this.userEmail,this.userPassword),"admin@gmail.com"==this.userEmail?(this.admin=!0,this.out=!0,this.resetForm()):(this.up=!0,this.out=!0,this.resetForm())):this.resetForm()}resetForm(){this.inputEmail="",this.inputPassword="",this.inputStreet="",this.userFName="",this.userSName="",this.inputCity="",this.inputState="",this.inputZip="",this.userEmail="",this.userPassword=""}signOUT(){this.authService.signOut(),this.out=!1,this.up=!1,this.admin=!1}openDel(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-sm modal-dialog-centered "}))}}let QS=(()=>{class t{constructor(t,e,n,r){this.http=t,this.db=e,this.auth=n,this.router=r}signUp(t,e,n,r,i,s,o,l){this.auth.createUserWithEmailAndPassword(t,e).then(t=>{const a={id:t.user.uid,email:t.user.email,password:e,role:"user",street:n,firstName:r,secondName:i,city:s,state:o,zip:l,image:"https://firebasestorage.googleapis.com/v0/b/admin-blog-f6b6a.appspot.com/o/images%2FPngItem_1468479.png?alt=media&token=3f1c6e19-93ba-4667-a4b6-704ce086ed98"};this.db.collection("users").add(a).then(t=>{t.get().then(t=>{localStorage.setItem("user",JSON.stringify(t.data())),this.localUser=JSON.parse(localStorage.getItem("user")),this.router.navigateByUrl("user"===this.localUser.role?"profile":"blog")})})}).catch(t=>{console.log(t)})}signIn(t,e){this.auth.signInWithEmailAndPassword(t,e).then(t=>{this.db.collection("users").ref.where("id","==",t.user.uid).onSnapshot(t=>{t.forEach(t=>{localStorage.setItem("user",JSON.stringify(t.data())),this.localUser=JSON.parse(localStorage.getItem("user")),this.router.navigateByUrl("admin"===this.localUser.role?"admin":"profile")})})})}signOut(){this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigateByUrl("blog")})}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb($i),r.Wb($w),r.Wb(zl),r.Wb(Yr))},token:t,providedIn:"root"}),t})();var JS=r.tb({encapsulation:0,styles:[["header[_ngcontent-%COMP%]{font-family:Comfortaa,cursive}header[_ngcontent-%COMP%]   .headerSection[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]{position:relative;display:block}header[_ngcontent-%COMP%]   .headerSection[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;display:table;margin:0 auto -5px;transform:rotateY(180deg);transition:opacity .25s linear}header[_ngcontent-%COMP%]   .headerSection[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]   .basketPrice[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]   .headerSection[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]   .basketPrice[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;margin-right:5px;max-width:43px;min-width:38px;text-align:right;overflow:hidden;display:inline-block;vertical-align:bottom;font-weight:700}header[_ngcontent-%COMP%]   .headerSection[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]   .basketPrice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px;display:inline-block;vertical-align:bottom;font-style:normal}header[_ngcontent-%COMP%]   .headerSection.user-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.5)}.myimg[_ngcontent-%COMP%]{width:28px;height:28px;display:table;margin:0 auto -5px;transform:rotateY(180deg);transition:opacity .25s linear}header[_ngcontent-%COMP%]   .headerSection.user-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:hsla(0,0%,100%,.75)}.myimg[_ngcontent-%COMP%]:hover{outline:none}.myimg[_ngcontent-%COMP%]:focus, .myimg[_ngcontent-%COMP%]:hover{border-radius:50px;border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.myimg[_ngcontent-%COMP%]:focus{outline:0}"]],data:{}});function ZS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"a",[["class","nav-link"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signInModal(r.Ib(t.parent,48))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Sign In"]))],null,null)}function YS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"a",[["class","nav-link"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openDel(r.Ib(t.parent.parent,50))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Sign Out"]))],null,null)}function XS(t){return r.Ub(0,[(t()(),r.eb(16777216,null,null,1,null,YS)),r.ub(1,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(0,null,null,0))],(function(t,e){t(e,1,0,e.component.out)}),null)}function tI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"img",[["alt",""],["class","myimg mr-3 mb-1"],["src","assets/PngItem_1468479.png"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,1).onClick()&&i),i}),null,null)),r.ub(1,540672,null,0,Xr,[Yr,Dn,[8,null],r.D,r.l],{routerLink:[0,"routerLink"]},null),r.Jb(2,1)],(function(t,e){var n=t(e,2,0,"/profile");t(e,1,0,n)}),null)}function eI(t){return r.Ub(0,[(t()(),r.eb(16777216,null,null,1,null,tI)),r.ub(1,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(0,null,null,0))],(function(t,e){t(e,1,0,e.component.up)}),null)}function nI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"a",[["class","nav-link"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signModal(r.Ib(t.parent,49))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Sign Up"]))],null,null)}function rI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","headerSection user-block nav-item"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,2).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(2,671744,null,0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(3,1),(t()(),r.Rb(-1,null,["\u0423\u0432\u0456\u0439\u0442\u0438"]))],(function(t,e){var n=t(e,3,0,"/admin");t(e,2,0,n)}),(function(t,e){t(e,1,0,r.Ib(e,2).target,r.Ib(e,2).href)}))}function iI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Sign In"])),(t()(),r.vb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(6,0,null,null,26,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,25,"div",[],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,10).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,10).onReset()&&i),i}),null,null)),r.ub(9,16384,null,0,uo,[],null,null),r.ub(10,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(12,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(13,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,1,"label",[["for","userEmail"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Email address"])),(t()(),r.vb(16,0,null,null,5,"input",[["class","form-control"],["id","userEmail"],["name","userEmail"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,17)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,17)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userEmail=n)&&i),i}),null,null)),r.ub(17,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(19,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(21,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(22,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(23,0,null,null,1,"label",[["for","userPassword"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Password"])),(t()(),r.vb(25,0,null,null,5,"input",[["class","form-control"],["id","userPassword"],["name","userPassword"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,26)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,26)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userPassword=n)&&i),i}),null,null)),r.ub(26,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(28,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(30,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(31,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.signIN()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Sign In"]))],(function(t,e){var n=e.component;t(e,19,0,"userEmail",n.userEmail),t(e,28,0,"userPassword",n.userPassword)}),(function(t,e){t(e,8,0,r.Ib(e,12).ngClassUntouched,r.Ib(e,12).ngClassTouched,r.Ib(e,12).ngClassPristine,r.Ib(e,12).ngClassDirty,r.Ib(e,12).ngClassValid,r.Ib(e,12).ngClassInvalid,r.Ib(e,12).ngClassPending),t(e,16,0,r.Ib(e,21).ngClassUntouched,r.Ib(e,21).ngClassTouched,r.Ib(e,21).ngClassPristine,r.Ib(e,21).ngClassDirty,r.Ib(e,21).ngClassValid,r.Ib(e,21).ngClassInvalid,r.Ib(e,21).ngClassPending),t(e,25,0,r.Ib(e,30).ngClassUntouched,r.Ib(e,30).ngClassTouched,r.Ib(e,30).ngClassPristine,r.Ib(e,30).ngClassDirty,r.Ib(e,30).ngClassValid,r.Ib(e,30).ngClassInvalid,r.Ib(e,30).ngClassPending)}))}function sI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"div",[["class","modal-header "]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Sign Up"])),(t()(),r.vb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(6,0,null,null,83,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,82,"div",[],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,81,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,10).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,10).onReset()&&i),i}),null,null)),r.ub(9,16384,null,0,uo,[],null,null),r.ub(10,4210688,null,0,oo,[[8,null],[8,null]],null,null),r.Mb(2048,null,_s,null,[oo]),r.ub(12,16384,null,0,Ss,[[4,_s]],null,null),(t()(),r.vb(13,0,null,null,18,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,8,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,1,"label",[["for","inputEmail"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Email"])),(t()(),r.vb(17,0,null,null,5,"input",[["class","form-control"],["id","inputEmail"],["name","inputEmail"],["placeholder","user@gmail.com"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,18)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.inputEmail=n)&&i),i}),null,null)),r.ub(18,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(20,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(22,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(23,0,null,null,8,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(t()(),r.vb(24,0,null,null,1,"label",[["for","inputPassword"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Password"])),(t()(),r.vb(26,0,null,null,5,"input",[["class","form-control"],["id","inputPassword"],["name","inputPassword"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.inputPassword=n)&&i),i}),null,null)),r.ub(27,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(29,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(31,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(32,0,null,null,27,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),r.vb(33,0,null,null,8,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(t()(),r.vb(34,0,null,null,1,"label",[["for","inputStreet"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Address(Street name)"])),(t()(),r.vb(36,0,null,null,5,"input",[["class","form-control"],["id","inputStreet"],["name","inputStreet"],["placeholder","Antonucha"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,37)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,37).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,37)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,37)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.inputStreet=n)&&i),i}),null,null)),r.ub(37,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(39,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(41,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(42,0,null,null,8,"div",[["class","form-group col-md-3"]],null,null,null,null,null)),(t()(),r.vb(43,0,null,null,1,"label",[["for","userFName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["First Name"])),(t()(),r.vb(45,0,null,null,5,"input",[["class","form-control"],["id","userFName"],["name","userFName"],["placeholder","Bohdan"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,46)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,46).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,46)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,46)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userFName=n)&&i),i}),null,null)),r.ub(46,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(48,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(50,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(51,0,null,null,8,"div",[["class","form-group col-md-3"]],null,null,null,null,null)),(t()(),r.vb(52,0,null,null,1,"label",[["for","userSName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Second Name"])),(t()(),r.vb(54,0,null,null,5,"input",[["class","form-control"],["id","userSName"],["name","userSName"],["placeholder","Kolodii"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,55)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,55).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,55)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,55)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userSName=n)&&i),i}),null,null)),r.ub(55,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(57,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(59,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(60,0,null,null,27,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),r.vb(61,0,null,null,8,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(t()(),r.vb(62,0,null,null,1,"label",[["for","inputCity"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["City"])),(t()(),r.vb(64,0,null,null,5,"input",[["class","form-control"],["id","inputCity"],["name","inputCity"],["placeholder","Lviv"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,65)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,65).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,65)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,65)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.inputCity=n)&&i),i}),null,null)),r.ub(65,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(67,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(69,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(70,0,null,null,8,"div",[["class","form-group col-md-4"]],null,null,null,null,null)),(t()(),r.vb(71,0,null,null,1,"label",[["for","inputState"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["State"])),(t()(),r.vb(73,0,null,null,5,"input",[["class","form-control"],["id","inputState"],["name","inputState"],["placeholder","Lviv region"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,74)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,74).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,74)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,74)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.inputState=n)&&i),i}),null,null)),r.ub(74,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(76,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(78,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(79,0,null,null,8,"div",[["class","form-group col-md-2"]],null,null,null,null,null)),(t()(),r.vb(80,0,null,null,1,"label",[["for","inputZip"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["City index"])),(t()(),r.vb(82,0,null,null,5,"input",[["class","form-control"],["id","inputZip"],["name","inputZip"],["placeholder","79049"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,83)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,83).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,83)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,83)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.inputZip=n)&&i),i}),null,null)),r.ub(83,16384,null,0,vs,[r.D,r.l,[2,bs]],null,null),r.Mb(1024,null,ms,(function(t){return[t]}),[vs]),r.ub(85,671744,null,0,ao,[[2,_s],[8,null],[8,null],[6,ms]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,ws,null,[ao]),r.ub(87,16384,null,0,Cs,[[4,ws]],null,null),(t()(),r.vb(88,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.signUP()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Sign up"]))],(function(t,e){var n=e.component;t(e,20,0,"inputEmail",n.inputEmail),t(e,29,0,"inputPassword",n.inputPassword),t(e,39,0,"inputStreet",n.inputStreet),t(e,48,0,"userFName",n.userFName),t(e,57,0,"userSName",n.userSName),t(e,67,0,"inputCity",n.inputCity),t(e,76,0,"inputState",n.inputState),t(e,85,0,"inputZip",n.inputZip)}),(function(t,e){t(e,8,0,r.Ib(e,12).ngClassUntouched,r.Ib(e,12).ngClassTouched,r.Ib(e,12).ngClassPristine,r.Ib(e,12).ngClassDirty,r.Ib(e,12).ngClassValid,r.Ib(e,12).ngClassInvalid,r.Ib(e,12).ngClassPending),t(e,17,0,r.Ib(e,22).ngClassUntouched,r.Ib(e,22).ngClassTouched,r.Ib(e,22).ngClassPristine,r.Ib(e,22).ngClassDirty,r.Ib(e,22).ngClassValid,r.Ib(e,22).ngClassInvalid,r.Ib(e,22).ngClassPending),t(e,26,0,r.Ib(e,31).ngClassUntouched,r.Ib(e,31).ngClassTouched,r.Ib(e,31).ngClassPristine,r.Ib(e,31).ngClassDirty,r.Ib(e,31).ngClassValid,r.Ib(e,31).ngClassInvalid,r.Ib(e,31).ngClassPending),t(e,36,0,r.Ib(e,41).ngClassUntouched,r.Ib(e,41).ngClassTouched,r.Ib(e,41).ngClassPristine,r.Ib(e,41).ngClassDirty,r.Ib(e,41).ngClassValid,r.Ib(e,41).ngClassInvalid,r.Ib(e,41).ngClassPending),t(e,45,0,r.Ib(e,50).ngClassUntouched,r.Ib(e,50).ngClassTouched,r.Ib(e,50).ngClassPristine,r.Ib(e,50).ngClassDirty,r.Ib(e,50).ngClassValid,r.Ib(e,50).ngClassInvalid,r.Ib(e,50).ngClassPending),t(e,54,0,r.Ib(e,59).ngClassUntouched,r.Ib(e,59).ngClassTouched,r.Ib(e,59).ngClassPristine,r.Ib(e,59).ngClassDirty,r.Ib(e,59).ngClassValid,r.Ib(e,59).ngClassInvalid,r.Ib(e,59).ngClassPending),t(e,64,0,r.Ib(e,69).ngClassUntouched,r.Ib(e,69).ngClassTouched,r.Ib(e,69).ngClassPristine,r.Ib(e,69).ngClassDirty,r.Ib(e,69).ngClassValid,r.Ib(e,69).ngClassInvalid,r.Ib(e,69).ngClassPending),t(e,73,0,r.Ib(e,78).ngClassUntouched,r.Ib(e,78).ngClassTouched,r.Ib(e,78).ngClassPristine,r.Ib(e,78).ngClassDirty,r.Ib(e,78).ngClassValid,r.Ib(e,78).ngClassInvalid,r.Ib(e,78).ngClassPending),t(e,82,0,r.Ib(e,87).ngClassUntouched,r.Ib(e,87).ngClassTouched,r.Ib(e,87).ngClassPristine,r.Ib(e,87).ngClassDirty,r.Ib(e,87).ngClassValid,r.Ib(e,87).ngClassInvalid,r.Ib(e,87).ngClassPending)}))}function oI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","d-flex  justify-content-around mymodal mt-2 mb-2 ml-2 mr-2"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-secondary submit w-50"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.resetForm()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-danger submit w-50 ml-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.signOUT()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Sign Out"]))],null,null)}function lI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,47,"header",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,46,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Pizza"])),(t()(),r.vb(4,0,null,null,1,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),r.vb(5,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r.vb(6,0,null,null,23,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,22,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,1,"a",[["class","nav-link"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Home"])),(t()(),r.vb(11,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(12,0,null,null,6,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,13).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(13,671744,[[2,4]],0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(14,1),r.ub(15,1720320,null,2,ni,[Yr,r.l,r.D,r.h,[2,Xr],[2,ti]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,1,{links:1}),r.Nb(603979776,2,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Products"])),(t()(),r.vb(19,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(20,0,null,null,6,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,21).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(21,671744,[[4,4]],0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(22,1),r.ub(23,1720320,null,2,ni,[Yr,r.l,r.D,r.h,[2,Xr],[2,ti]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,3,{links:1}),r.Nb(603979776,4,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Blog"])),(t()(),r.vb(27,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(28,0,null,null,1,"a",[["class","nav-link"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["About"])),(t()(),r.vb(30,0,null,null,4,"div",[["class","headerSection user-block nav-item"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,ZS)),r.ub(32,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.eb(0,[["signOut",2]],null,0,null,XS)),(t()(),r.eb(0,[["profile",2]],null,0,null,eI)),(t()(),r.vb(35,0,null,null,2,"div",[["class","headerSection user-block nav-item"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,nI)),r.ub(37,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.vb(38,0,null,null,7,"div",[["class","headerSection header-cart"]],null,null,null,null,null)),(t()(),r.vb(39,0,null,null,6,"a",[["class","basket mr-3"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,40).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(40,671744,null,0,ti,[Yr,Dn,v],{routerLink:[0,"routerLink"]},null),r.Jb(41,1),(t()(),r.vb(42,0,null,null,0,"img",[["alt","shopping-cart"],["src","assets/shopping-cart.svg"]],null,null,null,null,null)),(t()(),r.vb(43,0,null,null,2,"span",[["class","basketPrice"]],null,null,null,null,null)),(t()(),r.vb(44,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r.Rb(45,null,[""," \u0433\u0440\u043d"])),(t()(),r.eb(16777216,null,null,1,null,rI)),r.ub(47,16384,null,0,ht,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(0,[["signIn",2]],null,0,null,iI)),(t()(),r.eb(0,[["signUp",2]],null,0,null,sI)),(t()(),r.eb(0,[["delete",2]],null,0,null,oI))],(function(t,e){var n=e.component,i=t(e,14,0,"menu/pizza");t(e,13,0,i),t(e,15,0,"active");var s=t(e,22,0,"/blog");t(e,21,0,s),t(e,23,0,"active"),t(e,32,0,!n.out,r.Ib(e,33)),t(e,37,0,!n.up,r.Ib(e,34));var o=t(e,41,0,"/basket");t(e,40,0,o),t(e,47,0,n.admin)}),(function(t,e){var n=e.component;t(e,12,0,r.Ib(e,13).target,r.Ib(e,13).href),t(e,20,0,r.Ib(e,21).target,r.Ib(e,21).href),t(e,39,0,r.Ib(e,40).target,r.Ib(e,40).href),t(e,45,0,n.totalPrice)}))}var aI=r.tb({encapsulation:0,styles:[[""]],data:{}});function uI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-header",[],null,null,null,lI,JS)),r.ub(1,114688,null,0,KS,[go,DC,_l,QS],null,null),(t()(),r.vb(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(3,212992,null,0,ri,[$r,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0),t(e,3,0)}),null)}function cI(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-root",[],null,null,null,uI,aI)),r.ub(1,49152,null,0,s,[],null,null)],null,null)}var hI=r.rb("app-root",s,cI,{},{},[]);class dI extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new dI,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=pI||(pI=document.querySelector("base"),pI)?pI.getAttribute("href"):null;return null==e?null:(n=e,fI||(fI=document.createElement("a")),fI.setAttribute("href",n),"/"===fI.pathname.charAt(0)?fI.pathname:"/"+fI.pathname);var n}resetBaseElement(){pI=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return lt(document.cookie,t)}}let fI,pI=null;const gI=new r.q("TRANSITION_ID"),mI=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=l();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[gI,a,r.r],multi:!0}];class bI{static init(){Object(r.W)(new bI)}addToWindow(t){r.Bb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.Bb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.Bb.getAllAngularRootElements=()=>t.getAllRootElements(),r.Bb.frameworkStabilizers||(r.Bb.frameworkStabilizers=[]),r.Bb.frameworkStabilizers.push(t=>{const e=r.Bb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function vI(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.Bb.ng=r.Bb.ng||{})[t]=e)}const yI=(()=>({ApplicationRef:r.g,NgZone:r.z}))();function _I(t){return Object(r.xb)(t)}const wI=new r.q("EventManagerPlugins");class EI{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class CI{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=l().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class SI{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class II extends SI{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>l().remove(t))}}const OI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},TI=/%COMP%/g;function xI(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xI(t,i,n):(i=i.replace(TI,t),n.push(i))}return n}function kI(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class AI{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new PI(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new RI(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new jI(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=xI(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class PI{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(OI[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=OI[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=OI[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,kI(n)):this.eventManager.addEventListener(t,e,kI(n))}}class RI extends PI{constructor(t,e,n,r){super(t),this.component=n;const i=xI(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(TI,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(TI,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class jI extends PI{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=xI(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}class NI extends CI{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}const DI={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},MI=new r.q("HammerGestureConfig"),LI=new r.q("HammerLoader");class UI{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class FI extends CI{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!DI.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const VI=["alt","control","meta","shift"],qI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class HI extends CI{constructor(t){super(t)}supports(t){return null!=HI.parseEventName(t)}addEventListener(t,e,n){const r=HI.parseEventName(e),i=HI.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>l().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=HI._normalizeKey(e.pop());let i="";if(VI.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&BI.hasOwnProperty(e)&&(e=BI[e]))}return qI[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),VI.forEach(r=>{r!=n&&(0,zI[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{HI.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}let GI=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({factory:function(){return Object(r.Wb)($I)},token:t,providedIn:"root"}),t})(),$I=(()=>{class t extends GI{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.db)(e,"HTML")?Object(r.Tb)(e):Object(r.bb)(this._doc,String(e));case r.H.STYLE:return Object(r.db)(e,"Style")?Object(r.Tb)(e):e;case r.H.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.Tb)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.Ab)(e),Object(r.db)(e,"URL")?Object(r.Tb)(e):Object(r.cb)(String(e));case r.H.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.Tb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.mb)(t)}bypassSecurityTrustStyle(t){return Object(r.pb)(t)}bypassSecurityTrustScript(t){return Object(r.ob)(t)}bypassSecurityTrustUrl(t){return Object(r.qb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.nb)(t)}}return t.\u0275prov=Object(r.Vb)({factory:function(){return t=Object(r.Wb)(r.o),new $I(t.get(a));var t},token:t,providedIn:"root"}),t})();function WI(){return new r.m}const KI=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){dI.makeCurrent(),bI.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.Pb)(document),document},deps:[]}],QI=Object(r.R)(r.V,"browser",KI);class JI{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:JI,providers:[{provide:r.c,useValue:t.appId},{provide:gI,useExisting:r.c},mI]}}}"undefined"!=typeof window&&window;class ZI{}const YI="*";function XI(t,e=null){return{type:2,steps:t,options:e}}function tO(t){return{type:6,styles:t,offset:null}}function eO(t){Promise.resolve(null).then(t)}class nO{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class rO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?eO(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function iO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function sO(t){switch(t.length){case 0:return new nO;case 1:return t[0];default:return new rO(t)}}function oO(t,e,n,r,i={},s={}){const o=[],l=[];let a=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==a,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,l=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),l){case"!":l=i[n];break;case YI:l=s[n];break;default:l=e.normalizeStyleValue(n,r,l,o)}c[r]=l}),r||l.push(c),u=c,a=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return l}function lO(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&aO(n,"start",t)));break;case"done":t.onDone(()=>r(n&&aO(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&aO(n,"destroy",t)))}}function aO(t,e,n){const r=n.totalTime,i=uO(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function uO(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function cO(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function hO(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let dO=(t,e)=>!1,fO=(t,e)=>!1,pO=(t,e,n)=>[];const gO=iO();(gO||"undefined"!=typeof Element)&&(dO=(t,e)=>t.contains(e),fO=(()=>{if(gO||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):fO}})(),pO=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let mO=null,bO=!1;function vO(t){mO||(mO=("undefined"!=typeof document?document.body:null)||{},bO=!!mO.style&&"WebkitAppearance"in mO.style);let e=!0;return mO.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in mO.style,!e&&bO)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in mO.style),e}const yO=fO,_O=dO,wO=pO;function EO(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class CO{validateStyleProperty(t){return vO(t)}matchesElement(t,e){return yO(t,e)}containsElement(t,e){return _O(t,e)}query(t,e,n){return wO(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new nO(n,r)}}let SO=(()=>{class t{}return t.NOOP=new CO,t})();const IO="ng-enter",OO="ng-leave",TO="ng-trigger",xO=".ng-trigger",kO="ng-animating",AO=".ng-animating";function PO(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:RO(parseFloat(e[1]),e[2])}function RO(t,e){switch(e){case"s":return 1e3*t;default:return t}}function jO(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=RO(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=RO(parseFloat(o),n[4]));const l=n[5];l&&(s=l)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function NO(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function DO(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else NO(t,n);return n}function MO(t,e,n){return n?e+":"+n+";":""}function LO(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=MO(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=MO(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function UO(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=$O(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),iO()&&LO(t))}function FO(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=$O(e);t.style[n]=""}),iO()&&LO(t))}function VO(t){return Array.isArray(t)?1==t.length?t[0]:XI(t):t}const qO=new RegExp("{{\\s*(.+?)\\s*}}","g");function BO(t){let e=[];if("string"==typeof t){let n;for(;n=qO.exec(t);)e.push(n[1]);qO.lastIndex=0}return e}function zO(t,e,n){const r=t.toString(),i=r.replace(qO,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function HO(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const GO=/-+([a-z0-9])/g;function $O(t){return t.replace(GO,(...t)=>t[1].toUpperCase())}function WO(t,e){return 0===t||0===e}function KO(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=JO(t,e)}))}}return e}function QO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function JO(t,e){return window.getComputedStyle(t)[e]}const ZO="*";function YO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(eT(i,o)),"<"!=s[0]||i==ZO&&o==ZO||e.push(eT(o,i))}(t,n,e)):n.push(t),n}const XO=new Set(["true","1"]),tT=new Set(["false","0"]);function eT(t,e){const n=XO.has(t)||tT.has(t),r=XO.has(e)||tT.has(e);return(i,s)=>{let o=t==ZO||t==i,l=e==ZO||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?XO.has(t):tT.has(t)),!l&&r&&"boolean"==typeof s&&(l=s?XO.has(e):tT.has(e)),o&&l}}const nT=new RegExp("s*:selfs*,?","g");function rT(t,e,n){return new iT(t).build(e,n)}class iT{constructor(t){this._driver=t}build(t,e){const n=new sT(e);return this._resetContextStyleTimingState(n),QO(this,VO(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(oT(t)){const e=t;Object.keys(e).forEach(t=>{BO(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=HO(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=QO(this,VO(t.animation),e);return{type:1,matchers:YO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:lT(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>QO(this,t,e)),options:lT(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=QO(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:lT(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return aT(jO(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=aT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||jO(r,e),aT(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:tO({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=tO(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==YI?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(oT(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let l=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),l=!1),i=o.startTime),l&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=BO(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,l=0;const a=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let a=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(oT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(oT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=a&&(r++,u=n.offset=a),o=o||u<0||u>1,s=s||u<l,l=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return a.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:QO(this,VO(t.animation),e),options:lT(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:lT(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:lT(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(nT,"")),[t=t.replace(/@\*/g,xO).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,AO),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,cO(e.collectedStyles,e.currentQuerySelector,{});const o=QO(this,VO(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:lT(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:jO(t.timings,e.errors,!0);return{type:12,animation:QO(this,VO(t.animation),e),timings:n,options:null}}}class sT{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oT(t){return!Array.isArray(t)&&"object"==typeof t}function lT(t){var e;return t?(t=NO(t)).params&&(t.params=(e=t.params)?NO(e):null):t={},t}function aT(t,e,n){return{duration:t,delay:e,easing:n}}function uT(t,e,n,r,i,s,o=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:l}}class cT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hT=new RegExp(":enter","g"),dT=new RegExp(":leave","g");function fT(t,e,n,r,i,s={},o={},l,a,u=[]){return(new pT).buildKeyframes(t,e,n,r,i,s,o,l,a,u)}class pT{buildKeyframes(t,e,n,r,i,s,o,l,a,u=[]){a=a||new cT;const c=new mT(t,e,a,r,i,u,[]);c.options=l,c.currentTimeline.setStyles([s],null,c.errors,l),QO(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,l)}return h.length?h.map(t=>t.buildKeyframes()):[uT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?PO(n.duration):null,s=null!=n.delay?PO(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),QO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=gT);const t=PO(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>QO(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?PO(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),QO(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return jO(e.params?zO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?PO(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=gT);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(l=o.currentTimeline),QO(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":l=o-l;break;case"full":l=n.currentStaggerTime}const a=e.currentTimeline;l&&a.delayNextStep(l);const u=a.currentTime;QO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const gT={};class mT{constructor(t,e,n,r,i,s,o,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bT(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=PO(n.duration)),null!=n.delay&&(r.delay=PO(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=zO(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new mT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=gT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new vT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(hT,"."+this._enterClassName)).replace(dT,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bT{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||YI,this._currentKeyframe[t]=YI}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=YI})):DO(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=zO(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:YI),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=DO(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==YI&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?HO(t.values()):[],s=e.size?HO(e.values()):[];if(n){const t=r[0],e=NO(t);t.offset=0,e.offset=1,r=[t,e]}return uT(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class vT extends bT{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,l=DO(t[0],!1);l.offset=0,i.push(l);const a=DO(t[0],!1);a.offset=yT(o),i.push(a);const u=t.length-1;for(let r=1;r<=u;r++){let o=DO(t[r],!1);o.offset=yT((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return uT(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function yT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class _T{}class wT extends _T{normalizePropertyName(t,e){return $O(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ET[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ET=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function CT(t,e,n,r,i,s,o,l,a,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:l,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const ST={};class IT{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,l,a,u){const c=[],h=this.ast.options&&this.ast.options.params||ST,d=this.buildStyles(n,o&&o.params||ST,c),f=l&&l.params||ST,p=this.buildStyles(r,f,c),g=new Set,m=new Map,b=new Map,v="void"===r,y={params:Object.assign(Object.assign({},h),f)},_=u?[]:fT(t,e,this.ast.animation,i,s,d,p,y,a,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return CT(e,this._triggerName,n,r,v,d,p,[],[],m,b,w,c);_.forEach(t=>{const n=t.element,r=cO(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=cO(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=HO(g.values());return CT(e,this._triggerName,n,r,v,d,p,_,E,m,b,w)}}class OT{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=NO(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=zO(s,r,e)),n[t]=s})}}),n}}class TT{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new OT(t.style,t.options&&t.options.params||{})}),xT(this.states,"true","1"),xT(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new IT(t,e,this.states))}),this.fallbackTransition=new IT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function xT(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const kT=new cT;class AT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=rT(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=oO(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=fT(this._driver,e,i,IO,OO,{},{},n,kT,r),s.forEach(t=>{const e=cO(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,YI)})});const l=sO(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=uO(e,"","","");return lO(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const PT="ng-animate-queued",RT="ng-animate-disabled",jT=".ng-animate-disabled",NT=[],DT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class LT{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=NO(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const UT="void",FT=new LT(UT);class VT{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,WT(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=cO(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const l=cO(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(WT(t,TO),WT(t,"ng-trigger-"+e),l[e]=FT),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new BT(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(WT(t,TO),WT(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const a=new LT(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&a.absorbOptions(l.options),o[e]=a,l||(l=FT),a.value!==UT&&l.value===a.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(l.params,a.params)){const e=[],n=i.matchStyles(l.value,l.params,e),r=i.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{FO(t,n),UO(t,r)})}return}const u=cO(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(l.value,a.value,t,a.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:l,toState:a,player:s,isFallbackTransition:h}),h||(WT(t,PT),s.onStart(()=>{KT(t,PT)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,xO,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,UT,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&sO(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||FT,o=new LT(UT),l=new BT(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==DT||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){WT(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=uO(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,lO(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qT{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new VT(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(zT(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!zT(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),WT(t,RT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),KT(t,RT))}removeNode(t,e,n,r){if(zT(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return zT(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,xO,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,AO,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return sO(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=DT,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,jT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,jT,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)WT(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?sO(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new cT,r=[],i=new Map,s=[],o=new Map,l=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=$T(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=IO+p++;f.set(e,n),t.forEach(t=>WT(t,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const v=new Map,y=$T(h,Array.from(m));y.forEach((t,e)=>{const n=OO+p++;v.set(e,n),t.forEach(t=>WT(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>KT(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>KT(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>FO(i,p.fromStyles)),e.onDestroy(()=>UO(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>FO(i,p.fromStyles)),e.onDestroy(()=>UO(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>cO(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=l.get(e);t||l.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=a.get(e);r||a.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{cO(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>JT(t,l,a)),I=new Map;GT(I,this.driver,b,a,YI).forEach(t=>{JT(t,l,a)&&S.push(t)});const O=new Map;d.forEach((t,e)=>{GT(O,this.driver,new Set(t),l,"!")}),S.forEach(t=>{const e=I.get(t),n=O.get(t);I.set(t,Object.assign(Object.assign({},e),n))});const T=[],x=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>UO(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,O,I);if(s.setRealPlayer(n),t===k)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=sO(e)),r.push(s)}}else FO(e,o.fromStyles),s.onDestroy(()=>UO(e,o.toStyles)),x.push(s),u.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=sO(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(KT(t,OO),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,AO,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?QT(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==UT;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,l=t!==r,a=cO(n,t,[]);this._getPreviousPlayers(t,l,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}FO(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,l=e.element,a=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new nO(e.duration,e.delay);const f=h!==l,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof rO?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||NT).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),b=oO(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&c.add(h),f){const e=new BT(t,o,h);e.setRealPlayer(v),a.push(e)}return v});a.forEach(t=>{cO(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>WT(t,kO));const d=sO(h);return d.onDestroy(()=>{u.forEach(t=>KT(t,kO)),UO(l,e.toStyles)}),c.forEach(t=>{cO(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new nO(t.duration,t.delay)}}class BT{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new nO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>lO(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){cO(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zT(t){return t&&1===t.nodeType}function HT(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function GT(t,e,n,r,i){const s=[];n.forEach(t=>s.push(HT(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=MT,o.push(r))}),t.set(r,s)});let l=0;return n.forEach(t=>HT(t,s[l++])),o}function $T(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function WT(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function KT(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function QT(t,e,n){sO(n).onDone(()=>t.processLeaveNode(e))}function JT(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ZT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qT(t,e,n),this._timelineEngine=new AT(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=rT(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new TT(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=hO(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=hO(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function YT(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=tx(e[0]),e.length>1&&(r=tx(e[e.length-1]))):e&&(n=tx(e)),n||r?new XT(t,n,r):null}let XT=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&UO(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(UO(this._element,this._initialStyles),this._endStyles&&(UO(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(FO(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(FO(this._element,this._endStyles),this._endStyles=null),UO(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function tx(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ex(i)&&(e=e||{},e[i]=t[i])}return e}function ex(t){return"display"===t||"position"===t}const nx="animation",rx="animationend";class ix{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=cx(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),ux(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ax(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){sx(this._element,this._name,"paused")}resume(){sx(this._element,this._name,"running")}setPosition(t){const e=ox(this._element,this._name);this._position=t*this._duration,ux(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ax(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=cx(t,"").split(","),r=lx(n,e);r>=0&&(n.splice(r,1),ux(t,"",n.join(",")))}(this._element,this._name))}}function sx(t,e,n){ux(t,"PlayState",n,ox(t,e))}function ox(t,e){const n=cx(t,"");return n.indexOf(",")>0?lx(n.split(","),e):lx([n],e)}function lx(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ax(t,e,n){n?t.removeEventListener(rx,e):t.addEventListener(rx,e)}function ux(t,e,n,r){const i=nx+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function cx(t,e){return t.style[nx+e]}class hx{constructor(t,e,n,r,i,s,o,l){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ix(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:JO(this.element,n))})}this.currentSnapshot=t}}class dx extends nO{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=EO(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class fx{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return vO(t)}matchesElement(t,e){return yO(t,e)}containsElement(t,e){return _O(t,e)}query(t,e,n){return wO(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>EO(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const l=s.filter(t=>t instanceof hx),a={};WO(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=KO(t,e,a));if(0==n)return new dx(t,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=YT(t,e),f=new hx(t,e,c,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class px{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:JO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class gx{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(mx().toString()),this._cssKeyframesDriver=new fx}validateStyleProperty(t){return vO(t)}matchesElement(t,e){return yO(t,e)}containsElement(t,e){return _O(t,e)}query(t,e,n){return wO(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const l={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(l.easing=i);const a={},u=s.filter(t=>t instanceof px);WO(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const c=YT(t,e=KO(t,e=e.map(t=>DO(t,!1)),a));return new px(t,e,l,c)}}function mx(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class bx extends ZI{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?XI(t):t;return _x(this._renderer,null,e,"register",[n]),new vx(e,this._renderer)}}class vx extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new yx(this._id,t,e||{},this._renderer)}}class yx{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _x(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function _x(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const wx="@",Ex="@.disabled";class Cx{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Sx("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Ix(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Sx{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==wx&&e==Ex?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ix extends Sx{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==wx?"."==e.charAt(1)&&e==Ex?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==wx){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=wx&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class Ox extends ZT{constructor(t,e,n){super(t.body,e,n)}}function Tx(){return"function"==typeof mx()?new gx:new fx}function xx(){return new wT}function kx(t,e,n){return new Cx(t,e,n)}const Ax=new r.q("AnimationModuleType");class Px{}let Rx=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return this.checkLogin()}checkLogin(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));if("user"===t.role&&null!=t)return!0}this.router.navigateByUrl("home")}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Yr))},token:t,providedIn:"root"}),t})(),jx=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return this.checkLogin()}checkLogin(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));return console.log(t),"admin"===t.role&&null!=t}this.router.navigateByUrl("home")}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Yr))},token:t,providedIn:"root"}),t})();class Nx{}var Dx=r.sb(i,[s],(function(t){return r.Fb([r.Gb(512,r.j,r.X,[[8,[xi,fs,Tl,RC,VC,$C,ZC,nS,pS,kS,FS,WS,zS,hI]],[3,r.j],r.x]),r.Gb(5120,r.u,r.ib,[[3,r.u]]),r.Gb(4608,st,ot,[r.u]),r.Gb(5120,r.lb,r.jb,[r.z]),r.Gb(5120,r.c,r.fb,[]),r.Gb(5120,r.s,r.gb,[]),r.Gb(5120,r.t,r.hb,[]),r.Gb(4608,GI,$I,[a]),r.Gb(6144,r.G,null,[GI]),r.Gb(4608,MI,UI,[]),r.Gb(5120,wI,(function(t,e,n,r,i,s,o,l){return[new NI(t,e,n),new HI(r),new FI(i,s,o,l)]}),[a,r.z,r.B,a,a,MI,r.Y,[2,LI]]),r.Gb(4608,EI,EI,[wI,r.z]),r.Gb(135680,II,II,[a]),r.Gb(4608,AI,AI,[EI,II,r.c]),r.Gb(5120,SO,Tx,[]),r.Gb(5120,_T,xx,[]),r.Gb(4608,ZT,Ox,[a,SO,_T]),r.Gb(5120,r.E,kx,[AI,ZT,r.z]),r.Gb(6144,SI,null,[II]),r.Gb(4608,r.M,r.M,[r.z]),r.Gb(5120,Dn,_i,[Yr]),r.Gb(4608,li,li,[]),r.Gb(6144,si,null,[li]),r.Gb(135680,ai,ai,[Yr,r.w,r.i,r.r,si]),r.Gb(4608,oi,oi,[]),r.Gb(5120,ui,gi,[Yr,St,ci]),r.Gb(5120,Si,Ci,[wi]),r.Gb(5120,r.b,(function(t){return[t]}),[Si]),r.Gb(4608,ns,rs,[a,r.B,ts]),r.Gb(4608,is,is,[ns,es]),r.Gb(5120,Ki,(function(t){return[t]}),[is]),r.Gb(4608,Yi,Yi,[]),r.Gb(6144,Zi,null,[Yi]),r.Gb(4608,Xi,Xi,[Zi]),r.Gb(6144,Pi,null,[Xi]),r.Gb(4608,Ai,ss,[Pi,r.r]),r.Gb(4608,$i,$i,[Ai]),r.Gb(4608,Ds,Ds,[]),r.Gb(5120,Ml.d,Ml.h,[Ml.c,r.z,[2,Ml.b]]),r.Gb(4608,IC,IC,[Ml.c,[2,Ml.b],[2,EC],r.B,r.z,[2,CC],[2,SC]]),r.Gb(4608,ZI,bx,[r.E,a]),r.Gb(4608,$w,$w,[Ml.c,[2,Ml.b],[2,qw],[2,zw],r.B,r.z,[2,Bw],[2,Hw],[2,Ll]]),r.Gb(4608,zl,zl,[Ml.c,[2,Ml.b],r.B,r.z,[2,Ll],[2,Ul],[2,Fl],[2,Vl],[2,ql],[2,Bl]]),r.Gb(4608,cl,cl,[r.z,r.E,r.B]),r.Gb(4608,Co,Co,[r.j,r.z,r.r,cl,r.g]),r.Gb(4608,_l,_l,[r.E,Co,[2,gl]]),r.Gb(1073742336,Et,Et,[]),r.Gb(1024,r.m,WI,[]),r.Gb(1024,r.y,(function(){return[fi()]}),[]),r.Gb(512,wi,wi,[r.r]),r.Gb(1024,r.d,(function(t,e){return[(n=t,vI("probe",_I),vI("coreTokens",Object.assign(Object.assign({},yI),(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>_I),Ei(e)];var n}),[[2,r.y],wi]),r.Gb(512,r.e,r.e,[[2,r.d]]),r.Gb(131584,r.g,r.g,[r.z,r.Y,r.r,r.m,r.j,r.e]),r.Gb(1073742336,r.f,r.f,[r.g]),r.Gb(1073742336,JI,JI,[[3,JI]]),r.Gb(1024,hi,bi,[[3,Yr]]),r.Gb(512,fn,pn,[]),r.Gb(512,$r,$r,[]),r.Gb(256,ci,{},[]),r.Gb(1024,v,mi,[u,[2,_],ci]),r.Gb(512,C,C,[v,u]),r.Gb(512,r.i,r.i,[]),r.Gb(512,r.w,r.J,[r.i,[2,r.K]]),r.Gb(1024,zr,(function(){return[[{path:"",pathMatch:"full",redirectTo:"blog"},{path:"blog",component:ki},{path:"basket",component:po},{path:"profile",component:xl,canActivate:[Rx]},{path:"menu",component:jC,children:[{path:":category",component:qC}]},{path:"blog/:id",component:WC},{path:"admin",component:YC,canActivate:[jx],children:[{path:"",pathMatch:"full",redirectTo:"category"},{path:"category",component:sS},{path:"products",component:vS},{path:"adminBlogs",component:PS}]},{path:"**",component:ki}]]}),[]),r.Gb(1024,Yr,yi,[fn,$r,C,r.r,r.w,r.i,zr,ci,[2,Wr],[2,Mr]]),r.Gb(1073742336,pi,pi,[[2,hi],[2,Yr]]),r.Gb(1073742336,Nx,Nx,[]),r.Gb(1073742336,os,os,[]),r.Gb(1073742336,ls,ls,[]),r.Gb(1073742336,co,co,[]),r.Gb(1073742336,ho,ho,[]),r.Gb(1073742336,wl,wl,[]),r.Gb(1073742336,Ml.a,Ml.a,[r.B]),r.Gb(1073742336,OC,OC,[]),r.Gb(1073742336,TC,TC,[]),r.Gb(1073742336,Px,Px,[]),r.Gb(1073742336,Ww,Ww,[]),r.Gb(1073742336,Hl,Hl,[]),r.Gb(1073742336,i,i,[]),r.Gb(256,r.k,r.kb,[]),r.Gb(256,r.Z,"root",[]),r.Gb(256,ts,"XSRF-TOKEN",[]),r.Gb(256,es,"X-XSRF-TOKEN",[]),r.Gb(256,Ml.c,{apiKey:"AIzaSyDl_ywpdlve0WpKjGSxis2QWjNwrehBz4U",authDomain:"admin-blog-f6b6a.firebaseapp.com",databaseURL:"https://admin-blog-f6b6a.firebaseio.com",projectId:"admin-blog-f6b6a",storageBucket:"admin-blog-f6b6a.appspot.com",messagingSenderId:"537490617625",appId:"1:537490617625:web:39a3c7714c343588518188"},[]),r.Gb(256,Ml.b,void 0,[]),r.Gb(256,Ax,"BrowserAnimations",[])])}));Object(r.S)(),QI().bootstrapModuleFactory(Dx).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return a}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class l extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);